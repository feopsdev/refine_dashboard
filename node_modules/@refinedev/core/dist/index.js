"use client"
var Ui=Object.create;var Yt=Object.defineProperty;var Mi=Object.getOwnPropertyDescriptor;var wi=Object.getOwnPropertyNames;var Ii=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty;var o=(e,t)=>Yt(e,"name",{value:t,configurable:!0});var Fi=(e,t)=>{for(var r in t)Yt(e,r,{get:t[r],enumerable:!0})},_s=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wi(t))!Si.call(e,n)&&n!==r&&Yt(e,n,{get:()=>t[n],enumerable:!(s=Mi(t,n))||s.enumerable});return e};var B=(e,t,r)=>(r=e!=null?Ui(Ii(e)):{},_s(t||!e||!e.__esModule?Yt(r,"default",{value:e,enumerable:!0}):r,e)),Ai=e=>_s(Yt({},"__esModule",{value:!0}),e);var xu={};Fi(xu,{AccessControlContext:()=>ut,AuthPage:()=>ci,Authenticated:()=>Pi,AutoSaveIndicator:()=>Li,CanAccess:()=>Ci,ErrorComponent:()=>si,GitHubBanner:()=>Di,KeyBuilder:()=>Ct,LayoutWrapper:()=>xi,LoginPage:()=>$r,ReadyPage:()=>Eo,Refine:()=>Ri,ResourceContext:()=>nt,RouteChangeHandler:()=>Uo,TranslationContext:()=>Ge,UndoableQueue:()=>bs,WelcomePage:()=>li,createTreeView:()=>Ko,file2Base64:()=>Cn,flattenObjectKeys:()=>cr,generateDefaultDocumentTitle:()=>zo,getDefaultFilter:()=>hn,getDefaultSortOrder:()=>Pn,getNextPageParam:()=>sr,getPreviousPageParam:()=>nr,handleUseParams:()=>Qo,importCSVMapper:()=>qt,keys:()=>Oe,legacyResourceTransform:()=>ar,matchResourceFromRoute:()=>No,parseTableParams:()=>pr,parseTableParamsFromQuery:()=>Tn,pickDataProvider:()=>_,pickNotDeprecated:()=>S,propertyPathToArray:()=>Xo,queryKeys:()=>Vo,routeGenerator:()=>or,setInitialFilters:()=>mr,setInitialSorters:()=>fr,stringifyTableParams:()=>dr,unionFilters:()=>Dt,unionSorters:()=>lr,useActiveAuthProvider:()=>J,useApiUrl:()=>jn,useAuthenticated:()=>Mn,useBack:()=>bo,useBreadcrumb:()=>ou,useCan:()=>ks,useCanWithoutCache:()=>qi,useCancelNotification:()=>Xe,useCheckError:()=>wn,useCreate:()=>Kt,useCreateMany:()=>ao,useCustom:()=>Yn,useCustomMutation:()=>ea,useDataProvider:()=>ne,useDelete:()=>Gn,useDeleteMany:()=>_n,useExport:()=>zi,useForgotPassword:()=>Jr,useForm:()=>_i,useGetIdentity:()=>Zr,useGetLocale:()=>Ea,useGetToPath:()=>yt,useGo:()=>ye,useHandleNotification:()=>ce,useImport:()=>Zi,useInfiniteList:()=>sa,useInvalidate:()=>ve,useIsAuthenticated:()=>gr,useIsExistAuthentication:()=>eo,useLink:()=>gt,useList:()=>Vt,useLiveMode:()=>Ms,useLoadingOvertime:()=>re,useLog:()=>Ke,useLogList:()=>ru,useLogin:()=>Qt,useLogout:()=>yr,useMany:()=>to,useMenu:()=>oi,useMeta:()=>q,useModal:()=>Yi,useMutationMode:()=>ze,useNavigation:()=>fe,useNotification:()=>Se,useOnError:()=>ue,useOne:()=>Bt,useParse:()=>fo,useParsed:()=>Re,usePermissions:()=>bn,usePublish:()=>Ne,useRedirectionAfterSubmission:()=>Ss,useRefineContext:()=>se,useRegister:()=>Yr,useResource:()=>W,useResourceSubscription:()=>ot,useResourceWithRoute:()=>Us,useRouterContext:()=>ie,useRouterType:()=>ee,useSelect:()=>eu,useSetLocale:()=>La,useShow:()=>Xi,useSubscription:()=>Oi,useSyncWithLocation:()=>jr,useTable:()=>tu,useTitle:()=>mn,useToPath:()=>Va,useTranslate:()=>j,useUpdate:()=>Rr,useUpdateMany:()=>On,useUpdatePassword:()=>qr,useUserFriendlyName:()=>vt,useWarnAboutChange:()=>At,userFriendlyResourceName:()=>er});module.exports=Ai(xu);var qe=B(require("react"));var qo=require("@tanstack/react-query"),es=require("@refinedev/devtools-internal");var Xr=B(require("qs")),Yo=B(require("lodash/unionWith")),Jo=B(require("lodash/differenceWith")),gn=B(require("warn-once"));var Jt=o(e=>e/1e3,"userFriendlySecond");var js=B(require("lodash/zip")),Xs=B(require("lodash/fromPairs"));var qt=o((e,t=r=>r)=>{let[r,...s]=e;return s.map(n=>(0,Xs.default)((0,js.default)(r,n))).map((n,i,a)=>t.call(void 0,n,i,a))},"importCSVMapper");var ko=B(require("pluralize"));var er=o((e="",t)=>{let r=tr(e);return t==="singular"?ko.default.singular(r):ko.default.plural(r)},"userFriendlyResourceName");var Qo=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var S=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function et(e,t){return e.findIndex((r,s)=>s<=e.length-t.length&&t.every((n,i)=>e[s+i]===n))}o(et,"arrayFindIndex");function ki(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(et(e,["auth","login"])!==-1)return["useLogin"];if(et(e,["auth","logout"])!==-1)return["useLogout"];if(et(e,["auth","identity"])!==-1)return["getUserIdentity"];if(et(e,["auth","register"])!==-1)return["useRegister"];if(et(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(et(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(et(e,["auth","onError"])!==-1)return["useCheckError"];if(et(e,["auth","permissions"])!==-1)return["usePermissions"];if(et(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(ki,"convertToLegacy");var Ue=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return ki(this.segments)}get(t){return t?this.legacy():this.segments}};o(Ue,"BaseKeyBuilder");var je=class extends Ue{constructor(t){super(t)}params(t){return new Ue([...this.segments,t])}};o(je,"ParamsKeyBuilder");var Ar=class extends Ue{constructor(t){super(t)}id(t){return new je([...this.segments,t?String(t):void 0])}};o(Ar,"DataIdRequiringKeyBuilder");var kr=class extends Ue{constructor(t){super(t)}ids(...t){return new je([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(kr,"DataIdsRequiringKeyBuilder");var Qr=class extends Ue{constructor(t){super(t)}action(t){if(t==="one")return new Ar([...this.segments,t]);if(t==="many")return new kr([...this.segments,t]);if(["list","infinite"].includes(t))return new je([...this.segments,t]);throw new Error("Invalid action type")}};o(Qr,"DataResourceKeyBuilder");var Vr=class extends Ue{constructor(t){super(t)}resource(t){return new Qr([...this.segments,t])}mutation(t){return new je([...t==="custom"?this.segments:[this.segments[0]],t])}};o(Vr,"DataKeyBuilder");var Br=class extends Ue{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(Br,"AuthKeyBuilder");var Nr=class extends Ue{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(Nr,"AccessResourceKeyBuilder");var Kr=class extends Ue{constructor(t){super(t)}resource(t){return new Nr([...this.segments,t])}};o(Kr,"AccessKeyBuilder");var Gr=class extends Ue{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(Gr,"AuditActionKeyBuilder");var Hr=class extends Ue{constructor(t){super(t)}resource(t){return new Gr([...this.segments,t])}action(t){return new je([...this.segments,t])}};o(Hr,"AuditKeyBuilder");var Ct=class extends Ue{constructor(t){super(t)}data(t){return new Vr(["data",t||"default"])}auth(){return new Br(["auth"])}access(){return new Kr(["access"])}audit(){return new Hr(["audit"])}};o(Ct,"KeyBuilder");var Oe=o(()=>new Ct([]),"keys");var Vo=o((e,t,r,s)=>{let n=t||"default",i={all:[n],resourceAll:[n,e||""],list:a=>[...i.resourceAll,"list",{...a,...S(r,s)||{}}],many:a=>[...i.resourceAll,"getMany",a&&a.map(String),{...S(r,s)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...S(r,s)||{}}],logList:a=>["logList",e,a,s].filter(u=>u!==void 0)};return i},"queryKeys"),tt=o(e=>(t,r,s,n)=>{let i=r||"default";return{all:Oe().data(i).get(e),resourceAll:Oe().data(r).resource(t??"").get(e),list:u=>Oe().data(r).resource(t??"").action("list").params({...u,...S(s,n)||{}}).get(e),many:u=>Oe().data(r).resource(t??"").action("many").ids(...u??[]).params({...S(s,n)||{}}).get(e),detail:u=>Oe().data(r).resource(t??"").action("one").id(u??"").params({...S(s,n)||{}}).get(e),logList:u=>[...Oe().audit().resource(t).action("list").params(u).get(e),n].filter(p=>p!==void 0)}},"queryKeysReplacement");var Bo=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var Ft=o(e=>e.startsWith(":"),"isParameter");var Ye=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var Zs=o((e,t)=>{let r=Ye(e),s=Ye(t);return r.length===s.length},"isSegmentCountsSame");var be=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var Ys=o((e,t)=>{let r=be(e),s=be(t);if(!Zs(r,s))return!1;let n=Ye(r);return Ye(s).every((a,u)=>Ft(a)||a===n[u])},"checkBySegments");var Js=o((e,t,r)=>{let s=be(r||""),n=`${s}${s?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath");var Be=o((e,t)=>{var n,i;let r=S((n=e.meta)==null?void 0:n.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var rr=o((e,t,r)=>{let s=[],n=Be(e,t);for(;n;)s.push(n),n=Be(n,t);if(s.length!==0)return`/${s.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return be(a)}).join("/")}`},"getParentPrefixForResource");var Ce=o((e,t,r)=>{let s=[],n=["list","show","edit","create","clone"],i=rr(e,t,r);return n.forEach(a=>{var c,d;let u=r&&a==="clone"?e.create:e[a],p;typeof u=="function"||r?p=Js(r?((c=e.meta)==null?void 0:c.route)??((d=e.options)==null?void 0:d.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?p=u:typeof u=="object"&&(p=u.path),p&&s.push({action:a,resource:e,route:`/${p.replace(/^\//,"")}`})}),s},"getActionRoutesFromResource");var qs=o(e=>{var n;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:Ye(be(i.route))})),r=((n=t[0])==null?void 0:n.splitted.length)??0,s=[...t];for(let i=0;i<r;i++){let a=s.filter(u=>!Ft(u.splitted[i]));if(a.length!==0){if(a.length===1){s=a;break}s=a}}return s[0]},"pickMatchedRoute");var No=o((e,t)=>{let s=t.flatMap(i=>Ce(i,t)).filter(i=>Ys(e,i.route)),n=qs(s);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute");var or=o((e,t)=>{var n;let r,s=rr(e,t,!0);if(s){let i=S(e.meta,e.options);r=`${s}/${(i==null?void 0:i.route)??e.name}`}else r=((n=e.options)==null?void 0:n.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var Ko=o(e=>{var a;let t=[],r={},s={},n,i;for(let u=0;u<e.length;u++){n=e[u];let p=n.route??((a=S(n==null?void 0:n.meta,n.options))==null?void 0:a.route)??"";r[p]=n,r[p].children=[],s[n.name]=n,s[n.name].children=[]}for(let u in r)r.hasOwnProperty(u)&&(i=r[u],i.parentName&&s[i.parentName]?s[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var tr=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");var $o=B(require("react")),Ho=B(require("pluralize"));var en=B(require("react"));var Go=o(({children:e})=>en.default.createElement("div",null,e),"DefaultLayout");var Me={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:tr,plural:Ho.default.plural,singular:Ho.default.singular},disableServerSideValidation:!1},we=$o.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Go,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Me}),tn=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,undoableTimeout:n,children:i,DashboardPage:a,Title:u,Layout:p=Go,Header:c,Sider:d,Footer:f,OffLayoutArea:R,LoginPage:g=$r,catchAll:x,liveMode:E="off",onLiveEvent:w,options:m})=>$o.default.createElement(we.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,Title:u,undoableTimeout:n,Layout:p,Header:c,Sider:d,Footer:f,OffLayoutArea:R,DashboardPage:a,LoginPage:g,catchAll:x,liveMode:E,onLiveEvent:w,options:m}},i),"RefineContextProvider");var Wo=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:s,reactQueryClientConfig:n,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:p}={})=>{var R,g,x,E,w,m,h,D;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??s??Me.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Me.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??Me.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??p??Me.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Me.liveMode,redirect:{afterCreate:((R=e==null?void 0:e.redirect)==null?void 0:R.afterCreate)??Me.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??Me.redirect.afterClone,afterEdit:((x=e==null?void 0:e.redirect)==null?void 0:x.afterEdit)??Me.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Me.overtime,textTransformers:{humanize:((E=e==null?void 0:e.textTransformers)==null?void 0:E.humanize)??Me.textTransformers.humanize,plural:((w=e==null?void 0:e.textTransformers)==null?void 0:w.plural)??Me.textTransformers.plural,singular:((m=e==null?void 0:e.textTransformers)==null?void 0:m.singular)??Me.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Me.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},d=(e==null?void 0:e.disableTelemetry)??t??!1,f={clientConfig:((h=e==null?void 0:e.reactQuery)==null?void 0:h.clientConfig)??n??{},devtoolConfig:((D=e==null?void 0:e.reactQuery)==null?void 0:D.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:d,reactQueryWithDefaults:f}},"handleRefineOptions");var Oo=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var Wr=o(async(e,t,r)=>{let s=[];for(let[n,i]of e.entries())try{let a=await i();s.push(t(a,n))}catch(a){s.push(r(a,n))}return s},"sequentialPromises");var ge=o((e,t=[],r=!1)=>{if(!e)return;if(r){let n=t.find(a=>be(a.route??"")===be(e));return n||t.find(a=>a.name===e)}let s=t.find(n=>n.identifier===e);return s||(s=t.find(n=>n.name===e)),s},"pickResource");var _=o((e,t,r)=>{if(t)return t;let s=ge(e,r),n=S(s==null?void 0:s.meta,s==null?void 0:s.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider");var rt=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var sr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let s=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/n);return s<i?Number(s)+1:void 0},"getNextPageParam"),nr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let s=(t==null?void 0:t.current)||1;return s===1?void 0:s-1},"getPreviousPageParam");var ar=o(e=>{let t=[];return e.forEach(r=>{var s,n;t.push({...r,label:((s=r.meta)==null?void 0:s.label)??((n=r.options)==null?void 0:n.label),route:or(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var rn=o(e=>Ye(be(e)).flatMap(r=>Ft(r)?[r.slice(1)]:[]),"pickRouteParams");var on=o((e,t={})=>e.reduce((r,s)=>{let n=t[s];return typeof n<"u"&&(r[s]=n),r},{}),"prepareRouteParams");var Ie=o((e,t={},r={},s={})=>{let n=rn(e),i=on(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...s});return e.replace(/:([^\/]+)/g,(a,u)=>{let p=i[u];return typeof p<"u"?`${p}`:a})},"composeRoute");var bt=B(require("react"));var sn=bt.default.createContext({}),nn=o(({children:e,isProvided:t,...r})=>{let{replace:s}=fe(),n=o(async p=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"loginFunc"),i=o(async p=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"registerFunc"),a=o(async p=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"logoutFunc"),u=o(async p=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,p)),Promise.resolve()}catch(d){return d!=null&&d.redirectPath&&s(d.redirectPath),Promise.reject(d)}},"checkAuthFunc");return bt.default.createElement(sn.Provider,{value:{...r,login:n,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),an=bt.default.createContext({}),un=o(({children:e,isProvided:t,...r})=>{let s=o(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(f){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogin"),n=o(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(f){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleRegister"),i=o(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(f){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogout"),a=o(async c=>{var d;try{let f=await((d=r.check)==null?void 0:d.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleCheck"),u=o(async c=>{var d;try{let f=await((d=r.forgotPassword)==null?void 0:d.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleForgotPassword"),p=o(async c=>{var d;try{let f=await((d=r.updatePassword)==null?void 0:d.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleUpdatePassword");return bt.default.createElement(an.Provider,{value:{...r,login:s,logout:i,check:a,register:n,forgotPassword:u,updatePassword:p,isProvided:t}},e)},"AuthBindingsContextProvider"),de=o(()=>bt.default.useContext(sn),"useLegacyAuthContext"),Te=o(()=>bt.default.useContext(an),"useAuthBindingsContext");var J=o(()=>{let e=de(),t=Te();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var ir=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let s=e===!1?"off":"server",n=(t==null?void 0:t.mode)??s,i=S(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:n}},"handlePaginationParams");var Or=require("react");var zr=o(e=>{let[t,r]=(0,Or.useState)(!1);return(0,Or.useEffect)(()=>{let s=window.matchMedia(e);s.matches!==t&&r(s.matches);let n=o(()=>r(s.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery");var _r=o((e,t,r,s)=>{let n=s?e(t,s,r):e(t,r),i=r??t;return n===t||typeof n>"u"?i:n},"safeTranslate");function zo(e,t,r,s,n){var R;let i={create:"Create new ",clone:`#${s??""} Clone `,edit:`#${s??""} Edit `,show:`#${s??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((R=t==null?void 0:t.meta)==null?void 0:R.label)??er(a,r==="list"?"plural":"singular"),p=n??u,c=_r(e,"documentTitle.default","refine"),d=_r(e,"documentTitle.suffix"," | refine"),f=c;return r&&a&&(f=_r(e,`documentTitle.${a}.${r}`,`${i[r]??""}${p}${d}`,{id:s})),f}o(zo,"generateDefaultDocumentTitle");var cn=require("react");var ze=o(()=>{let{mutationMode:e,undoableTimeout:t}=(0,cn.useContext)(we);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");var jo=require("react");var ur=B(require("react"));var _o=ur.default.createContext({}),pn=o(({children:e})=>{let[t,r]=(0,ur.useState)(!1);return ur.default.createElement(_o.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var At=o(()=>{let{warnWhenUnsavedChanges:e}=(0,jo.useContext)(we),{warnWhen:t,setWarnWhen:r}=(0,jo.useContext)(_o);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");var dn=require("react");var jr=o(()=>{let{syncWithLocation:e}=(0,dn.useContext)(we);return{syncWithLocation:e}},"useSyncWithLocation");var ln=require("react");var mn=o(()=>{let{Title:e}=(0,ln.useContext)(we);return e},"useTitle");var fn=require("react");var se=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:f,LoginPage:R,catchAll:g,options:x,__initialized:E}=(0,fn.useContext)(we);return{__initialized:E,Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:f,LoginPage:R,catchAll:g,options:x}},"useRefineContext");var vt=o(()=>{let{options:{textTransformers:e}}=se();return o((r="",s)=>{let n=e.humanize(r);return s==="singular"?e.singular(n):e.plural(n)},"getFriendlyName")},"useUserFriendlyName");var yn=o(e=>typeof e=="object"&&e!==null,"isNested"),Qi=o(e=>Array.isArray(e),"isArray"),cr=o((e,t="")=>yn(e)?Object.keys(e).reduce((r,s)=>{let n=t.length?t+".":"";return yn(e[s])&&Object.keys(e[s]).length&&(Qi(e[s])&&e[s].length?e[s].forEach((i,a)=>{Object.assign(r,cr(i,n+s+"."+a))}):Object.assign(r,cr(e[s],n+s))),r[n+s]=e[s],r},{}):{[t]:e},"flattenObjectKeys");var Xo=o(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Zo=o((e,t,r)=>{if(typeof window>"u")return;let s=new Blob([t],{type:r}),n=document.createElement("a");n.setAttribute("visibility","hidden"),n.download=e;let i=URL.createObjectURL(s);n.href=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser");var pr=o(e=>{let{current:t,pageSize:r,sorter:s,sorters:n,filters:i}=Xr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:S(n,s)??[],parsedFilters:i??[]}},"parseTableParams"),Tn=o(e=>{let t=Xr.default.stringify(e);return pr(`/${t}`)},"parseTableParamsFromQuery"),dr=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:s,sorters:n,filters:i,...a}=e;return Xr.default.stringify({...a,...r||{},sorters:S(n,s),filters:i},t)},"stringifyTableParams"),Rn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),xn=o((e,t)=>e.field==t.field,"compareSorters"),Dt=o((e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,gn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Yo.default)(e,t,r,Rn).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),lr=o((e,t)=>(0,Yo.default)(e,t,xn).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),mr=o((e,t)=>[...(0,Jo.default)(t,e,Rn),...e],"setInitialFilters"),fr=o((e,t)=>[...(0,Jo.default)(t,e,xn),...e],"setInitialSorters"),Pn=o((e,t)=>{if(!t)return;let r=t.find(s=>s.field===e);if(r)return r.order},"getDefaultSortOrder"),hn=o((e,t,r="eq")=>{let s=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:i,field:a}=n;return a===e&&i===r}});if(s)return s.value||[]},"getDefaultFilter");var Cn=o(e=>new Promise((t,r)=>{let s=new FileReader,n=o(()=>{s.result&&(s.removeEventListener("load",n,!1),t(s.result))},"resultHandler");s.addEventListener("load",n,!1),s.readAsDataURL(e.originFileObj),s.onerror=i=>(s.removeEventListener("load",n,!1),r(i))}),"file2Base64");var z=o(()=>{let{options:{useNewQueryKeys:e}}=se();return{keys:Oe,preferLegacyKeys:!e}},"useKeys");function bn({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=de(),{getPermissions:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,qo.useQuery)({queryKey:n().auth().action("permissions").get(i),queryFn:s??(()=>Promise.resolve(void 0)),enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,es.getXRay)("usePermissions",i)}}),u=(0,qo.useQuery)({queryKey:[...n().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve(void 0)),enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,es.getXRay)("usePermissions",i)}});return e?u:a}o(bn,"usePermissions");var ts=require("@tanstack/react-query"),rs=require("@refinedev/devtools-internal");function Zr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=de(),{getIdentity:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,ts.useQuery)({queryKey:n().auth().action("identity").get(i),queryFn:s??(()=>Promise.resolve({})),enabled:!e&&!!s,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,rs.getXRay)("useGetIdentity",i)}}),u=(0,ts.useQuery)({queryKey:[...n().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,rs.getXRay)("useGetIdentity",i)}});return e?u:a}o(Zr,"useGetIdentity");var ss=require("@tanstack/react-query"),ns=require("@refinedev/devtools-internal");var vn=require("@tanstack/react-query");var kt=o(()=>{let e=(0,vn.useQueryClient)(),{keys:t,preferLegacyKeys:r}=z();return o(async()=>{await Promise.all(["check","identity","permissions"].map(n=>e.invalidateQueries(t().auth().action(n).get(r))))},"invalidate")},"useInvalidateAuthStore");function yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=kt(),s=ee(),n=ye(),{push:i}=fe(),{open:a,close:u}=Se(),{logout:p}=de(),{logout:c}=Te(),{keys:d,preferLegacyKeys:f}=z(),R=(0,ss.useMutation)({mutationKey:d().auth().action("logout").get(f),mutationFn:c,onSuccess:async(x,E)=>{let{success:w,error:m,redirectTo:h,successNotification:D}=x,{redirectPath:I}=E??{},T=I??h;w&&(u==null||u("useLogout-error"),D&&(a==null||a(Vi(D)))),(m||!w)&&(a==null||a(os(m))),T!==!1&&(s==="legacy"?i(T??"/login"):T&&n({to:T})),await r()},onError:x=>{a==null||a(os(x))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ns.getXRay)("useLogout",f)}}),g=(0,ss.useMutation)({mutationKey:[...d().auth().action("logout").get(f),"v3LegacyAuthProviderCompatible"],mutationFn:p,onSuccess:async(x,E)=>{let w=(E==null?void 0:E.redirectPath)??x;if(w!==!1){if(w){s==="legacy"?i(w):n({to:w});return}s==="legacy"?i("/login"):n({to:"/login"}),await r()}},onError:x=>{a==null||a(os(x))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ns.getXRay)("useLogout",f)}});return e?g:R}o(yr,"useLogout");var os=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Vi=o(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");var Dn=B(require("react")),is=require("@tanstack/react-query"),us=require("@refinedev/devtools-internal"),Ln=B(require("qs"));function Qt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=kt(),s=ee(),n=ye(),{replace:i}=fe(),a=Re(),{useLocation:u}=ie(),{search:p}=u(),{close:c,open:d}=Se(),{login:f}=de(),{login:R}=Te(),{keys:g,preferLegacyKeys:x}=z(),E=Dn.default.useMemo(()=>{var h;return s==="legacy"?Ln.default.parse(p,{ignoreQueryPrefix:!0}).to:(h=a.params)==null?void 0:h.to},[s,a.params,p]),w=(0,is.useMutation)({mutationKey:g().auth().action("login").get(x),mutationFn:R,onSuccess:async({success:h,redirectTo:D,error:I,successNotification:T})=>{h&&(c==null||c("login-error"),T&&(d==null||d(Bi(T)))),(I||!h)&&(d==null||d(as(I))),E&&h?s==="legacy"?i(E):n({to:E,type:"replace"}):D?s==="legacy"?i(D):n({to:D,type:"replace"}):s==="legacy"&&i("/"),await r()},onError:h=>{d==null||d(as(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,us.getXRay)("useLogin",x)}}),m=(0,is.useMutation)({mutationKey:[...g().auth().action("login").get(x),"v3LegacyAuthProviderCompatible"],mutationFn:f,onSuccess:async h=>{E&&i(E),h!==!1&&!E&&(typeof h=="string"?s==="legacy"?i(h):n({to:h,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"})),await r(),c==null||c("login-error")},onError:h=>{d==null||d(as(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,us.getXRay)("useLogin",x)}});return e?m:w}o(Qt,"useLogin");var as=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Bi=o(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");var ps=require("@tanstack/react-query"),ds=require("@refinedev/devtools-internal");function Yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=kt(),s=ee(),n=ye(),{replace:i}=fe(),{register:a}=de(),{register:u}=Te(),{close:p,open:c}=Se(),{keys:d,preferLegacyKeys:f}=z(),R=(0,ps.useMutation)({mutationKey:d().auth().action("register").get(f),mutationFn:u,onSuccess:async({success:x,redirectTo:E,error:w,successNotification:m})=>{x&&(p==null||p("register-error"),m&&(c==null||c(Ni(m)))),(w||!x)&&(c==null||c(cs(w))),E?s==="legacy"?i(E):n({to:E,type:"replace"}):s==="legacy"&&i("/"),await r()},onError:x=>{c==null||c(cs(x))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ds.getXRay)("useRegister",f)}}),g=(0,ps.useMutation)({mutationKey:[...d().auth().action("register").get(f),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:async x=>{x!==!1&&(x?s==="legacy"?i(x):n({to:x,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"}),await r(),p==null||p("register-error"))},onError:x=>{c==null||c(cs(x))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ds.getXRay)("useRegister",f)}});return e?g:R}o(Yr,"useRegister");var cs=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Ni=o(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");var ms=require("@tanstack/react-query"),fs=require("@refinedev/devtools-internal");function Jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ee(),s=ye(),{replace:n}=fe(),{forgotPassword:i}=de(),{forgotPassword:a}=Te(),{close:u,open:p}=Se(),{keys:c,preferLegacyKeys:d}=z(),f=(0,ms.useMutation)({mutationKey:c().auth().action("forgotPassword").get(d),mutationFn:a,onSuccess:({success:g,redirectTo:x,error:E,successNotification:w})=>{g&&(u==null||u("forgot-password-error"),w&&(p==null||p(Ki(w)))),(E||!g)&&(p==null||p(ls(E))),x&&(r==="legacy"?n(x):s({to:x,type:"replace"}))},onError:g=>{p==null||p(ls(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,fs.getXRay)("useForgotPassword",d)}}),R=(0,ms.useMutation)({mutationKey:[...c().auth().action("forgotPassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:g=>{g!==!1&&g&&(r==="legacy"?n(g):s({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{p==null||p(ls(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,fs.getXRay)("useForgotPassword",d)}});return e?R:f}o(Jr,"useForgotPassword");var ls=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Ki=o(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");var En=B(require("react")),gs=require("@tanstack/react-query"),Ts=require("@refinedev/devtools-internal"),Un=B(require("qs"));function qr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ee(),s=ye(),{replace:n}=fe(),{updatePassword:i}=de(),{updatePassword:a}=Te(),{close:u,open:p}=Se(),{keys:c,preferLegacyKeys:d}=z(),f=Re(),{useLocation:R}=ie(),{search:g}=R(),x=En.default.useMemo(()=>r==="legacy"?Un.default.parse(g,{ignoreQueryPrefix:!0})??{}:f.params??{},[g,f,r]),E=(0,gs.useMutation)({mutationKey:c().auth().action("updatePassword").get(d),mutationFn:async m=>a==null?void 0:a({...x,...m}),onSuccess:({success:m,redirectTo:h,error:D,successNotification:I})=>{m&&(u==null||u("update-password-error"),I&&(p==null||p(Gi(I)))),(D||!m)&&(p==null||p(ys(D))),h&&(r==="legacy"?n(h):s({to:h,type:"replace"}))},onError:m=>{p==null||p(ys(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ts.getXRay)("useUpdatePassword",d)}}),w=(0,gs.useMutation)({mutationKey:[...c().auth().action("updatePassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:async m=>i==null?void 0:i({...x,...m}),onSuccess:m=>{m!==!1&&m&&(r==="legacy"?n(m):s({to:m,type:"replace"})),u==null||u("update-password-error")},onError:m=>{p==null||p(ys(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ts.getXRay)("useUpdatePassword",d)}});return e?w:E}o(qr,"useUpdatePassword");var ys=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Gi=o(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");var Rs=require("@tanstack/react-query"),xs=require("@refinedev/devtools-internal");function gr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=de(),{check:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,Rs.useQuery)({queryKey:n().auth().action("check").params(t).get(i),queryFn:async()=>await(s==null?void 0:s(t))??{},retry:!1,enabled:!e,meta:{...(0,xs.getXRay)("useIsAuthenticated",i)}}),u=(0,Rs.useQuery)({queryKey:[...n().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,xs.getXRay)("useIsAuthenticated",i)}});return e?u:a}o(gr,"useIsAuthenticated");var Mn=gr;var Ps=require("@tanstack/react-query"),hs=require("@refinedev/devtools-internal");function ue({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ee(),r=ye(),{replace:s}=fe(),{checkError:n}=de(),{onError:i}=Te(),{keys:a,preferLegacyKeys:u}=z(),{mutate:p}=yr({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=yr({v3LegacyAuthProviderCompatible:!!e}),d=(0,Ps.useMutation)({mutationKey:a().auth().action("onError").get(u),mutationFn:i,onSuccess:({logout:R,redirectTo:g})=>{if(R){c({redirectPath:g});return}if(g){t==="legacy"?s(g):r({to:g,type:"replace"});return}},meta:{...(0,hs.getXRay)("useOnError",u)}}),f=(0,Ps.useMutation)({mutationKey:[...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:n,onError:R=>{p({redirectPath:R})},meta:{...(0,hs.getXRay)("useOnError",u)}});return e?f:d}o(ue,"useOnError");var wn=ue;var eo=o(()=>{let{isProvided:e}=de(),{isProvided:t}=Te();return!!(t||e)},"useIsExistAuthentication");var In=require("@refinedev/devtools-internal"),Sn=require("@tanstack/react-query");var Tr=require("react");var re=o(({isLoading:e,interval:t,onInterval:r})=>{let[s,n]=(0,Tr.useState)(void 0),{options:i}=se(),{overtime:a}=i,u=t??a.interval,p=r??(a==null?void 0:a.onInterval);return(0,Tr.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{n(d=>d===void 0?u:d+u)},u)),()=>{clearInterval(c),n(void 0)}},[e,u]),(0,Tr.useEffect)(()=>{p&&s&&p(s)},[s]),{elapsedTime:s}},"useLoadingOvertime");var Vt=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:p,meta:c,metaData:d,liveMode:f,onLiveEvent:R,liveParams:g,dataProviderName:x,overtimeOptions:E}={})=>{let{resources:w,resource:m,identifier:h}=W(e),D=ne(),I=j(),T=J(),{mutate:y}=ue({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=ce(),C=q(),{keys:v,preferLegacyKeys:P}=z(),U=_(h,x,w),b=S(c,d),M=S(r,t==null?void 0:t.filters),k=S(i,t==null?void 0:t.sort),L=S(s,t==null?void 0:t.hasPagination),Q=ir({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:L}),F=Q.mode==="server",H=C({resource:m,meta:b}),K={meta:H,metaData:H,filters:M,hasPagination:F,pagination:Q,sorters:k,config:{...t,sort:k}},N=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:X}=D(U);ot({resource:h,types:["*"],params:{meta:H,metaData:H,pagination:Q,hasPagination:F,sort:k,sorters:k,filters:M,subscriptionType:"useList",...g},channel:`resources/${m==null?void 0:m.name}`,enabled:N,liveMode:f,onLiveEvent:R,dataProviderName:U,meta:{...c,dataProviderName:x}});let G=(0,Sn.useQuery)({queryKey:v().data(U).resource(h??"").action("list").params({...b||{},filters:M,hasPagination:F,...F&&{pagination:Q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(P),queryFn:({queryKey:V,pageParam:$,signal:Y})=>X({resource:(m==null?void 0:m.name)??"",pagination:Q,hasPagination:F,filters:M,sort:k,sorters:k,meta:{...H,queryContext:{queryKey:V,pageParam:$,signal:Y}},metaData:{...H,queryContext:{queryKey:V,pageParam:$,signal:Y}}}),...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(m!=null&&m.name),select:V=>{var De;let $=V,{current:Y,mode:Z,pageSize:te}=Q;return Z==="client"&&($={...$,data:$.data.slice((Y-1)*te,Y*te),total:$.total}),a!=null&&a.select?(De=a==null?void 0:a.select)==null?void 0:De.call(a,$):$},onSuccess:V=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,V);let $=typeof u=="function"?u(V,K,h):u;l($)},onError:V=>{var Y;y(V),(Y=a==null?void 0:a.onError)==null||Y.call(a,V);let $=typeof p=="function"?p(V,K,h):p;l($,{key:`${h}-useList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,In.getXRay)("useList",P)}}),{elapsedTime:O}=re({isLoading:G.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...G,overtime:{elapsedTime:O}}},"useList");var Fn=require("@refinedev/devtools-internal"),An=require("@tanstack/react-query");var Bt=o(({resource:e,id:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:p,liveParams:c,dataProviderName:d,overtimeOptions:f})=>{let{resources:R,resource:g,identifier:x}=W(e),E=ne(),w=j(),m=J(),{mutate:h}=ue({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),D=ce(),I=q(),{keys:T,preferLegacyKeys:y}=z(),l=S(i,a),C=_(x,d,R),{getOne:v}=E(C),P=I({resource:g,meta:l});ot({resource:x,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:P,metaData:P,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:p,dataProviderName:C,meta:{...i,dataProviderName:d}});let U=(0,An.useQuery)({queryKey:T().data(C).resource(x??"").action("one").id(t??"").params({...l||{}}).get(y),queryFn:({queryKey:M,pageParam:k,signal:L})=>v({resource:(g==null?void 0:g.name)??"",id:t,meta:{...P,queryContext:{queryKey:M,pageParam:k,signal:L}},metaData:{...P,queryContext:{queryKey:M,pageParam:k,signal:L}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:M=>{var L;(L=r==null?void 0:r.onSuccess)==null||L.call(r,M);let k=typeof s=="function"?s(M,{id:t,...P},x):s;D(k)},onError:M=>{var L;h(M),(L=r==null?void 0:r.onError)==null||L.call(r,M);let k=typeof n=="function"?n(M,{id:t,...P},x):n;D(k,{key:`${t}-${x}-getOne-notification`,message:w("notifications.error",{statusCode:M.statusCode},`Error (status code: ${M.statusCode})`),description:M.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Fn.getXRay)("useOne",y)}}),{elapsedTime:b}=re({isLoading:U.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...U,overtime:{elapsedTime:b}}},"useOne");var kn=require("@refinedev/devtools-internal"),Qn=require("@tanstack/react-query");var to=o(({resource:e,ids:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:p,liveParams:c,dataProviderName:d,overtimeOptions:f})=>{let{resources:R,resource:g,identifier:x}=W(e),E=ne(),w=j(),m=J(),{mutate:h}=ue({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),D=ce(),I=q(),{keys:T,preferLegacyKeys:y}=z(),l=S(i,a),C=_(x,d,R),v=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:P,getOne:U}=E(C),b=I({resource:g,meta:l});ot({resource:x,types:["*"],params:{ids:t,meta:b,metaData:b,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:v,liveMode:u,onLiveEvent:p,dataProviderName:C,meta:{...i,dataProviderName:d}});let M=(0,Qn.useQuery)({queryKey:T().data(C).resource(x).action("many").ids(...t).params({...l||{}}).get(y),queryFn:({queryKey:L,pageParam:Q,signal:F})=>P?P({resource:g==null?void 0:g.name,ids:t,meta:{...b,queryContext:{queryKey:L,pageParam:Q,signal:F}},metaData:{...b,queryContext:{queryKey:L,pageParam:Q,signal:F}}}):rt(t.map(H=>U({resource:g==null?void 0:g.name,id:H,meta:{...b,queryContext:{queryKey:L,pageParam:Q,signal:F}},metaData:{...b,queryContext:{queryKey:L,pageParam:Q,signal:F}}}))),...r,onSuccess:L=>{var F;(F=r==null?void 0:r.onSuccess)==null||F.call(r,L);let Q=typeof s=="function"?s(L,t,x):s;D(Q)},onError:L=>{var F;h(L),(F=r==null?void 0:r.onError)==null||F.call(r,L);let Q=typeof n=="function"?n(L,t,x):n;D(Q,{key:`${t[0]}-${x}-getMany-notification`,message:w("notifications.error",{statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,kn.getXRay)("useMany",y)}}),{elapsedTime:k}=re({isLoading:M.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...M,overtime:{elapsedTime:k}}},"useMany");var Vn=require("@refinedev/devtools-internal"),so=require("@tanstack/react-query");var Nt=B(require("react")),ro=B(require("lodash/isEqual"));var oo=Nt.default.createContext({notifications:[],notificationDispatch:()=>!1}),Hi=[],$i=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(s=>!((0,ro.default)(s.id,t.payload.id)&&s.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(s=>!((0,ro.default)(s.id,t.payload.id)&&s.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(s=>(0,ro.default)(s.id,t.payload.id)&&s.resource==t.payload.resource?{...s,seconds:t.payload.seconds-1e3}:s);default:return e}},"undoableQueueReducer"),Cs=o(({children:e})=>{let[t,r]=(0,Nt.useReducer)($i,Hi),s={notifications:t,notificationDispatch:r};return Nt.default.createElement(oo.Provider,{value:s},e,typeof window<"u"&&t.map(n=>Nt.default.createElement(bs,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider");var Rr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=W(),n=(0,so.useQueryClient)(),i=ne(),{mutationMode:a,undoableTimeout:u}=ze(),p=j(),c=J(),{mutate:d}=ue({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),f=Ne(),{log:R}=Ke(),{notificationDispatch:g}=Xe(),x=ce(),E=ve(),w=q(),{options:{textTransformers:m}}=se(),{keys:h,preferLegacyKeys:D}=z(),I=(0,so.useMutation)({mutationFn:({id:y,values:l,resource:C,mutationMode:v,undoableTimeout:P,onCancel:U,meta:b,metaData:M,dataProviderName:k})=>{let{resource:L,identifier:Q}=s(C),F=w({resource:L,meta:S(b,M)}),H=v??a,K=P??u;return H!=="undoable"?i(_(Q,k,r)).update({resource:L.name,id:y,variables:l,meta:F,metaData:F}):new Promise((X,G)=>{let O=o(()=>{i(_(Q,k,r)).update({resource:L.name,id:y,variables:l,meta:F,metaData:F}).then($=>X($)).catch($=>G($))},"doMutation"),V=o(()=>{G({message:"mutationCancelled"})},"cancelMutation");U&&U(V),g({type:"ADD",payload:{id:y,resource:Q,cancelMutation:V,doMutation:O,seconds:K,isSilent:!!U}})})},onMutate:async({resource:y,id:l,mutationMode:C,values:v,dataProviderName:P,meta:U,metaData:b,optimisticUpdateMap:M={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=s(y),{gqlMutation:L,gqlQuery:Q,...F}=S(U,b)??{},H=tt(D)(k,_(k,P,r),F),K=h().data(_(k,P,r)).resource(k),N=n.getQueriesData(K.get(D)),X=C??a;return await n.cancelQueries(K.get(D),void 0,{silent:!0}),X!=="pessimistic"&&(M.list&&n.setQueriesData(K.action("list").params(F??{}).get(D),G=>{if(typeof M.list=="function")return M.list(G,v,l);if(!G)return null;let O=G.data.map(V=>{var $;return(($=V.id)==null?void 0:$.toString())===(l==null?void 0:l.toString())?{id:l,...V,...v}:V});return{...G,data:O}}),M.many&&n.setQueriesData(K.action("many").get(D),G=>{if(typeof M.many=="function")return M.many(G,v,l);if(!G)return null;let O=G.data.map(V=>{var $;return(($=V.id)==null?void 0:$.toString())===(l==null?void 0:l.toString())&&(V={id:l,...V,...v}),V});return{...G,data:O}}),M.detail&&n.setQueriesData(K.action("one").id(l).params(F??{}).get(D),G=>typeof M.detail=="function"?M.detail(G,v,l):G?{...G,data:{...G.data,...v}}:null)),{previousQueries:N,queryKey:H}},onSettled:(y,l,{id:C,resource:v,dataProviderName:P,invalidates:U=["list","many","detail"]})=>{let{identifier:b}=s(v);E({resource:b,dataProviderName:_(b,P,r),invalidates:U,id:C}),g({type:"REMOVE",payload:{id:C,resource:b}})},onSuccess:(y,{id:l,resource:C,successNotification:v,dataProviderName:P,values:U,meta:b,metaData:M},k)=>{var Y;let{resource:L,identifier:Q}=s(C),F=m.singular(Q),H=_(Q,P,r),K=w({resource:L,meta:S(b,M)}),N=typeof v=="function"?v(y,{id:l,values:U},Q):v;x(N,{key:`${l}-${Q}-notification`,description:p("notifications.success","Successful"),message:p("notifications.editSuccess",{resource:p(`${Q}.${Q}`,F)},`Successfully updated ${F}`),type:"success"}),f==null||f({channel:`resources/${L.name}`,type:"updated",payload:{ids:(Y=y.data)!=null&&Y.id?[y.data.id]:void 0},date:new Date,meta:{...K,dataProviderName:H}});let X;if(k){let Z=n.getQueryData(k.queryKey.detail(l));X=Object.keys(U||{}).reduce((te,De)=>{var Le;return te[De]=(Le=Z==null?void 0:Z.data)==null?void 0:Le[De],te},{})}let{fields:G,operation:O,variables:V,...$}=K||{};R==null||R.mutate({action:"update",resource:L.name,data:U,previousData:X,meta:{id:l,dataProviderName:H,...$}})},onError:(y,{id:l,resource:C,errorNotification:v,values:P},U)=>{let{identifier:b}=s(C);if(U)for(let M of U.previousQueries)n.setQueryData(M[0],M[1]);if(y.message!=="mutationCancelled"){d==null||d(y);let M=m.singular(b),k=typeof v=="function"?v(y,{id:l,values:P},b):v;x(k,{key:`${l}-${b}-notification`,message:p("notifications.editError",{resource:p(`${b}.${b}`,M),statusCode:y.statusCode},`Error when updating ${M} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("update").get(D),...e,meta:{...e==null?void 0:e.meta,...(0,Vn.getXRay)("useUpdate",D)}}),{elapsedTime:T}=re({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:T}}},"useUpdate");var Bn=require("@refinedev/devtools-internal"),Nn=require("@tanstack/react-query");var Kt=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=ue({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ne(),i=ve(),{resources:a,select:u}=W(),p=j(),c=Ne(),{log:d}=Ke(),f=ce(),R=q(),{options:{textTransformers:g}}=se(),{keys:x,preferLegacyKeys:E}=z(),w=(0,Nn.useMutation)({mutationFn:({resource:h,values:D,meta:I,metaData:T,dataProviderName:y})=>{let{resource:l,identifier:C}=u(h),v=R({resource:l,meta:S(I,T)});return n(_(C,y,a)).create({resource:l.name,variables:D,meta:v,metaData:v})},onSuccess:(h,{resource:D,successNotification:I,dataProviderName:T,invalidates:y=["list","many"],values:l,meta:C,metaData:v})=>{var N,X;let{resource:P,identifier:U}=u(D),b=g.singular(U),M=_(U,T,a),k=R({resource:P,meta:S(C,v)}),L=typeof I=="function"?I(h,l,U):I;f(L,{key:`create-${U}-notification`,message:p("notifications.createSuccess",{resource:p(`${U}.${U}`,b)},`Successfully created ${b}`),description:p("notifications.success","Success"),type:"success"}),i({resource:U,dataProviderName:M,invalidates:y}),c==null||c({channel:`resources/${P.name}`,type:"created",payload:{ids:(N=h==null?void 0:h.data)!=null&&N.id?[h.data.id]:void 0},date:new Date,meta:{...k,dataProviderName:M}});let{fields:Q,operation:F,variables:H,...K}=k||{};d==null||d.mutate({action:"create",resource:P.name,data:l,meta:{dataProviderName:M,id:((X=h==null?void 0:h.data)==null?void 0:X.id)??void 0,...K}})},onError:(h,{resource:D,errorNotification:I,values:T})=>{s(h);let{identifier:y}=u(D),l=g.singular(y),C=typeof I=="function"?I(h,T,y):I;f(C,{key:`create-${y}-notification`,description:h.message,message:p("notifications.createError",{resource:p(`${y}.${y}`,l),statusCode:h.statusCode},`There was an error creating ${l} (status code: ${h.statusCode})`),type:"error"})},mutationKey:x().data().mutation("create").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Bn.getXRay)("useCreate",E)}}),{elapsedTime:m}=re({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:m}}},"useCreate");var Kn=require("@refinedev/devtools-internal"),no=require("@tanstack/react-query");var Gn=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=ue({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ne(),{resources:i,select:a}=W(),u=(0,no.useQueryClient)(),{mutationMode:p,undoableTimeout:c}=ze(),{notificationDispatch:d}=Xe(),f=j(),R=Ne(),{log:g}=Ke(),x=ce(),E=ve(),w=q(),{options:{textTransformers:m}}=se(),{keys:h,preferLegacyKeys:D}=z(),I=(0,no.useMutation)({mutationFn:({id:y,mutationMode:l,undoableTimeout:C,resource:v,onCancel:P,meta:U,metaData:b,dataProviderName:M,values:k})=>{let{resource:L,identifier:Q}=a(v),F=w({resource:L,meta:S(U,b)}),H=l??p,K=C??c;return H!=="undoable"?n(_(Q,M,i)).deleteOne({resource:L.name,id:y,meta:F,metaData:F,variables:k}):new Promise((X,G)=>{let O=o(()=>{n(_(Q,M,i)).deleteOne({resource:L.name,id:y,meta:F,metaData:F,variables:k}).then($=>X($)).catch($=>G($))},"doMutation"),V=o(()=>{G({message:"mutationCancelled"})},"cancelMutation");P&&P(V),d({type:"ADD",payload:{id:y,resource:Q,cancelMutation:V,doMutation:O,seconds:K,isSilent:!!P}})})},onMutate:async({id:y,resource:l,mutationMode:C,dataProviderName:v,meta:P,metaData:U})=>{let{identifier:b}=a(l),{gqlMutation:M,gqlQuery:k,...L}=S(P,U)??{},Q=tt(D)(b,_(b,v,i),L),F=h().data(_(b,v,i)).resource(b),H=C??p;await u.cancelQueries(F.get(D),void 0,{silent:!0});let K=u.getQueriesData(F.get(D));return H!=="pessimistic"&&(u.setQueriesData(F.action("list").params(L??{}).get(D),N=>N?{data:N.data.filter(G=>{var O;return((O=G.id)==null?void 0:O.toString())!==y.toString()}),total:N.total-1}:null),u.setQueriesData(F.action("many").get(D),N=>{if(!N)return null;let X=N.data.filter(G=>{var O;return((O=G.id)==null?void 0:O.toString())!==(y==null?void 0:y.toString())});return{...N,data:X}})),{previousQueries:K,queryKey:Q}},onSettled:(y,l,{id:C,resource:v,dataProviderName:P,invalidates:U=["list","many"]})=>{let{identifier:b}=a(v);E({resource:b,dataProviderName:_(b,P,i),invalidates:U}),d({type:"REMOVE",payload:{id:C,resource:b}})},onSuccess:(y,{id:l,resource:C,successNotification:v,dataProviderName:P,meta:U,metaData:b},M)=>{let{resource:k,identifier:L}=a(C),Q=m.singular(L),F=_(L,P,i),H=w({resource:k,meta:S(U,b)});u.removeQueries(M==null?void 0:M.queryKey.detail(l));let K=typeof v=="function"?v(y,l,L):v;x(K,{key:`${l}-${L}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${L}.${L}`,Q)},`Successfully deleted a ${Q}`),type:"success"}),R==null||R({channel:`resources/${k.name}`,type:"deleted",payload:{ids:[l]},date:new Date,meta:{...H,dataProviderName:F}});let{fields:N,operation:X,variables:G,...O}=H||{};g==null||g.mutate({action:"delete",resource:k.name,meta:{id:l,dataProviderName:F,...O}}),u.removeQueries(M==null?void 0:M.queryKey.detail(l))},onError:(y,{id:l,resource:C,errorNotification:v},P)=>{let{identifier:U}=a(C);if(P)for(let b of P.previousQueries)u.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){s(y);let b=m.singular(U),M=typeof v=="function"?v(y,l,U):v;x(M,{key:`${l}-${U}-notification`,message:f("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("delete").get(D),...e,meta:{...e==null?void 0:e.meta,...(0,Kn.getXRay)("useDelete",D)}}),{elapsedTime:T}=re({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:T}}},"useDelete");var Hn=require("@refinedev/devtools-internal"),$n=require("@tanstack/react-query");var ao=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ne(),{resources:s,select:n}=W(),i=j(),a=Ne(),u=ce(),p=ve(),{log:c}=Ke(),d=q(),{options:{textTransformers:f}}=se(),{keys:R,preferLegacyKeys:g}=z(),x=(0,$n.useMutation)({mutationFn:({resource:w,values:m,meta:h,metaData:D,dataProviderName:I})=>{let{resource:T,identifier:y}=n(w),l=d({resource:T,meta:S(h,D)}),C=r(_(y,I,s));return C.createMany?C.createMany({resource:T.name,variables:m,meta:l,metaData:l}):rt(m.map(v=>C.create({resource:T.name,variables:v,meta:l,metaData:l})))},onSuccess:(w,{resource:m,successNotification:h,dataProviderName:D,invalidates:I=["list","many"],values:T,meta:y,metaData:l})=>{let{resource:C,identifier:v}=n(m),P=f.plural(v),U=_(v,D,s),b=d({resource:C,meta:S(y,l)}),M=typeof h=="function"?h(w,T,v):h;u(M,{key:`createMany-${v}-notification`,message:i("notifications.createSuccess",{resource:i(`${v}.${v}`,v)},`Successfully created ${P}`),description:i("notifications.success","Success"),type:"success"}),p({resource:v,dataProviderName:U,invalidates:I});let k=w==null?void 0:w.data.filter(K=>(K==null?void 0:K.id)!==void 0).map(K=>K.id);a==null||a({channel:`resources/${C.name}`,type:"created",payload:{ids:k},date:new Date,meta:{...b,dataProviderName:U}});let{fields:L,operation:Q,variables:F,...H}=b||{};c==null||c.mutate({action:"createMany",resource:C.name,data:T,meta:{dataProviderName:U,ids:k,...H}})},onError:(w,{resource:m,errorNotification:h,values:D})=>{let{identifier:I}=n(m),T=typeof h=="function"?h(w,D,I):h;u(T,{key:`createMany-${I}-notification`,description:w.message,message:i("notifications.createError",{resource:i(`${I}.${I}`,I),statusCode:w.statusCode},`There was an error creating ${I} (status code: ${w.statusCode}`),type:"error"})},mutationKey:R().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Hn.getXRay)("useCreateMany",g)}}),{elapsedTime:E}=re({isLoading:x.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...x,overtime:{elapsedTime:E}}},"useCreateMany");var Wn=require("@refinedev/devtools-internal"),io=require("@tanstack/react-query");var On=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=W(),n=(0,io.useQueryClient)(),i=ne(),a=j(),{mutationMode:u,undoableTimeout:p}=ze(),c=J(),{mutate:d}=ue({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:f}=Xe(),R=Ne(),g=ce(),x=ve(),{log:E}=Ke(),w=q(),{options:{textTransformers:m}}=se(),{keys:h,preferLegacyKeys:D}=z(),I=(0,io.useMutation)({mutationFn:({ids:y,values:l,resource:C,onCancel:v,mutationMode:P,undoableTimeout:U,meta:b,metaData:M,dataProviderName:k})=>{let{resource:L,identifier:Q}=s(C),F=w({resource:L,meta:S(b,M)}),H=P??u,K=U??p,N=i(_(Q,k,r)),X=o(()=>N.updateMany?N.updateMany({resource:L.name,ids:y,variables:l,meta:F,metaData:F}):rt(y.map(O=>N.update({resource:L.name,id:O,variables:l,meta:F,metaData:F}))),"mutationFn");return H!=="undoable"?X():new Promise((O,V)=>{let $=o(()=>{X().then(Z=>O(Z)).catch(Z=>V(Z))},"doMutation"),Y=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");v&&v(Y),f({type:"ADD",payload:{id:y,resource:Q,cancelMutation:Y,doMutation:$,seconds:K,isSilent:!!v}})})},onMutate:async({resource:y,ids:l,values:C,mutationMode:v,dataProviderName:P,meta:U,metaData:b,optimisticUpdateMap:M={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=s(y),{gqlMutation:L,gqlQuery:Q,...F}=S(U,b)??{},H=tt(D)(k,_(k,P,r),F),K=h().data(_(k,P,r)).resource(k),N=v??u;await n.cancelQueries(K.get(D),void 0,{silent:!0});let X=n.getQueriesData(K.get(D));if(N!=="pessimistic"&&(M.list&&n.setQueriesData(K.action("list").params(F??{}).get(D),G=>{if(typeof M.list=="function")return M.list(G,C,l);if(!G)return null;let O=G.data.map(V=>V.id!==void 0&&l.filter($=>$!==void 0).map(String).includes(V.id.toString())?{...V,...C}:V);return{...G,data:O}}),M.many&&n.setQueriesData(K.action("many").get(D),G=>{if(typeof M.many=="function")return M.many(G,C,l);if(!G)return null;let O=G.data.map(V=>V.id!==void 0&&l.filter($=>$!==void 0).map(String).includes(V.id.toString())?{...V,...C}:V);return{...G,data:O}}),M.detail))for(let G of l)n.setQueriesData(K.action("one").id(G).params(F??{}).get(D),O=>{if(typeof M.detail=="function")return M.detail(O,C,G);if(!O)return null;let V={...O.data,...C};return{...O,data:V}});return{previousQueries:X,queryKey:H}},onSettled:(y,l,{ids:C,resource:v,dataProviderName:P})=>{let{identifier:U}=s(v);x({resource:U,invalidates:["list","many"],dataProviderName:_(U,P,r)}),C.forEach(b=>x({resource:U,invalidates:["detail"],dataProviderName:_(U,P,r),id:b})),f({type:"REMOVE",payload:{id:C,resource:U}})},onSuccess:(y,{ids:l,resource:C,meta:v,metaData:P,dataProviderName:U,successNotification:b,values:M},k)=>{let{resource:L,identifier:Q}=s(C),F=m.singular(Q),H=_(Q,U,r),K=w({resource:L,meta:S(v,P)}),N=typeof b=="function"?b(y,{ids:l,values:M},Q):b;g(N,{key:`${l}-${Q}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${Q}.${Q}`,Q)},`Successfully updated ${F}`),type:"success"}),R==null||R({channel:`resources/${L.name}`,type:"updated",payload:{ids:l.map(String)},date:new Date,meta:{...K,dataProviderName:H}});let X=[];k&&l.forEach(Y=>{let Z=n.getQueryData(k.queryKey.detail(Y));X.push(Object.keys(M||{}).reduce((te,De)=>{var Le;return te[De]=(Le=Z==null?void 0:Z.data)==null?void 0:Le[De],te},{}))});let{fields:G,operation:O,variables:V,...$}=K||{};E==null||E.mutate({action:"updateMany",resource:L.name,data:M,previousData:X,meta:{ids:l,dataProviderName:H,...$}})},onError:(y,{ids:l,resource:C,errorNotification:v,values:P},U)=>{let{identifier:b}=s(C);if(U)for(let M of U.previousQueries)n.setQueryData(M[0],M[1]);if(y.message!=="mutationCancelled"){d==null||d(y);let M=m.singular(b),k=typeof v=="function"?v(y,{ids:l,values:P},b):v;g(k,{key:`${l}-${b}-updateMany-error-notification`,message:a("notifications.editError",{resource:M,statusCode:y.statusCode},`Error when updating ${M} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("updateMany").get(D),...e,meta:{...e==null?void 0:e.meta,...(0,Wn.getXRay)("useUpdateMany",D)}}),{elapsedTime:T}=re({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:T}}},"useUpdateMany");var zn=require("@refinedev/devtools-internal"),uo=require("@tanstack/react-query");var _n=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=ue({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:i}=ze(),a=ne(),{notificationDispatch:u}=Xe(),p=j(),c=Ne(),d=ce(),f=ve(),{log:R}=Ke(),{resources:g,select:x}=W(),E=(0,uo.useQueryClient)(),w=q(),{options:{textTransformers:m}}=se(),{keys:h,preferLegacyKeys:D}=z(),I=(0,uo.useMutation)({mutationFn:({resource:y,ids:l,mutationMode:C,undoableTimeout:v,onCancel:P,meta:U,metaData:b,dataProviderName:M,values:k})=>{let{resource:L,identifier:Q}=x(y),F=w({resource:L,meta:S(U,b)}),H=C??n,K=v??i,N=a(_(Q,M,g)),X=o(()=>N.deleteMany?N.deleteMany({resource:L.name,ids:l,meta:F,metaData:F,variables:k}):rt(l.map(O=>N.deleteOne({resource:L.name,id:O,meta:F,metaData:F,variables:k}))),"mutationFn");return H!=="undoable"?X():new Promise((O,V)=>{let $=o(()=>{X().then(Z=>O(Z)).catch(Z=>V(Z))},"doMutation"),Y=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");P&&P(Y),u({type:"ADD",payload:{id:l,resource:Q,cancelMutation:Y,doMutation:$,seconds:K,isSilent:!!P}})})},onMutate:async({ids:y,resource:l,mutationMode:C,dataProviderName:v,meta:P,metaData:U})=>{let{identifier:b}=x(l),{gqlMutation:M,gqlQuery:k,...L}=S(P,U)??{},Q=tt(D)(b,_(b,v,g),L),F=h().data(_(b,v,g)).resource(b),H=C??n;await E.cancelQueries(F.get(D),void 0,{silent:!0});let K=E.getQueriesData(F.get(D));if(H!=="pessimistic"){E.setQueriesData(F.action("list").params(L??{}).get(D),N=>N?{data:N.data.filter(G=>G.id&&!y.map(String).includes(G.id.toString())),total:N.total-1}:null),E.setQueriesData(F.action("many").get(D),N=>{if(!N)return null;let X=N.data.filter(G=>G.id?!y.map(String).includes(G.id.toString()):!1);return{...N,data:X}});for(let N of y)E.setQueriesData(F.action("one").id(N).params(L).get(D),X=>!X||X.data.id==N?null:{...X})}return{previousQueries:K,queryKey:Q}},onSettled:(y,l,{resource:C,ids:v,dataProviderName:P,invalidates:U=["list","many"]})=>{let{identifier:b}=x(C);f({resource:b,dataProviderName:_(b,P,g),invalidates:U}),u({type:"REMOVE",payload:{id:v,resource:b}})},onSuccess:(y,{ids:l,resource:C,meta:v,metaData:P,dataProviderName:U,successNotification:b},M)=>{let{resource:k,identifier:L}=x(C),Q=_(L,U,g),F=w({resource:k,meta:S(v,P)});l.forEach(O=>E.removeQueries(M==null?void 0:M.queryKey.detail(O)));let H=typeof b=="function"?b(y,l,L):b;d(H,{key:`${l}-${L}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${L}.${L}`,L)},`Successfully deleted ${L}`),type:"success"}),c==null||c({channel:`resources/${k.name}`,type:"deleted",payload:{ids:l},date:new Date,meta:{...F,dataProviderName:Q}});let{fields:K,operation:N,variables:X,...G}=F||{};R==null||R.mutate({action:"deleteMany",resource:k.name,meta:{ids:l,dataProviderName:Q,...G}}),l.forEach(O=>E.removeQueries(M==null?void 0:M.queryKey.detail(O)))},onError:(y,{ids:l,resource:C,errorNotification:v},P)=>{let{identifier:U}=x(C);if(P)for(let b of P.previousQueries)E.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){s(y);let b=m.singular(U),M=typeof v=="function"?v(y,l,U):v;d(M,{key:`${l}-${U}-notification`,message:p("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("deleteMany").get(D),...e,meta:{...e==null?void 0:e.meta,...(0,zn.getXRay)("useDeleteMany",D)}}),{elapsedTime:T}=re({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:T}}},"useDeleteMany");var jn=o(e=>{var n;let t=ne(),{resource:r}=W(),{getApiUrl:s}=t(e??((n=S(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:n.dataProviderName));return s()},"useApiUrl");var Xn=require("@tanstack/react-query"),Zn=require("@refinedev/devtools-internal");var Yn=o(({url:e,method:t,config:r,queryOptions:s,successNotification:n,errorNotification:i,meta:a,metaData:u,dataProviderName:p,overtimeOptions:c})=>{let d=ne(),f=J(),{mutate:R}=ue({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),g=j(),x=ce(),E=q(),{keys:w,preferLegacyKeys:m}=z(),h=S(a,u),{custom:D}=d(p),I=E({meta:h});if(D){let T=(0,Xn.useQuery)({queryKey:w().data(p).mutation("custom").params({method:t,url:e,...r,...h||{}}).get(m),queryFn:({queryKey:l,pageParam:C,signal:v})=>D({url:e,method:t,...r,meta:{...I,queryContext:{queryKey:l,pageParam:C,signal:v}},metaData:{...I,queryContext:{queryKey:l,pageParam:C,signal:v}}}),...s,onSuccess:l=>{var v;(v=s==null?void 0:s.onSuccess)==null||v.call(s,l);let C=typeof n=="function"?n(l,{...r,...I}):n;x(C)},onError:l=>{var v;R(l),(v=s==null?void 0:s.onError)==null||v.call(s,l);let C=typeof i=="function"?i(l,{...r,...I}):i;x(C,{key:`${t}-notification`,message:g("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},meta:{...s==null?void 0:s.meta,...(0,Zn.getXRay)("useCustom",m)}}),{elapsedTime:y}=re({isLoading:T.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...T,overtime:{elapsedTime:y}}}else throw Error("Not implemented custom on data provider.")},"useCustom");var Jn=require("@tanstack/react-query"),qn=require("@refinedev/devtools-internal");var ea=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=ue({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ce(),i=ne(),a=j(),u=q(),{keys:p,preferLegacyKeys:c}=z(),d=(0,Jn.useMutation)(({url:R,method:g,values:x,meta:E,metaData:w,dataProviderName:m,config:h})=>{let D=u({meta:S(E,w)}),{custom:I}=i(m);if(I)return I({url:R,method:g,payload:x,meta:D,metaData:D,headers:{...h==null?void 0:h.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(R,{successNotification:g,config:x,meta:E,metaData:w})=>{let m=typeof g=="function"?g(R,{...x,...S(E,w)||{}}):g;n(m)},onError:(R,{errorNotification:g,method:x,config:E,meta:w,metaData:m})=>{s(R);let h=typeof g=="function"?g(R,{...E,...S(w,m)||{}}):g;n(h,{key:`${x}-notification`,message:a("notifications.error",{statusCode:R.statusCode},`Error (status code: ${R.statusCode})`),description:R.message,type:"error"})},mutationKey:p().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,qn.getXRay)("useCustomMutation",c)}}),{elapsedTime:f}=re({isLoading:d.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...d,overtime:{elapsedTime:f}}},"useCustomMutation");var co=require("react");var vs=B(require("react"));var Wi=o(()=>({}),"defaultDataProvider"),xr=vs.default.createContext(Wi()),ta=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},vs.default.createElement(xr.Provider,{value:r},e)},"DataContextProvider");var ne=o(()=>{let e=(0,co.useContext)(xr);return(0,co.useCallback)(r=>{if(r){if(!(e==null?void 0:e[r]))throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");var ra=require("@refinedev/devtools-internal"),oa=require("@tanstack/react-query");var sa=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:p,meta:c,metaData:d,liveMode:f,onLiveEvent:R,liveParams:g,dataProviderName:x,overtimeOptions:E})=>{let{resources:w,resource:m,identifier:h}=W(e),D=ne(),I=j(),T=J(),{mutate:y}=ue({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=ce(),C=q(),{keys:v,preferLegacyKeys:P}=z(),U=_(h,x,w),b=S(c,d),M=S(r,t==null?void 0:t.filters),k=S(i,t==null?void 0:t.sort),L=S(s,t==null?void 0:t.hasPagination),Q=ir({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:L}),F=Q.mode==="server",H={meta:b,metaData:b,filters:M,hasPagination:F,pagination:Q,sorters:k,config:{...t,sort:k}},K=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,N=C({resource:m,meta:b}),{getList:X}=D(U);ot({resource:h,types:["*"],params:{meta:N,metaData:N,pagination:Q,hasPagination:F,sort:k,sorters:k,filters:M,subscriptionType:"useList",...g},channel:`resources/${m.name}`,enabled:K,liveMode:f,onLiveEvent:R,dataProviderName:U,meta:{...N,dataProviderName:x}});let G=(0,oa.useInfiniteQuery)({queryKey:v().data(U).resource(h).action("infinite").params({...b||{},filters:M,hasPagination:F,...F&&{pagination:Q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(P),queryFn:({queryKey:V,pageParam:$,signal:Y})=>{let Z={...Q,current:$};return X({resource:m.name,pagination:Z,hasPagination:F,filters:M,sort:k,sorters:k,meta:{...N,queryContext:{queryKey:V,pageParam:$,signal:Y}},metaData:{...N,queryContext:{queryKey:V,pageParam:$,signal:Y}}}).then(({data:te,total:De,...Le})=>({data:te,total:De,pagination:Z,...Le}))},getNextPageParam:V=>sr(V),getPreviousPageParam:V=>nr(V),...a,onSuccess:V=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,V);let $=typeof u=="function"?u(V,H,h):u;l($)},onError:V=>{var Y;y(V),(Y=a==null?void 0:a.onError)==null||Y.call(a,V);let $=typeof p=="function"?p(V,H,h):p;l($,{key:`${h}-useInfiniteList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,ra.getXRay)("useInfiniteList",P)}}),{elapsedTime:O}=re({isLoading:G.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...G,overtime:{elapsedTime:O}}},"useInfiniteList");var Ds=B(require("react"));var st=Ds.default.createContext(void 0),na=o(({liveProvider:e,children:t})=>Ds.default.createElement(st.Provider,{value:e},t),"LiveContextProvider");var Ta=require("react"),Ra=require("@tanstack/react-query");var ga=require("react");var Ls=B(require("react"));var ca=require("react");var aa=require("react"),ia=B(require("lodash/isEqual"));var ua=o(e=>{let t=(0,aa.useRef)(e);return(0,ia.default)(t.current,e)||(t.current=e),t.current},"useMemoized");var po=o((e,t)=>{let r=ua(t);return(0,ca.useMemo)(e,r)},"useDeepMemo");var nt=Ls.default.createContext({resources:[]}),pa=o(({resources:e,children:t})=>{let r=po(()=>ar(e??[]),[e]);return Ls.default.createElement(nt.Provider,{value:{resources:r}},t)},"ResourceContextProvider");var Es=B(require("react"));var da=Es.default.createContext("new"),la=da.Provider,ee=o(()=>Es.default.useContext(da),"useRouterType");var ya=B(require("react"));var lo=B(require("react"));var ma={},at=(0,lo.createContext)(ma),fa=o(({children:e,router:t})=>lo.default.createElement(at.Provider,{value:t??ma},e),"RouterBindingsProvider");var mo=B(require("react"));var fo=o(()=>{let e=(0,mo.useContext)(at);return mo.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var Re=o(()=>{let e=fo();return ya.default.useMemo(()=>e(),[e])},"useParsed");function W(e){let{resources:t}=(0,ga.useContext)(nt),r=ee(),s=Re(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((f,R=!0)=>{let x=ge(f,t,r==="legacy");if(x)return{resource:x,identifier:x.identifier??x.name};if(R){let E={name:f,identifier:f},w=E.identifier??E.name;return{resource:E,identifier:w}}},"select"),a=Us(),{useParams:u}=ie(),p=u();if(r==="legacy"){let f=n.resourceNameOrRouteName?n.resourceNameOrRouteName:p.resource,R=f?a(f):void 0,g=(n==null?void 0:n.recordItemId)??p.id,x=p.action,E=(n==null?void 0:n.resourceName)??(R==null?void 0:R.name),w=(R==null?void 0:R.identifier)??(R==null?void 0:R.name);return{resources:t,resource:R,resourceName:E,id:g,action:x,select:i,identifier:w}}let c,d=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(d){let f=ge(d,t);f?c=f:c={name:d}}else s!=null&&s.resource&&(c=s.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:s.id,action:s.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(W,"useResource");var yo=require("react");var Us=o(()=>{let{resources:e}=(0,yo.useContext)(nt);return(0,yo.useCallback)(r=>{let s=ge(r,e,!0);return s||{name:r,route:r}},[e])},"useResourceWithRoute");var ve=o(()=>{let{resources:e}=W(),t=(0,Ra.useQueryClient)(),{keys:r,preferLegacyKeys:s}=z();return(0,Ta.useCallback)(async({resource:i,dataProviderName:a,invalidates:u,id:p,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(u===!1)return;let f=_(i,a,e),R=r().data(f).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(f).get(s),c,d);case"list":return t.invalidateQueries(R.action("list").get(s),c,d);case"many":return t.invalidateQueries(R.action("many").get(s),c,d);case"resourceAll":return t.invalidateQueries(R.get(s),c,d);case"detail":return t.invalidateQueries(R.action("one").id(p||"").get(s),c,d);default:return}}))},[])},"useInvalidate");var Pr=require("react");var ot=o(({resource:e,params:t,channel:r,types:s,enabled:n=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:p})=>{var m;let{resource:c,identifier:d}=W(e),f=(0,Pr.useContext)(st),{liveMode:R,onLiveEvent:g}=(0,Pr.useContext)(we),x=i??R,E=ve(),w=u??(p==null?void 0:p.dataProviderName)??((m=c==null?void 0:c.meta)==null?void 0:m.dataProviderName);(0,Pr.useEffect)(()=>{let h,D=o(I=>{x==="auto"&&E({resource:d,dataProviderName:w,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(I),g==null||g(I)},"callback");return x&&x!=="off"&&n&&(h=f==null?void 0:f.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:s,callback:D,dataProviderName:w,meta:{...p,dataProviderName:w}})),()=>{h&&(f==null||f.unsubscribe(h))}},[n])},"useResourceSubscription");var xa=require("react");var Ms=o(e=>{let{liveMode:t}=(0,xa.useContext)(we);return e??t},"useLiveMode");var go=require("react");var Oi=o(({params:e,channel:t,types:r=["*"],enabled:s=!0,onLiveEvent:n,dataProviderName:i="default",meta:a})=>{let u=(0,go.useContext)(st);(0,go.useEffect)(()=>{let p;return s&&(p=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:n,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{p&&(u==null||u.unsubscribe(p))}},[s])},"useSubscription");var Pa=require("react");var Ne=o(()=>{let e=(0,Pa.useContext)(st);return e==null?void 0:e.publish},"usePublish");var ha=require("react");var Xe=o(()=>{let{notifications:e,notificationDispatch:t}=(0,ha.useContext)(oo);return{notifications:e,notificationDispatch:t}},"useCancelNotification");var ba=require("react");var To=B(require("react"));var hr=(0,To.createContext)({}),Ca=o(({open:e,close:t,children:r})=>To.default.createElement(hr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Se=o(()=>{let{open:e,close:t}=(0,ba.useContext)(hr);return{open:e,close:t}},"useNotification");var va=require("react");var ce=o(()=>{let{open:e}=Se();return(0,va.useCallback)((r,s)=>{r!==!1&&(r?e==null||e(r):s&&(e==null||e(s)))},[])},"useHandleNotification");var Ro=require("react");var ws=B(require("react"));var Ge=ws.default.createContext({}),Da=o(({children:e,i18nProvider:t})=>ws.default.createElement(Ge.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var La=o(()=>{let{i18nProvider:e}=(0,Ro.useContext)(Ge);return(0,Ro.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var xo=require("react");var j=o(()=>{let{i18nProvider:e}=(0,xo.useContext)(Ge);return(0,xo.useMemo)(()=>{function r(s,n,i){return(e==null?void 0:e.translate(s,n,i))??i??(typeof n=="string"&&typeof i>"u"?n:s)}return o(r,"translate"),r},[e])},"useTranslate");var Po=require("react");var Ea=o(()=>{let{i18nProvider:e}=(0,Po.useContext)(Ge);return(0,Po.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var Ua=require("react"),Ma=require("papaparse"),Is=B(require("warn-once"));var zi=o(({resourceName:e,resource:t,sorter:r,sorters:s,filters:n,maxItemCount:i,pageSize:a=20,mapData:u=o(E=>E,"mapData"),exportOptions:p,unparseConfig:c,meta:d,metaData:f,dataProviderName:R,onError:g,download:x}={})=>{let[E,w]=(0,Ua.useState)(!1),m=ne(),h=q(),{resource:D,resources:I,identifier:T}=W(S(t,e)),l=`${vt()(T,"plural")}-${new Date().toLocaleString()}`,{getList:C}=m(_(T,R,I)),v=h({resource:D,meta:S(d,f)});return{isLoading:E,triggerExport:o(async()=>{w(!0);let U=[],b=1,M=!0;for(;M;)try{let{data:F,total:H}=await C({resource:(D==null?void 0:D.name)??"",filters:n,sort:S(s,r),sorters:S(s,r),pagination:{current:b,pageSize:a,mode:"server"},meta:v,metaData:v});b++,U.push(...F),i&&U.length>=i&&(U=U.slice(0,i),M=!1),H===U.length&&(M=!1)}catch(F){w(!1),M=!1,g==null||g(F);return}let k=typeof c<"u"&&c!==null;(0,Is.default)(k&&typeof p<"u"&&p!==null,`[useExport]: resource: "${T}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let L={filename:l,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...p};(0,Is.default)((p==null?void 0:p.decimalSeparator)!==void 0,`[useExport]: resource: "${T}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),k?c={quotes:!0,...c}:c={columns:L.useKeysAsHeaders?void 0:L.headers,delimiter:L.fieldSeparator,header:L.showLabels||L.useKeysAsHeaders,quoteChar:L.quoteStrings,quotes:!0};let Q=(0,Ma.unparse)(U.map(u),c);if(L.showTitle&&(Q=L.title+`\r

`+Q),typeof window<"u"&&Q.length>0&&(x??!0)){let F=L.useTextFile?".txt":".csv",H=`text/${L.useTextFile?"plain":"csv"};charset=utf8;`,K=`${(L.filename??"download").replace(/ /g,"_")}${F}`;Zo(K,`${L!=null&&L.useBom?"\uFEFF":""}${Q}`,H)}return w(!1),Q},"triggerExport")}},"useExport");var ho=B(require("react")),wa=B(require("warn-once")),Ia=B(require("lodash/debounce"));var _i=o(({resource:e,action:t,id:r,onMutationSuccess:s,onMutationError:n,redirect:i,successNotification:a,errorNotification:u,meta:p,metaData:c,queryMeta:d,mutationMeta:f,mutationMode:R,liveMode:g,onLiveEvent:x,liveParams:E,undoableTimeout:w,dataProviderName:m,invalidates:h,queryOptions:D,createMutationOptions:I,updateMutationOptions:T,overtimeOptions:y,autoSave:l,optimisticUpdateMap:C}={})=>{let v=ve(),{options:P}=se(),U=q(),{resource:b,id:M,action:k,identifier:L}=W(e),{identifier:Q}=W(),H=o(()=>{let xe=r??M;return e&&e!==Q?r:xe},"getDefaultId")(),[K,N]=ho.default.useState(H);ho.default.useEffect(()=>{N(H)},[H]);let G=o(()=>t||(k==="edit"||k==="clone"?k:"create"),"getAction")(),O=U({resource:b,meta:S(p,c)}),{mutationMode:V}=ze(),$=R??V,Y=G==="create",Z=G==="edit",te=G==="clone";(0,wa.default)((te||Z)&&!!e&&!r&&(D==null?void 0:D.enabled)!==!1,`[useForm]: action: "${G}", resource: "${L}", id: ${K} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let De=Oo({redirectFromProps:i,action:G,redirectOptions:P.redirect}),zt=Bt({resource:L,id:K??"",queryOptions:{enabled:K!==void 0&&(Z||te),...D},liveMode:g,onLiveEvent:x,liveParams:E,meta:{...O,...d},metaData:{...O,...d},dataProviderName:m}),{isFetching:Rt}=zt,xt=Kt({mutationOptions:I}),{mutate:Ut,isLoading:Mt}=xt,wt=Rr({mutationOptions:T}),{mutate:wr,isLoading:So}=wt,Ze=Rr({}),{setWarnWhen:_t}=At(),_e=Ss(),Ir=o(async xe=>{_t(!1);let $e=o(Ve=>{_e({redirect:De,resource:b,id:Ve,meta:S(p,c)})},"onSuccess");return $!=="pessimistic"&&setTimeout(()=>{$e()}),new Promise((Ve,lt)=>{if($!=="pessimistic"&&Ve(),!!b)return Ut({values:xe,resource:L??b.name,successNotification:a,errorNotification:u,meta:{...O,...f},metaData:{...O,...f},dataProviderName:m,invalidates:h},{onSuccess:(Ee,mt,ft)=>{var Xt;s&&s(Ee,xe,ft);let ht=(Xt=Ee==null?void 0:Ee.data)==null?void 0:Xt.id;$e(ht),Ve(Ee)},onError:(Ee,mt,ft)=>{if(n)return n(Ee,xe,ft);lt()}})})},"onFinishCreate");ho.default.useEffect(()=>()=>{l!=null&&l.invalidateOnUnmount&&Ze.status==="success"&&v({id:K,invalidates:h||["list","many","detail"],dataProviderName:m,resource:L})},[l==null?void 0:l.invalidateOnUnmount,Ze.status]);let Pt=o(xe=>{if(!b||!Z)return;let $e={id:K??"",values:xe,resource:L??b.name,successNotification:!1,errorNotification:!1,meta:{...O,...f},metaData:{...O,...f},dataProviderName:m,invalidates:[],mutationMode:"pessimistic"};return Ze.mutate($e,{onSuccess:(Ve,lt,Ee)=>{s&&s(Ve,xe,Ee,!0)},onError:(Ve,lt,Ee)=>{if(n)return n(Ve,xe,Ee,!0)}})},"onFinishAutoSaveMutation"),It=(0,Ia.default)(xe=>Pt(xe),(l==null?void 0:l.debounce)||1e3),jt=Y||te?{formLoading:Rt||Mt,mutationResult:xt,onFinish:Ir}:{formLoading:Rt||So,mutationResult:wt,onFinish:o(async xe=>{if(_t(!1),!b)return;let $e={id:K??"",values:xe,resource:L??b.name,mutationMode:$,undoableTimeout:w,successNotification:a,errorNotification:u,meta:{...O,...f},metaData:{...O,...f},dataProviderName:m,invalidates:h,optimisticUpdateMap:C},Ve=o(()=>{_e({redirect:De,resource:b,id:K,meta:S(p,c)})},"onSuccess");return $!=="pessimistic"&&setTimeout(()=>{Ve()}),new Promise((lt,Ee)=>($!=="pessimistic"&&lt(),setTimeout(()=>{wr($e,{onSuccess:(mt,ft,ht)=>{s&&s(mt,xe,ht),$==="pessimistic"&&Ve(),lt(mt)},onError:(mt,ft,ht)=>{if(n)return n(mt,xe,ht);Ee()}})})))},"onFinishUpdate")},{elapsedTime:Ao}=re({isLoading:jt.mutationResult.isLoading||zt.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...jt,queryResult:zt,onFinishAutoSave:It,autoSaveProps:{status:Ze.status,data:Ze.data,error:Ze.error},id:K,setId:N,redirect:(xe,$e)=>{_e({redirect:xe!==void 0?xe:Z?"list":"edit",resource:b,id:$e??K,meta:S(p,c)})},overtime:{elapsedTime:Ao}}},"useForm");var Sa=require("react");var Ss=o(()=>{let{show:e,edit:t,list:r,create:s}=fe();return(0,Sa.useCallback)(({redirect:i,resource:a,id:u,meta:p={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,p):a.edit&&i==="edit"&&u?t(a,u,void 0,p):a.create&&i==="create"?s(a,void 0,p):r(a,"push",p)},[])},"useRedirectionAfterSubmission");var Gt=B(require("react"));var Fa=B(require("react"));var yt=o(()=>{let e=ee(),{resource:t,resources:r}=W(),s=Re();return Fa.default.useCallback(({resource:i,action:a,meta:u})=>{var R;let p=i||t;if(!p)return;let d=(R=Ce(p,r,e==="legacy").find(g=>g.action===a))==null?void 0:R.route;return d?Ie(d,p==null?void 0:p.meta,s,u):void 0},[r,t,s])},"useGetToPath");var ye=o(()=>{let e=(0,Gt.useContext)(at),{select:t}=W(),r=yt(),n=Gt.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Gt.useCallback)(a=>{if(typeof a.to!="object")return n({...a,to:a.to});let{resource:u}=t(a.to.resource);ji(a.to,u);let p=r({resource:u,action:a.to.action,meta:{id:a.to.id,...a.to.meta}});return n({...a,to:p})},[t,n])},"useGo"),ji=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var Co=B(require("react"));var bo=o(()=>{let e=(0,Co.useContext)(at);return Co.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var fe=o(()=>{let{resources:e}=W(),t=ee(),{useHistory:r}=ie(),s=r(),n=Re(),i=ye(),a=bo(),u=o((T,y="push")=>{t==="legacy"?s[y](T):i({to:T,type:y})},"handleUrl"),p=o((T,y={})=>{var l;if(t==="legacy"){let C=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,v=Ce(C,e,!0).find(P=>P.action==="create");return v?Ie(v.route,C==null?void 0:C.meta,n,y):""}else{let C=typeof T=="string"?ge(T,e)??{name:T}:T,v=(l=Ce(C,e).find(P=>P.action==="create"))==null?void 0:l.route;return v?i({to:Ie(v,C==null?void 0:C.meta,n,y),type:"path"}):""}},"createUrl"),c=o((T,y,l={})=>{var v;let C=encodeURIComponent(y);if(t==="legacy"){let P=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,U=Ce(P,e,!0).find(b=>b.action==="edit");return U?Ie(U.route,P==null?void 0:P.meta,n,{...l,id:C}):""}else{let P=typeof T=="string"?ge(T,e)??{name:T}:T,U=(v=Ce(P,e).find(b=>b.action==="edit"))==null?void 0:v.route;return U?i({to:Ie(U,P==null?void 0:P.meta,n,{...l,id:C}),type:"path"}):""}},"editUrl"),d=o((T,y,l={})=>{var v;let C=encodeURIComponent(y);if(t==="legacy"){let P=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,U=Ce(P,e,!0).find(b=>b.action==="clone");return U?Ie(U.route,P==null?void 0:P.meta,n,{...l,id:C}):""}else{let P=typeof T=="string"?ge(T,e)??{name:T}:T,U=(v=Ce(P,e).find(b=>b.action==="clone"))==null?void 0:v.route;return U?i({to:Ie(U,P==null?void 0:P.meta,n,{...l,id:C}),type:"path"}):""}},"cloneUrl"),f=o((T,y,l={})=>{var v;let C=encodeURIComponent(y);if(t==="legacy"){let P=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,U=Ce(P,e,!0).find(b=>b.action==="show");return U?Ie(U.route,P==null?void 0:P.meta,n,{...l,id:C}):""}else{let P=typeof T=="string"?ge(T,e)??{name:T}:T,U=(v=Ce(P,e).find(b=>b.action==="show"))==null?void 0:v.route;return U?i({to:Ie(U,P==null?void 0:P.meta,n,{...l,id:C}),type:"path"}):""}},"showUrl"),R=o((T,y={})=>{var l;if(t==="legacy"){let C=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,v=Ce(C,e,!0).find(P=>P.action==="list");return v?Ie(v.route,C==null?void 0:C.meta,n,y):""}else{let C=typeof T=="string"?ge(T,e)??{name:T}:T,v=(l=Ce(C,e).find(P=>P.action==="list"))==null?void 0:l.route;return v?i({to:Ie(v,C==null?void 0:C.meta,n,y),type:"path"}):""}},"listUrl");return{create:o((T,y="push",l={})=>{u(p(T,l),y)},"create"),createUrl:p,edit:o((T,y,l="push",C={})=>{u(c(T,y,C),l)},"edit"),editUrl:c,clone:o((T,y,l="push",C={})=>{u(d(T,y,C),l)},"clone"),cloneUrl:d,show:o((T,y,l="push",C={})=>{u(f(T,y,C),l)},"show"),showUrl:f,list:o((T,y="push",l={})=>{u(R(T,l),y)},"list"),listUrl:R,push:o((T,...y)=>{t==="legacy"?s.push(T,...y):i({to:T,type:"push"})},"push"),replace:o((T,...y)=>{t==="legacy"?s.replace(T,...y):i({to:T,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?s.goBack():a()},"goBack")}},"useNavigation");var vo=B(require("react")),Aa=B(require("warn-once"));var Xi=o(({resource:e,id:t,successNotification:r,errorNotification:s,meta:n,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:p,queryOptions:c,overtimeOptions:d}={})=>{let{resource:f,id:R,identifier:g}=W(e),{identifier:x}=W(),E=q(),m=o(()=>{let l=t??R;return e&&e!==x?t:l},"getDefaultId")(),[h,D]=(0,vo.useState)(m);vo.default.useEffect(()=>{D(m)},[m]);let I=E({resource:f,meta:S(n,i)});(0,Aa.default)(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let T=Bt({resource:g,id:h??"",queryOptions:{enabled:h!==void 0,...c},successNotification:r,errorNotification:s,meta:I,metaData:I,liveMode:a,onLiveEvent:u,dataProviderName:p}),{elapsedTime:y}=re({isLoading:T.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{queryResult:T,showId:h,setShowId:D,overtime:{elapsedTime:y}}},"useShow");var Ht=require("react"),ka=require("papaparse"),Qa=B(require("lodash/chunk"));var Zi=o(({resourceName:e,resource:t,mapData:r=o(d=>d,"mapData"),paparseOptions:s,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:p,dataProviderName:c}={})=>{let[d,f]=(0,Ht.useState)(0),[R,g]=(0,Ht.useState)(0),[x,E]=(0,Ht.useState)(!1),{resource:w,identifier:m}=W(t??e),h=q(),D=ao(),I=Kt(),T=h({resource:w,meta:S(a,u)}),y;n===1?y=I:y=D;let l=o(()=>{g(0),f(0),E(!1)},"handleCleanup"),C=o(P=>{let U={succeeded:P.filter(b=>b.type==="success"),errored:P.filter(b=>b.type==="error")};i==null||i(U),E(!1)},"handleFinish");(0,Ht.useEffect)(()=>{p==null||p({totalAmount:R,processedAmount:d})},[R,d]);let v=o(({file:P})=>(l(),new Promise(U=>{E(!0),(0,ka.parse)(P,{complete:async({data:b})=>{let M=qt(b,r);if(g(M.length),n===1){let k=M.map(Q=>o(async()=>({response:await I.mutateAsync({resource:m??"",values:Q,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T,metaData:T}),value:Q}),"fn")),L=await Wr(k,({response:Q,value:F})=>(f(H=>H+1),{response:[Q.data],type:"success",request:[F]}),(Q,F)=>({response:[Q],type:"error",request:[M[F]]}));U(L)}else{let k=(0,Qa.default)(M,n),L=k.map(F=>o(async()=>({response:await D.mutateAsync({resource:m??"",values:F,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T,metaData:T}),value:F,currentBatchLength:F.length}),"fn")),Q=await Wr(L,({response:F,currentBatchLength:H,value:K})=>(f(N=>N+H),{response:F.data,type:"success",request:K}),(F,H)=>({response:[F],type:"error",request:k[H]}));U(Q)}},...s})}).then(U=>(C(U),U))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:P=>{P.target.files&&P.target.files.length>0&&v({file:P.target.files[0]})}},mutationResult:y,isLoading:x,handleChange:v}},"useImport");var Cr=require("react");var Yi=o(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Cr.useState)(e),s=(0,Cr.useCallback)(()=>r(!0),[t]),n=(0,Cr.useCallback)(()=>r(!1),[t]);return{visible:t,show:s,close:n}},"useModal");var Va=o(({resource:e,action:t,meta:r,legacy:s})=>yt()({resource:e,action:t,meta:r,legacy:s}),"useToPath");var Do=B(require("react"));var gt=o(()=>{let e=(0,Do.useContext)(at);return e!=null&&e.Link?e.Link:o(({to:r,...s})=>Do.default.createElement("a",{href:r,...s}),"FallbackLink")},"useLink");var Na=require("react");var Fs=B(require("react"));var it={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ji=Fs.default.createContext(it),br=Ji,Ba=o(({children:e,useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a})=>Fs.default.createElement(br.Provider,{value:{useHistory:t??it.useHistory,useLocation:r??it.useLocation,useParams:s??it.useParams,Prompt:n??it.Prompt,Link:i??it.Link,routes:a??it.routes}},e),"LegacyRouterContextProvider");var ie=o(()=>{let e=(0,Na.useContext)(br),{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}=e??it;return{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}},"useRouterContext");var Ga=require("@tanstack/react-query"),Ha=require("react");var As=B(require("react"));var ut=As.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Ka=o(({can:e,children:t,options:r})=>As.default.createElement(ut.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider");var $t=o(e=>{if(!e)return;let{icon:t,list:r,edit:s,create:n,show:i,clone:a,children:u,meta:p,options:c,...d}=e,{icon:f,...R}=p??{},{icon:g,...x}=c??{};return{...d,...p?{meta:R}:{},...c?{options:x}:{}}},"sanitizeResource");var $a=require("@refinedev/devtools-internal");var ks=o(({action:e,resource:t,params:r,queryOptions:s})=>{let{can:n,options:i}=(0,Ha.useContext)(ut),{keys:a,preferLegacyKeys:u}=z(),{queryOptions:p}=i||{},c={...p,...s},{resource:d,...f}=r??{},R=$t(d),g=(0,Ga.useQuery)({queryKey:a().access().resource(t).action(e).params({params:{...f,resource:R},enabled:c==null?void 0:c.enabled}).get(u),queryFn:()=>(n==null?void 0:n({action:e,resource:t,params:{...f,resource:R}}))??Promise.resolve({can:!0}),enabled:typeof n<"u",...c,meta:{...c==null?void 0:c.meta,...(0,$a.getXRay)("useCan",u)},retry:!1});return typeof n>"u"?{data:{can:!0}}:g},"useCan");var Qs=B(require("react"));var qi=o(()=>{let{can:e}=Qs.default.useContext(ut);return{can:Qs.default.useMemo(()=>e?o(async({params:s,...n})=>{let i=s!=null&&s.resource?$t(s.resource):void 0;return e({...n,...s?{params:{...s,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var ct=require("react"),Wa=B(require("lodash/uniqBy")),Oa=B(require("lodash/debounce")),vr=B(require("lodash/get"));var eu=o(e=>{let[t,r]=(0,ct.useState)([]),[s,n]=(0,ct.useState)([]),[i,a]=(0,ct.useState)([]),{resource:u,sort:p,sorters:c,filters:d=[],optionLabel:f="title",optionValue:R="id",debounce:g=300,successNotification:x,errorNotification:E,defaultValueQueryOptions:w,queryOptions:m,fetchSize:h,pagination:D,hasPagination:I=!1,liveMode:T,defaultValue:y=[],onLiveEvent:l,onSearch:C,liveParams:v,meta:P,metaData:U,dataProviderName:b,overtimeOptions:M}=e,{resource:k,identifier:L}=W(u),F=q()({resource:k,meta:S(P,U)}),H=Array.isArray(y)?y:[y],K=(0,ct.useCallback)(Z=>{a(Z.data.map(te=>({label:(0,vr.default)(te,f),value:(0,vr.default)(te,R)})))},[f,R]),N=w??m,X=to({resource:L,ids:H,queryOptions:{...N,enabled:H.length>0&&((N==null?void 0:N.enabled)??!0),onSuccess:Z=>{var te;K(Z),(te=N==null?void 0:N.onSuccess)==null||te.call(N,Z)}},meta:F,metaData:F,liveMode:"off",dataProviderName:b}),G=(0,ct.useCallback)(Z=>{n(Z.data.map(te=>({label:(0,vr.default)(te,f),value:(0,vr.default)(te,R)})))},[f,R]),O=Vt({resource:L,sorters:S(c,p),filters:d.concat(t),pagination:{current:D==null?void 0:D.current,pageSize:(D==null?void 0:D.pageSize)??h,mode:D==null?void 0:D.mode},hasPagination:I,queryOptions:{...m,onSuccess:Z=>{var te;G(Z),(te=m==null?void 0:m.onSuccess)==null||te.call(m,Z)}},successNotification:x,errorNotification:E,meta:F,metaData:F,liveMode:T,liveParams:v,onLiveEvent:l,dataProviderName:b}),V=o(Z=>{if(C){r(C(Z));return}if(Z)r([{field:f,operator:"contains",value:Z}]);else{r([]);return}},"onSearch"),{elapsedTime:$}=re({isLoading:O.isFetching||X.isFetching,interval:M==null?void 0:M.interval,onInterval:M==null?void 0:M.onInterval}),Y=(0,ct.useMemo)(()=>(0,Wa.default)([...s,...i],"value"),[s,i]);return{queryResult:O,defaultValueQueryResult:X,options:Y,onSearch:(0,Oa.default)(V,g),overtime:{elapsedTime:$}}},"useSelect");var Je=B(require("react")),Vs=B(require("qs")),Dr=B(require("lodash/differenceWith")),Lr=B(require("lodash/isEqual")),ja=B(require("warn-once"));var za=[],_a=[];function tu({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:s,initialSorter:n,permanentSorter:i=_a,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:p=za,filters:c,sorters:d,syncWithLocation:f,resource:R,successNotification:g,errorNotification:x,queryOptions:E,liveMode:w,onLiveEvent:m,liveParams:h,meta:D,metaData:I,dataProviderName:T,overtimeOptions:y}={}){var Xt,$s,Ws,Os,zs;let{syncWithLocation:l}=jr(),C=f??l,v=Ms(w),P=ee(),{useLocation:U}=ie(),{search:b,pathname:M}=U(),k=q(),L=Re(),Q=((c==null?void 0:c.mode)||"server")==="server",F=((d==null?void 0:d.mode)||"server")==="server",H=r===!1?"off":"server",K=((s==null?void 0:s.mode)??H)!=="off",N=S(s==null?void 0:s.current,e),X=S(s==null?void 0:s.pageSize,t),G=S(D,I),{parsedCurrent:O,parsedPageSize:V,parsedSorter:$,parsedFilters:Y}=pr(b??"?"),Z=S(c==null?void 0:c.initial,u),te=S(c==null?void 0:c.permanent,p)??za,De=S(d==null?void 0:d.initial,n),Le=S(d==null?void 0:d.permanent,i)??_a,zt=S(c==null?void 0:c.defaultBehavior,a)??"merge",Rt,xt,Ut,Mt;C?(Rt=((Xt=L==null?void 0:L.params)==null?void 0:Xt.current)||O||N||1,xt=(($s=L==null?void 0:L.params)==null?void 0:$s.pageSize)||V||X||10,Ut=((Ws=L==null?void 0:L.params)==null?void 0:Ws.sorters)||($.length?$:De),Mt=((Os=L==null?void 0:L.params)==null?void 0:Os.filters)||(Y.length?Y:Z)):(Rt=N||1,xt=X||10,Ut=De,Mt=Z);let{replace:wt}=fe(),wr=ye(),{resource:So,identifier:Ze}=W(R),_t=k({resource:So,meta:G});Je.default.useEffect(()=>{(0,ja.default)(typeof Ze>"u","useTable: `resource` is not defined.")},[Ze]);let[_e,Ir]=(0,Je.useState)(fr(Le,Ut??[])),[Pt,It]=(0,Je.useState)(mr(te,Mt??[])),[St,Fo]=(0,Je.useState)(Rt),[dt,jt]=(0,Je.useState)(xt),Ao=o(({pagination:{current:he,pageSize:We},sorter:Sr,filters:Fr})=>{if(P==="new")return wr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...K?{current:he,pageSize:We}:{},sorters:Sr,filters:Fr,...xe()}})??"";{let Zt=Vs.default.parse(b==null?void 0:b.substring(1)),Ei=dr({pagination:{pageSize:We,current:he},sorters:_e??Sr,filters:Fr,...Zt});return`${M??""}?${Ei??""}`}},"createLinkForSyncWithLocation");(0,Je.useEffect)(()=>{b===""&&(Fo(Rt),jt(xt),Ir(fr(Le,Ut??[])),It(mr(te,Mt??[])))},[b]);let xe=o(()=>{if(P==="new"){let{sorters:he,filters:We,pageSize:Sr,current:Fr,...Zt}=(L==null?void 0:L.params)??{};return Zt}else{let{sorter:he,filters:We,pageSize:Sr,current:Fr,...Zt}=Vs.default.parse(b,{ignoreQueryPrefix:!0});return Zt}},"currentQueryParams");(0,Je.useEffect)(()=>{if(C){let he=xe();if(P==="new")wr({type:"replace",options:{keepQuery:!0},query:{...K?{pageSize:dt,current:St}:{},sorters:(0,Dr.default)(_e,Le,Lr.default),filters:(0,Dr.default)(Pt,te,Lr.default)}});else{let We=dr({...K?{pagination:{pageSize:dt,current:St}}:{},sorters:(0,Dr.default)(_e,Le,Lr.default),filters:(0,Dr.default)(Pt,te,Lr.default),...he});return wt==null?void 0:wt(`${M}?${We}`,void 0,{shallow:!0})}}},[C,St,dt,_e,Pt]);let $e=Vt({resource:Ze,hasPagination:r,pagination:{current:St,pageSize:dt,mode:s==null?void 0:s.mode},filters:Q?Dt(te,Pt):void 0,sorters:F?lr(Le,_e):void 0,queryOptions:E,successNotification:g,errorNotification:x,meta:_t,metaData:_t,liveMode:v,liveParams:h,onLiveEvent:m,dataProviderName:T}),Ve=o(he=>{It(We=>Dt(te,he,We))},"setFiltersAsMerge"),lt=o(he=>{It(Dt(te,he))},"setFiltersAsReplace"),Ee=o(he=>{It(We=>Dt(te,he(We)))},"setFiltersWithSetter"),mt=o((he,We=zt)=>{typeof he=="function"?Ee(he):We==="replace"?lt(he):Ve(he)},"setFiltersFn"),ft=o(he=>{Ir(()=>lr(Le,he))},"setSortWithUnion"),{elapsedTime:ht}=re({isLoading:$e.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{tableQueryResult:$e,sorters:_e,setSorters:ft,sorter:_e,setSorter:ft,filters:Pt,setFilters:mt,current:St,setCurrent:Fo,pageSize:dt,setPageSize:jt,pageCount:dt?Math.ceil((((zs=$e.data)==null?void 0:zs.total)??0)/dt):1,createLinkForSyncWithLocation:Ao,overtime:{elapsedTime:ht}}}o(tu,"useTable");var Ns=require("react"),Er=require("@tanstack/react-query");var Bs=B(require("react"));var Lt=Bs.default.createContext({}),Xa=o(({create:e,get:t,update:r,children:s})=>Bs.default.createElement(Lt.Provider,{value:{create:e,get:t,update:r}},s),"AuditLogContextProvider");var Ks=require("@refinedev/devtools-internal");var Ke=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Er.useQueryClient)(),s=(0,Ns.useContext)(Lt),{keys:n,preferLegacyKeys:i}=z(),a=J(),{resources:u}=(0,Ns.useContext)(nt),{data:p,refetch:c,isLoading:d}=Zr({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(s!=null&&s.create)}}),f=(0,Er.useMutation)(async g=>{var m,h,D,I,T;let x=ge(g.resource,u),E=S((m=x==null?void 0:x.meta)==null?void 0:m.audit,(h=x==null?void 0:x.options)==null?void 0:h.audit,(I=(D=x==null?void 0:x.options)==null?void 0:D.auditLog)==null?void 0:I.permissions);if(E&&!Bo(E,g.action))return;let w;return d&&(s!=null&&s.create)&&(w=await c()),await((T=s.create)==null?void 0:T.call(s,{...g,author:p??(w==null?void 0:w.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Ks.getXRay)("useLog",i)}}),R=(0,Er.useMutation)(async g=>{var x;return await((x=s.update)==null?void 0:x.call(s,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(n().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Ks.getXRay)("useLog",i)}});return{log:f,rename:R}},"useLog");var Za=require("react"),Ya=require("@tanstack/react-query");var Ja=require("@refinedev/devtools-internal");var ru=o(({resource:e,action:t,meta:r,author:s,metaData:n,queryOptions:i})=>{let{get:a}=(0,Za.useContext)(Lt),{keys:u,preferLegacyKeys:p}=z();return(0,Ya.useQuery)({queryKey:u().audit().resource(e).action("list").params(r).get(p),queryFn:()=>(a==null?void 0:a({resource:e,action:t,author:s,meta:r,metaData:n}))??Promise.resolve([]),enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,Ja.getXRay)("useLogList",p)}})},"useLogList");var qa=require("react"),ei=B(require("warn-once"));var ou=o(({meta:e={}}={})=>{let t=ee(),{i18nProvider:r}=(0,qa.useContext)(Ge),s=Re(),n=j(),{resources:i,resource:a,action:u}=W(),{options:{textTransformers:p}}=se(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let d=o(f=>{var g,x,E,w,m,h;let R=typeof f=="string"?ge(f,i,t==="legacy")??{name:f}:f;if(R){let D=S((g=R==null?void 0:R.meta)==null?void 0:g.parent,R==null?void 0:R.parentName);D&&d(D);let I=Ce(R,i,t==="legacy").find(l=>l.action==="list"),T=(x=I==null?void 0:I.resource)!=null&&x.list?I==null?void 0:I.route:void 0,y=T?t==="legacy"?T:Ie(T,R==null?void 0:R.meta,s,e):void 0;c.push({label:S((E=R.meta)==null?void 0:E.label,(w=R.options)==null?void 0:w.label)??n(`${R.name}.${R.name}`,p.humanize(R.name)),href:y,icon:S((m=R.meta)==null?void 0:m.icon,(h=R.options)==null?void 0:h.icon,R.icon)})}},"addBreadcrumb");if(d(a),u&&u!=="list"){let f=`actions.${u}`,R=n(f);typeof r<"u"&&R===f?((0,ei.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:n(`buttons.${u}`,p.humanize(u))})):c.push({label:n(f,p.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");var Lo=B(require("react"));var Wt=o((e,t,r=!1)=>{let s=[],n=Be(e,t);for(;n;)s.push(n),n=Be(n,t);return s.reverse(),`/${[...s,e].map(a=>be((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var ti=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let i=[],a=Be(n,e);for(;a;)i.push(a),a=Be(a,e);i.reverse();let u=r;i.forEach(c=>{let d=(t?c.route:void 0)??c.identifier??c.name;u.children[d]||(u.children[d]={item:c,children:{}}),u=u.children[d]});let p=(t?n.route:void 0)??n.identifier??n.name;u.children[p]||(u.children[p]={item:n,children:{}})});let s=o(n=>{let i=[];return Object.keys(n.children).forEach(a=>{let u=Wt(n.children[a].item,e,t),p={...n.children[a].item,key:u,children:s(n.children[a])};i.push(p)}),i},"flatten");return s(r)},"createTree");var ri=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),oi=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=j(),s=yt(),n=ee(),{resource:i,resources:a}=W(),{pathname:u}=Re(),{useLocation:p}=ie(),{pathname:c}=p(),d=vt(),R=`/${((n==="legacy"?ri(c):u?ri(u):void 0)??"").replace(/^\//,"")}`,g=i?Wt(i,a,n==="legacy"):R??"",x=Lo.default.useMemo(()=>{if(!i)return[];let m=Be(i,a),h=[Wt(i,a)];for(;m;)h.push(Wt(m,a)),m=Be(m,a);return h},[]),E=Lo.default.useCallback(m=>{var D,I,T,y,l,C;if((((D=m==null?void 0:m.meta)==null?void 0:D.hide)??((I=m==null?void 0:m.options)==null?void 0:I.hide))||!(m!=null&&m.list)&&m.children.length===0)return;let h=m.list?s({resource:m,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...m,route:h,icon:S((T=m.meta)==null?void 0:T.icon,(y=m.options)==null?void 0:y.icon,m.icon),label:S((l=m==null?void 0:m.meta)==null?void 0:l.label,(C=m==null?void 0:m.options)==null?void 0:C.label)??r(`${m.name}.${m.name}`,d(m.name,"plural"))}},[n,e,s,r,t]),w=Lo.default.useMemo(()=>{let m=ti(a,n==="legacy"),h=o(D=>D.flatMap(I=>{let T=h(I.children),y=E({...I,children:T});return y?[y]:[]}),"prepare");return h(m)},[a,n,E]);return{defaultOpenKeys:x,selectedKey:g,menuItems:w}},"useMenu");var q=o(()=>{let{params:e}=Re();return o(({resource:r,meta:s}={})=>{let{meta:n}=$t(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:p,...c}=e??{};return{...n,...c,...s}},"getMetaFn")},"useMeta");var si=o(()=>{let[e,t]=(0,qe.useState)(),r=j(),{push:s}=fe(),n=ye(),i=ee(),{resource:a,action:u}=W();return(0,qe.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),qe.default.createElement(qe.default.Fragment,null,qe.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&qe.default.createElement("p",null,e),qe.default.createElement("button",{onClick:()=>{i==="legacy"?s("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var Pe=B(require("react"));var $r=o(()=>{let[e,t]=(0,Pe.useState)(""),[r,s]=(0,Pe.useState)(""),n=j(),i=J(),{mutate:a}=Qt({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Pe.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},Pe.default.createElement("table",null,Pe.default.createElement("tbody",null,Pe.default.createElement("tr",null,Pe.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Pe.default.createElement("td",null,Pe.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),Pe.default.createElement("tr",null,Pe.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Pe.default.createElement("td",null,Pe.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>s(u.target.value)}))))),Pe.default.createElement("br",null),Pe.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage");var Et=B(require("react"));var ae=B(require("react"));var ni=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:s,contentProps:n,wrapperProps:i,renderContent:a,formProps:u,title:p=void 0,hideForm:c})=>{let d=ee(),f=gt(),{Link:R}=ie(),g=d==="legacy"?R:f,[x,E]=(0,ae.useState)(""),[w,m]=(0,ae.useState)(""),[h,D]=(0,ae.useState)(!1),I=j(),T=J(),{mutate:y}=Qt({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=o((P,U)=>ae.default.createElement(g,{to:P},U),"renderLink"),C=o(()=>e?e.map(P=>ae.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ae.default.createElement("button",{onClick:()=>y({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,P.label??ae.default.createElement("label",null,P.label)))):null,"renderProviders"),v=ae.default.createElement("div",{...n},ae.default.createElement("h1",{style:{textAlign:"center"}},I("pages.login.title","Sign in to your account")),C(),!c&&ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("hr",null),ae.default.createElement("form",{onSubmit:P=>{P.preventDefault(),y({email:x,password:w,remember:h})},...u},ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ae.default.createElement("label",{htmlFor:"email-input"},I("pages.login.fields.email","Email")),ae.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:P=>E(P.target.value)}),ae.default.createElement("label",{htmlFor:"password-input"},I("pages.login.fields.password","Password")),ae.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:w,onChange:P=>m(P.target.value)}),s??ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("label",{htmlFor:"remember-me-input"},I("pages.login.buttons.rememberMe","Remember me"),ae.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:h,value:h.toString(),onChange:()=>{D(!h)}}))),ae.default.createElement("br",null),r??l("/forgot-password",I("pages.login.buttons.forgotPassword","Forgot password?")),ae.default.createElement("input",{type:"submit",value:I("pages.login.signin","Sign in")}),t??ae.default.createElement("span",null,I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",I("pages.login.register","Sign up")))))),t!==!1&&c&&ae.default.createElement("div",{style:{textAlign:"center"}},I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",I("pages.login.register","Sign up"))));return ae.default.createElement("div",{...i},a?a(v,p):v)},"LoginPage");var pe=B(require("react"));var ai=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:s,renderContent:n,formProps:i,title:a=void 0,hideForm:u})=>{let p=ee(),c=gt(),{Link:d}=ie(),f=p==="legacy"?d:c,[R,g]=(0,pe.useState)(""),[x,E]=(0,pe.useState)(""),w=j(),m=J(),{mutate:h,isLoading:D}=Yr({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),I=o((l,C)=>pe.default.createElement(f,{to:l},C),"renderLink"),T=o(()=>e?e.map(l=>pe.default.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},pe.default.createElement("button",{onClick:()=>h({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??pe.default.createElement("label",null,l.label)))):null,"renderProviders"),y=pe.default.createElement("div",{...s},pe.default.createElement("h1",{style:{textAlign:"center"}},w("pages.register.title","Sign up for your account")),T(),!u&&pe.default.createElement(pe.default.Fragment,null,pe.default.createElement("hr",null),pe.default.createElement("form",{onSubmit:l=>{l.preventDefault(),h({email:R,password:x})},...i},pe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},pe.default.createElement("label",{htmlFor:"email-input"},w("pages.register.fields.email","Email")),pe.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:R,onChange:l=>g(l.target.value)}),pe.default.createElement("label",{htmlFor:"password-input"},w("pages.register.fields.password","Password")),pe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:x,onChange:l=>E(l.target.value)}),pe.default.createElement("input",{type:"submit",value:w("pages.register.buttons.submit","Sign up"),disabled:D}),t??pe.default.createElement(pe.default.Fragment,null,pe.default.createElement("span",null,w("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",w("pages.login.signin","Sign in"))))))),t!==!1&&u&&pe.default.createElement("div",{style:{textAlign:"center"}},w("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",w("pages.login.signin","Sign in"))));return pe.default.createElement("div",{...r},n?n(y,a):y)},"RegisterPage");var Fe=B(require("react"));var ii=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:s,formProps:n,title:i=void 0})=>{let a=j(),u=ee(),p=gt(),{Link:c}=ie(),d=u==="legacy"?c:p,[f,R]=(0,Fe.useState)(""),{mutate:g,isLoading:x}=Jr(),E=o((m,h)=>Fe.default.createElement(d,{to:m},h),"renderLink"),w=Fe.default.createElement("div",{...r},Fe.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Fe.default.createElement("hr",null),Fe.default.createElement("form",{onSubmit:m=>{m.preventDefault(),g({email:f})},...n},Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Fe.default.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),Fe.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:m=>R(m.target.value)}),Fe.default.createElement("input",{type:"submit",disabled:x,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Fe.default.createElement("br",null),e??Fe.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",E("/login",a("pages.login.signin","Sign in"))))));return Fe.default.createElement("div",{...t},s?s(w,i):w)},"ForgotPasswordPage");var Ae=B(require("react"));var ui=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:s,title:n=void 0})=>{let i=j(),a=J(),{mutate:u,isLoading:p}=qr({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,d]=(0,Ae.useState)(""),[f,R]=(0,Ae.useState)(""),g=Ae.default.createElement("div",{...t},Ae.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),Ae.default.createElement("hr",null),Ae.default.createElement("form",{onSubmit:x=>{x.preventDefault(),u({password:c,confirmPassword:f})},...s},Ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ae.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),Ae.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:x=>d(x.target.value)}),Ae.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ae.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:x=>R(x.target.value)}),Ae.default.createElement("input",{type:"submit",disabled:p,value:i("pages.updatePassword.buttons.submit","Update")}))));return Ae.default.createElement("div",{...e},r?r(g,n):g)},"UpdatePasswordPage");var ci=o(e=>{let{type:t}=e;return Et.default.createElement(Et.default.Fragment,null,o(()=>{switch(t){case"register":return Et.default.createElement(ai,{...e});case"forgotPassword":return Et.default.createElement(ii,{...e});case"updatePassword":return Et.default.createElement(ui,{...e});default:return Et.default.createElement(ni,{...e})}},"renderView")())},"AuthPage");var ke=B(require("react"));var Eo=o(()=>ke.default.createElement(ke.default.Fragment,null,ke.default.createElement("h1",null,"Welcome on board"),ke.default.createElement("p",null,"Your configuration is completed."),ke.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",ke.default.createElement("code",null,"`resources`")," property of ",ke.default.createElement("code",null,"`<Refine>`")),ke.default.createElement("div",{style:{display:"flex",gap:8}},ke.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Documentation")),ke.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Examples")),ke.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Community")))),"ReadyPage");var Ur=B(require("react"));var le=B(require("react"));var su=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],pi=o(()=>{let e=zr("(max-width: 1010px)"),t=zr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),s=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return le.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},le.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},le.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),le.default.createElement("div",{style:{height:t?"40px":"80px"}}),le.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},le.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),le.default.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),le.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},le.default.createElement("h1",{style:{fontSize:s(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),le.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),le.default.createElement("div",{style:{height:"64px"}}),le.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},su.map(i=>le.default.createElement(nu,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),nu=o(({card:e})=>{let{title:t,description:r,iconUrl:s,link:n}=e,[i,a]=(0,le.useState)(!1);return le.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},le.default.createElement("div",{style:{display:"flex",alignItems:"center"}},le.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},le.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${s})`}}),le.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),le.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),le.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");var A=B(require("react"));var di=o(()=>A.default.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},A.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},A.default.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},A.default.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},A.default.createElement(iu,{style:{position:"absolute",left:0,top:0}}),A.default.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},A.default.createElement(uu,null),A.default.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),A.default.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},A.default.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},A.default.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),A.default.createElement("div",null,A.default.createElement(au,null)))))),"ConfigErrorPage"),au=o(()=>A.default.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},A.default.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage ","}"," ",A.default.createElement("span",{style:{color:"#FF7B72"}},"from")," ",A.default.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,A.default.createElement("span",{style:{color:"#FF7B72"}},"export")," ",A.default.createElement("span",{style:{color:"#FF7B72"}},"default")," ",A.default.createElement("span",null,A.default.createElement("span",{style:{color:"#FF7B72"}},"function")," ",A.default.createElement("span",{style:{color:"#FFA657"}},"App"),"(",A.default.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",A.default.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",A.default.createElement("span",null,A.default.createElement("span",{style:{color:"#79C0FF"}},"<",A.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",A.default.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",A.default.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",A.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",A.default.createElement("span",{style:{color:"#79C0FF"}},"<",A.default.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",A.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",A.default.createElement("span",{style:{color:"#79C0FF"}},"</",A.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),iu=o(e=>A.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),A.default.createElement("defs",null,A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),uu=o(e=>A.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},A.default.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),A.default.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");var li=o(()=>{let{__initialized:e}=se();return Ur.default.createElement(Ur.default.Fragment,null,Ur.default.createElement(pi,null),!e&&Ur.default.createElement(di,null))},"WelcomePage");var me=B(require("react")),Mr=require("@tanstack/react-query"),Ti=require("@refinedev/devtools-internal");var Gs=B(require("react"));var Tt=require("react");var cu="4.47.2",mi=o(()=>{var h;let e=eo(),t=(0,Tt.useContext)(Lt),r=(0,Tt.useContext)(st),s=(0,Tt.useContext)(br),n=(0,Tt.useContext)(xr),{i18nProvider:i}=(0,Tt.useContext)(Ge),a=(0,Tt.useContext)(hr),u=(0,Tt.useContext)(ut),{resources:p}=W(),c=se(),d=!!t.create||!!t.get||!!t.update,f=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),R=!!s.useHistory||!!s.Link||!!s.Prompt||!!s.useLocation||!!s.useParams,g=!!n,x=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),E=!!a.close||!!a.open,w=!!u.can,m=(h=c==null?void 0:c.options)==null?void 0:h.projectId;return{providers:{auth:e,auditLog:d,live:f,router:R,data:g,i18n:x,notification:E,accessControl:w},version:cu,resourceCount:p.length,projectId:m}},"useTelemetryData");var pu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),du=o(e=>{let t=new Image;t.src=e},"throughImage"),lu=o(e=>{fetch(e)},"throughFetch"),mu=o(e=>{typeof Image<"u"?du(e):typeof fetch<"u"&&lu(e)},"transport"),fi=o(()=>{let e=mi(),t=Gs.default.useRef(!1);return Gs.default.useEffect(()=>{if(t.current)return;let r=pu(e);r&&(mu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var yi=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");var Hs=B(require("react"));var gi=o(e=>{let t=Hs.default.useRef(!1);Hs.default.useEffect(()=>{t.current===!1&&e&&yi(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var Ri=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:s,routerProvider:n,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:p,DashboardPage:c,ReadyPage:d,LoginPage:f,catchAll:R,children:g,liveProvider:x,i18nProvider:E,Title:w,Layout:m,Sider:h,Header:D,Footer:I,OffLayoutArea:T,onLiveEvent:y,options:l})=>{let{optionsWithDefaults:C,disableTelemetryWithDefault:v,reactQueryWithDefaults:P}=Wo({options:l}),U=po(()=>{var L;return P.clientConfig instanceof Mr.QueryClient?P.clientConfig:new Mr.QueryClient({...P.clientConfig,defaultOptions:{...P.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(L=P.clientConfig.defaultOptions)==null?void 0:L.queries}}})},[P.clientConfig]);(0,Ti.useQuerySubscription)(U);let M=me.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(gi(n),s&&!n&&(p??[]).length===0)return d?me.default.createElement(d,null):me.default.createElement(Eo,null);let{RouterComponent:k=me.default.Fragment}=n?{}:s??{};return me.default.createElement(Mr.QueryClientProvider,{client:U},me.default.createElement(Ca,{...M},me.default.createElement(nn,{...e??{},isProvided:!!e},me.default.createElement(un,{...t??{},isProvided:!!t},me.default.createElement(ta,{...r},me.default.createElement(na,{liveProvider:x},me.default.createElement(la,{value:s&&!n?"legacy":"new"},me.default.createElement(fa,{router:n},me.default.createElement(Ba,{...s},me.default.createElement(pa,{resources:p??[]},me.default.createElement(Da,{i18nProvider:E},me.default.createElement(Ka,{...a??{}},me.default.createElement(Xa,{...u??{}},me.default.createElement(Cs,null,me.default.createElement(tn,{mutationMode:C.mutationMode,warnWhenUnsavedChanges:C.warnWhenUnsavedChanges,syncWithLocation:C.syncWithLocation,Title:w,undoableTimeout:C.undoableTimeout,catchAll:R,DashboardPage:c,LoginPage:f,Layout:m,Sider:h,Footer:I,Header:D,OffLayoutArea:T,hasDashboard:!!c,liveMode:C.liveMode,onLiveEvent:y,options:C},me.default.createElement(pn,null,me.default.createElement(k,null,g,!v&&me.default.createElement(fi,null),me.default.createElement(Uo,null))))))))))))))))))},"Refine");var Mo=require("react");var bs=o(({notification:e})=>{let t=j(),{notificationDispatch:r}=Xe(),{open:s}=Se(),[n,i]=(0,Mo.useState)(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||s==null||s({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Jt(e.seconds)},`You have ${Jt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Jt(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,Mo.useEffect)(()=>{a()},[e]),null},"UndoableQueue");var Ot=B(require("react"));var xi=o(({children:e,Layout:t,Sider:r,Header:s,Title:n,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:p,Header:c,Sider:d,Title:f,OffLayoutArea:R}=se();return Ot.default.createElement(t??u,{Sider:r??d,Header:s??c,Footer:i??p,Title:n??f,OffLayoutArea:a??R},e,Ot.default.createElement(fu,null))},"LayoutWrapper"),fu=o(()=>{let{Prompt:e}=ie(),t=j(),{warnWhen:r,setWarnWhen:s}=At(),n=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,Ot.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),Ot.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:s})},"UnsavedPrompt");var He=B(require("react"));function Pi({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:s,loading:n}){var D;let i=J(),a=ee(),u=!!(i!=null&&i.isProvided),p=!!(i!=null&&i.isLegacy),c=a==="legacy",d=Re(),f=ye(),{useLocation:R}=ie(),g=R(),{isFetching:x,isSuccess:E,data:{authenticated:w,redirectTo:m}={}}=gr({v3LegacyAuthProviderCompatible:p}),h=u?p?E:w:!0;if(!u)return He.default.createElement(He.default.Fragment,null,r??null);if(x)return He.default.createElement(He.default.Fragment,null,n??null);if(h)return He.default.createElement(He.default.Fragment,null,r??null);{if(typeof s<"u")return He.default.createElement(He.default.Fragment,null,s??null);let I=p?typeof e=="string"?e:"/login":typeof e=="string"?e:m,T=`${c?g==null?void 0:g.pathname:d.pathname}`.replace(/(\?.*|#.*)$/,"");if(I)if(c){let y=t?`?to=${encodeURIComponent(T)}`:"";return He.default.createElement(gu,{to:`${I}${y}`})}else return He.default.createElement(yu,{config:{to:I,query:t?{to:(D=d.params)!=null&&D.to?d.params.to:f({to:T,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}});return null}}o(Pi,"Authenticated");var yu=o(({config:e})=>{let t=ye();return He.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),gu=o(({to:e})=>{let{replace:t}=fe();return He.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy");var hi=require("react");var Uo=o(()=>{let{useLocation:e}=ie(),{checkAuth:t}=de(),r=e();return(0,hi.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");var pt=B(require("react"));var Ci=o(({resource:e,action:t,params:r,fallback:s,onUnauthorized:n,children:i,queryOptions:a,...u})=>{let{resource:p,id:c,action:d}=W(e),{identifier:f}=W(),g=o(()=>{let h=(r==null?void 0:r.id)??c;return e&&e!==f?r==null?void 0:r.id:h},"getDefaultId")(),x=e??(p==null?void 0:p.name),E=t??d??"",w=r??{id:g,resource:p},{data:m}=ks({resource:x,action:E,params:w,queryOptions:a});return(0,pt.useEffect)(()=>{n&&(m==null?void 0:m.can)===!1&&n({resource:x,action:E,reason:m==null?void 0:m.reason,params:w})},[m==null?void 0:m.can]),m!=null&&m.can?pt.default.isValidElement(i)?pt.default.cloneElement(i,u):pt.default.createElement(pt.default.Fragment,null,i):(m==null?void 0:m.can)===!1?pt.default.createElement(pt.default.Fragment,null,s??null):null},"CanAccess");var oe=B(require("react"));var bi=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `];var Tu="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Di=o(()=>((0,oe.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),bi.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),oe.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},oe.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},oe.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},oe.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},oe.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},oe.default.createElement(wo,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),oe.default.createElement(wo,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),oe.default.createElement(vi,{style:{position:"absolute",right:"10px"},id:"3"})),oe.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},oe.default.createElement(wo,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),oe.default.createElement(wo,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),oe.default.createElement(vi,{style:{position:"absolute",right:"-70px"},id:"6"})))),oe.default.createElement(Ru,{text:Tu})))),"GitHubBanner"),Ru=o(({text:e})=>oe.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},oe.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},oe.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),oe.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),oe.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),wo=o(({style:e,...t})=>oe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},oe.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),oe.default.createElement("defs",null,oe.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},oe.default.createElement("stop",{stopColor:"#47EBEB"}),oe.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),vi=o(({style:e,...t})=>oe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},oe.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),oe.default.createElement("defs",null,oe.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},oe.default.createElement("stop",{stopColor:"#47EBEB"}),oe.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig");var Qe=B(require("react"));var Li=o(({status:e,elements:{success:t=Qe.default.createElement(Io,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Qe.default.createElement(Io,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:s=Qe.default.createElement(Io,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:n=Qe.default.createElement(Io,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Qe.default.createElement(Qe.default.Fragment,null,t);case"error":return Qe.default.createElement(Qe.default.Fragment,null,r);case"loading":return Qe.default.createElement(Qe.default.Fragment,null,s);default:return Qe.default.createElement(Qe.default.Fragment,null,n)}},"AutoSaveIndicator"),Io=o(({key:e,defaultMessage:t})=>{let r=j();return Qe.default.createElement("span",null,r(e,t))},"Message");
//# sourceMappingURL=index.js.map