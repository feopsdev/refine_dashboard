"use client"
(()=>{var hi=Object.create;var Eo=Object.defineProperty;var Ci=Object.getOwnPropertyDescriptor;var vi=Object.getOwnPropertyNames;var bi=Object.getPrototypeOf,Di=Object.prototype.hasOwnProperty;var o=(e,t)=>Eo(e,"name",{value:t,configurable:!0}),v=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Os=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Li=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of vi(t))!Di.call(e,n)&&n!==r&&Eo(e,n,{get:()=>t[n],enumerable:!(s=Ci(t,n))||s.enumerable});return e};var k=(e,t,r)=>(r=e!=null?hi(bi(e)):{},Li(t||!e||!e.__esModule?Eo(r,"default",{value:e,enumerable:!0}):r,e));var Cr=Os((ec,Ys)=>{"use client";var Ei=Object.create,hr=Object.defineProperty,Ui=Object.getOwnPropertyDescriptor,Mi=Object.getOwnPropertyNames,wi=Object.getPrototypeOf,Ii=Object.prototype.hasOwnProperty,Si=o((e,t)=>{for(var r in t)hr(e,r,{get:t[r],enumerable:!0})},"N"),$s=o((e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Mi(t))!Ii.call(e,n)&&n!==r&&hr(e,n,{get:()=>t[n],enumerable:!(s=Ui(t,n))||s.enumerable});return e},"E"),Fi=o((e,t,r)=>(r=e!=null?Ei(wi(e)):{},$s(t||!e||!e.__esModule?hr(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Ai=o(e=>$s(hr({},"__esModule",{value:!0}),e),"V"),Ws={};Si(Ws,{DevToolsContext:()=>Zs,DevToolsContextProvider:()=>Qi,DevtoolsEvent:()=>_s,hooksByScope:()=>ki,receive:()=>Xs,scopes:()=>zs,send:()=>js});Ys.exports=Ai(Ws);var _s=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(_s||{}),zs={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},ki=Object.entries(zs).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),St=Fi(v("react"));async function js(e,t,r){if(e.readyState!==e.OPEN){await new Promise(s=>{let n=o(()=>{e.send(JSON.stringify({event:t,payload:r})),s(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}o(js,"d");function Xs(e,t,r){let s=o(n=>{let{event:i,payload:a}=JSON.parse(n.data);t===i&&r(a)},"s");return e.addEventListener("message",s),()=>{e.removeEventListener("message",s)}}o(Xs,"c");var Zs=St.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Qi=o(({__devtools:e,port:t,children:r})=>{let[s,n]=St.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,a]=St.default.useState(null);St.default.useEffect(()=>{let d=new WebSocket(`${s.secure?"wss":"ws"}://localhost:${s.port}`),c=Xs(d,"devtools:handshake",p=>{n(f=>({...f,devtoolsUrl:p.url})),c()});return d.addEventListener("open",()=>{s.__devtools||js(d,"devtools:init",{url:window.location.origin})}),a(d),()=>{c(),d.close(1e3,window.location.origin)}},[]);let u=St.default.useMemo(()=>({...s,ws:i}),[s,i]);return St.default.createElement(Zs.Provider,{value:u},r)},"S")});var ue=Os((nc,on)=>{"use client";var Vi=Object.create,vr=Object.defineProperty,Ni=Object.getOwnPropertyDescriptor,Bi=Object.getOwnPropertyNames,Ki=Object.getPrototypeOf,Gi=Object.prototype.hasOwnProperty,Hi=o((e,t)=>{for(var r in t)vr(e,r,{get:t[r],enumerable:!0})},"L"),Js=o((e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Bi(t))!Gi.call(e,n)&&n!==r&&vr(e,n,{get:()=>t[n],enumerable:!(s=Ni(t,n))||s.enumerable});return e},"d"),qs=o((e,t,r)=>(r=e!=null?Vi(Ki(e)):{},Js(t||!e||!e.__esModule?vr(r,"default",{value:e,enumerable:!0}):r,e)),"E"),Oi=o(e=>Js(vr({},"__esModule",{value:!0}),e),"M"),en={};Hi(en,{getTrace:()=>rn,getXRay:()=>Zi,useQuerySubscription:()=>Yi});on.exports=Oi(en);var $i=qs(v("error-stack-parser")),Wi="renderWithHooks",_i=o(e=>{let t=e.findIndex(r=>r.functionName===Wi);return t!==-1?e.slice(0,t):e},"T"),tn=/node_modules\/refinedev\/(?<name>.*?)\//,zi=o(e=>e?!!e.match(tn):!1,"_"),ji=o(e=>{var t;if(!e)return;let r=e.match(tn),s=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(s)return`@refinedev/${s}`},"R");function rn(){return[];try{let e=new Error,t=$i.default.parse(e);return _i(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:zi(r.fileName),packageName:ji(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}o(rn,"l");var Uo=Cr(),Xi=o((e,t)=>{if(Uo.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(Uo.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(Uo.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Zi(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}o(Zi,"I");var rc=Cr(),oc=qs(v("react")),sc=Cr(),Yi=()=>({})});var tt=k(v("react"));var Oo=v("@tanstack/react-query"),$o=k(ue());var $r=k(v("qs")),Go=k(v("lodash-es/unionWith")),Ho=k(v("lodash-es/differenceWith")),In=k(v("warn-once"));var Xt=o(e=>e/1e3,"userFriendlySecond");var sn=k(v("lodash-es/zip")),nn=k(v("lodash-es/fromPairs"));var br=o((e,t=r=>r)=>{let[r,...s]=e;return s.map(n=>(0,nn.default)((0,sn.default)(r,n))).map((n,i,a)=>t.call(void 0,n,i,a))},"importCSVMapper");var Mo=k(v("pluralize"));var Dr=o((e="",t)=>{let r=Zt(e);return t==="singular"?Mo.default.singular(r):Mo.default.plural(r)},"userFriendlyResourceName");var an=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var F=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function rt(e,t){return e.findIndex((r,s)=>s<=e.length-t.length&&t.every((n,i)=>e[s+i]===n))}o(rt,"arrayFindIndex");function Ji(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(rt(e,["auth","login"])!==-1)return["useLogin"];if(rt(e,["auth","logout"])!==-1)return["useLogout"];if(rt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(rt(e,["auth","register"])!==-1)return["useRegister"];if(rt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(rt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(rt(e,["auth","onError"])!==-1)return["useCheckError"];if(rt(e,["auth","permissions"])!==-1)return["usePermissions"];if(rt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(Ji,"convertToLegacy");var we=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return Ji(this.segments)}get(t){return t?this.legacy():this.segments}};o(we,"BaseKeyBuilder");var je=class extends we{constructor(t){super(t)}params(t){return new we([...this.segments,t])}};o(je,"ParamsKeyBuilder");var Lr=class extends we{constructor(t){super(t)}id(t){return new je([...this.segments,t?String(t):void 0])}};o(Lr,"DataIdRequiringKeyBuilder");var Er=class extends we{constructor(t){super(t)}ids(...t){return new je([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(Er,"DataIdsRequiringKeyBuilder");var Ur=class extends we{constructor(t){super(t)}action(t){if(t==="one")return new Lr([...this.segments,t]);if(t==="many")return new Er([...this.segments,t]);if(["list","infinite"].includes(t))return new je([...this.segments,t]);throw new Error("Invalid action type")}};o(Ur,"DataResourceKeyBuilder");var Mr=class extends we{constructor(t){super(t)}resource(t){return new Ur([...this.segments,t])}mutation(t){return new je([...t==="custom"?this.segments:[this.segments[0]],t])}};o(Mr,"DataKeyBuilder");var wr=class extends we{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(wr,"AuthKeyBuilder");var Ir=class extends we{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(Ir,"AccessResourceKeyBuilder");var Sr=class extends we{constructor(t){super(t)}resource(t){return new Ir([...this.segments,t])}};o(Sr,"AccessKeyBuilder");var Fr=class extends we{constructor(t){super(t)}action(t){return new je([...this.segments,t])}};o(Fr,"AuditActionKeyBuilder");var Ar=class extends we{constructor(t){super(t)}resource(t){return new Fr([...this.segments,t])}action(t){return new je([...this.segments,t])}};o(Ar,"AuditKeyBuilder");var Ft=class extends we{constructor(t){super(t)}data(t){return new Mr(["data",t||"default"])}auth(){return new wr(["auth"])}access(){return new Sr(["access"])}audit(){return new Ar(["audit"])}};o(Ft,"KeyBuilder");var Xe=o(()=>new Ft([]),"keys");var un=o((e,t,r,s)=>{let n=t||"default",i={all:[n],resourceAll:[n,e||""],list:a=>[...i.resourceAll,"list",{...a,...F(r,s)||{}}],many:a=>[...i.resourceAll,"getMany",a&&a.map(String),{...F(r,s)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...F(r,s)||{}}],logList:a=>["logList",e,a,s].filter(u=>u!==void 0)};return i},"queryKeys"),ot=o(e=>(t,r,s,n)=>{let i=r||"default";return{all:Xe().data(i).get(e),resourceAll:Xe().data(r).resource(t??"").get(e),list:u=>Xe().data(r).resource(t??"").action("list").params({...u,...F(s,n)||{}}).get(e),many:u=>Xe().data(r).resource(t??"").action("many").ids(...u??[]).params({...F(s,n)||{}}).get(e),detail:u=>Xe().data(r).resource(t??"").action("one").id(u??"").params({...F(s,n)||{}}).get(e),logList:u=>[...Xe().audit().resource(t).action("list").params(u).get(e),n].filter(d=>d!==void 0)}},"queryKeysReplacement");var wo=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var At=o(e=>e.startsWith(":"),"isParameter");var Je=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var cn=o((e,t)=>{let r=Je(e),s=Je(t);return r.length===s.length},"isSegmentCountsSame");var De=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var dn=o((e,t)=>{let r=De(e),s=De(t);if(!cn(r,s))return!1;let n=Je(r);return Je(s).every((a,u)=>At(a)||a===n[u])},"checkBySegments");var pn=o((e,t,r)=>{let s=De(r||""),n=`${s}${s?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath");var Ke=o((e,t)=>{var n,i;let r=F((n=e.meta)==null?void 0:n.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var Yt=o((e,t,r)=>{let s=[],n=Ke(e,t);for(;n;)s.push(n),n=Ke(n,t);if(s.length!==0)return`/${s.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return De(a)}).join("/")}`},"getParentPrefixForResource");var be=o((e,t,r)=>{let s=[],n=["list","show","edit","create","clone"],i=Yt(e,t,r);return n.forEach(a=>{var c,p;let u=r&&a==="clone"?e.create:e[a],d;typeof u=="function"||r?d=pn(r?((c=e.meta)==null?void 0:c.route)??((p=e.options)==null?void 0:p.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?d=u:typeof u=="object"&&(d=u.path),d&&s.push({action:a,resource:e,route:`/${d.replace(/^\//,"")}`})}),s},"getActionRoutesFromResource");var ln=o(e=>{var n;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:Je(De(i.route))})),r=((n=t[0])==null?void 0:n.splitted.length)??0,s=[...t];for(let i=0;i<r;i++){let a=s.filter(u=>!At(u.splitted[i]));if(a.length!==0){if(a.length===1){s=a;break}s=a}}return s[0]},"pickMatchedRoute");var mn=o((e,t)=>{let s=t.flatMap(i=>be(i,t)).filter(i=>dn(e,i.route)),n=ln(s);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute");var kr=o((e,t)=>{var n;let r,s=Yt(e,t,!0);if(s){let i=F(e.meta,e.options);r=`${s}/${(i==null?void 0:i.route)??e.name}`}else r=((n=e.options)==null?void 0:n.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var fn=o(e=>{var a;let t=[],r={},s={},n,i;for(let u=0;u<e.length;u++){n=e[u];let d=n.route??((a=F(n==null?void 0:n.meta,n.options))==null?void 0:a.route)??"";r[d]=n,r[d].children=[],s[n.name]=n,s[n.name].children=[]}for(let u in r)r.hasOwnProperty(u)&&(i=r[u],i.parentName&&s[i.parentName]?s[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var Zt=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");var Fo=k(v("react")),So=k(v("pluralize"));var yn=k(v("react"));var Io=o(({children:e})=>yn.default.createElement("div",null,e),"DefaultLayout");var Ie={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Zt,plural:So.default.plural,singular:So.default.singular},disableServerSideValidation:!1},Se=Fo.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Io,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ie}),gn=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,undoableTimeout:n,children:i,DashboardPage:a,Title:u,Layout:d=Io,Header:c,Sider:p,Footer:f,OffLayoutArea:R,LoginPage:g=Ao,catchAll:P,liveMode:U="off",onLiveEvent:I,options:m})=>Fo.default.createElement(Se.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,Title:u,undoableTimeout:n,Layout:d,Header:c,Sider:p,Footer:f,OffLayoutArea:R,DashboardPage:a,LoginPage:g,catchAll:P,liveMode:U,onLiveEvent:I,options:m}},i),"RefineContextProvider");var ko=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:s,reactQueryClientConfig:n,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:d}={})=>{var R,g,P,U,I,m,h,L;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??s??Ie.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Ie.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??Ie.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??d??Ie.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ie.liveMode,redirect:{afterCreate:((R=e==null?void 0:e.redirect)==null?void 0:R.afterCreate)??Ie.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??Ie.redirect.afterClone,afterEdit:((P=e==null?void 0:e.redirect)==null?void 0:P.afterEdit)??Ie.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ie.overtime,textTransformers:{humanize:((U=e==null?void 0:e.textTransformers)==null?void 0:U.humanize)??Ie.textTransformers.humanize,plural:((I=e==null?void 0:e.textTransformers)==null?void 0:I.plural)??Ie.textTransformers.plural,singular:((m=e==null?void 0:e.textTransformers)==null?void 0:m.singular)??Ie.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ie.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,f={clientConfig:((h=e==null?void 0:e.reactQuery)==null?void 0:h.clientConfig)??n??{},devtoolConfig:((L=e==null?void 0:e.reactQuery)==null?void 0:L.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:p,reactQueryWithDefaults:f}},"handleRefineOptions");var Qo=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var Qr=o(async(e,t,r)=>{let s=[];for(let[n,i]of e.entries())try{let a=await i();s.push(t(a,n))}catch(a){s.push(r(a,n))}return s},"sequentialPromises");var ge=o((e,t=[],r=!1)=>{if(!e)return;if(r){let n=t.find(a=>De(a.route??"")===De(e));return n||t.find(a=>a.name===e)}let s=t.find(n=>n.identifier===e);return s||(s=t.find(n=>n.name===e)),s},"pickResource");var j=o((e,t,r)=>{if(t)return t;let s=ge(e,r),n=F(s==null?void 0:s.meta,s==null?void 0:s.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider");var st=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var Vr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let s=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/n);return s<i?Number(s)+1:void 0},"getNextPageParam"),Nr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let s=(t==null?void 0:t.current)||1;return s===1?void 0:s-1},"getPreviousPageParam");var Br=o(e=>{let t=[];return e.forEach(r=>{var s,n;t.push({...r,label:((s=r.meta)==null?void 0:s.label)??((n=r.options)==null?void 0:n.label),route:kr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var Tn=o(e=>Je(De(e)).flatMap(r=>At(r)?[r.slice(1)]:[]),"pickRouteParams");var Rn=o((e,t={})=>e.reduce((r,s)=>{let n=t[s];return typeof n<"u"&&(r[s]=n),r},{}),"prepareRouteParams");var Fe=o((e,t={},r={},s={})=>{let n=Tn(e),i=Rn(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...s});return e.replace(/:([^\/]+)/g,(a,u)=>{let d=i[u];return typeof d<"u"?`${d}`:a})},"composeRoute");var Ct=k(v("react"));var Pn=Ct.default.createContext({}),xn=o(({children:e,isProvided:t,...r})=>{let{replace:s}=Re(),n=o(async d=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"loginFunc"),i=o(async d=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"registerFunc"),a=o(async d=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"logoutFunc"),u=o(async d=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,d)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&s(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return Ct.default.createElement(Pn.Provider,{value:{...r,login:n,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),hn=Ct.default.createContext({}),Cn=o(({children:e,isProvided:t,...r})=>{let s=o(async c=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,c))}catch(f){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogin"),n=o(async c=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,c))}catch(f){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleRegister"),i=o(async c=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,c))}catch(f){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogout"),a=o(async c=>{var p;try{let f=await((p=r.check)==null?void 0:p.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleCheck"),u=o(async c=>{var p;try{let f=await((p=r.forgotPassword)==null?void 0:p.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleForgotPassword"),d=o(async c=>{var p;try{let f=await((p=r.updatePassword)==null?void 0:p.call(r,c));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleUpdatePassword");return Ct.default.createElement(hn.Provider,{value:{...r,login:s,logout:i,check:a,register:n,forgotPassword:u,updatePassword:d,isProvided:t}},e)},"AuthBindingsContextProvider"),de=o(()=>Ct.default.useContext(Pn),"useLegacyAuthContext"),Te=o(()=>Ct.default.useContext(hn),"useAuthBindingsContext");var q=o(()=>{let e=de(),t=Te();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var Jt=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let s=e===!1?"off":"server",n=(t==null?void 0:t.mode)??s,i=F(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=F(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:n}},"handlePaginationParams");var Kr=v("react");var Gr=o(e=>{let[t,r]=(0,Kr.useState)(!1);return(0,Kr.useEffect)(()=>{let s=window.matchMedia(e);s.matches!==t&&r(s.matches);let n=o(()=>r(s.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery");var Hr=o((e,t,r,s)=>{let n=s?e(t,s,r):e(t,r),i=r??t;return n===t||typeof n>"u"?i:n},"safeTranslate");function vn(e,t,r,s,n){var R;let i={create:"Create new ",clone:`#${s??""} Clone `,edit:`#${s??""} Edit `,show:`#${s??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((R=t==null?void 0:t.meta)==null?void 0:R.label)??Dr(a,r==="list"?"plural":"singular"),d=n??u,c=Hr(e,"documentTitle.default","refine"),p=Hr(e,"documentTitle.suffix"," | refine"),f=c;return r&&a&&(f=Hr(e,`documentTitle.${a}.${r}`,`${i[r]??""}${d}${p}`,{id:s})),f}o(vn,"generateDefaultDocumentTitle");var bn=v("react");var Ze=o(()=>{let{mutationMode:e,undoableTimeout:t}=(0,bn.useContext)(Se);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");var No=v("react");var qt=k(v("react"));var Vo=qt.default.createContext({}),Dn=o(({children:e})=>{let[t,r]=(0,qt.useState)(!1);return qt.default.createElement(Vo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var er=o(()=>{let{warnWhenUnsavedChanges:e}=(0,No.useContext)(Se),{warnWhen:t,setWarnWhen:r}=(0,No.useContext)(Vo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");var Ln=v("react");var Bo=o(()=>{let{syncWithLocation:e}=(0,Ln.useContext)(Se);return{syncWithLocation:e}},"useSyncWithLocation");var En=v("react");var qi=o(()=>{let{Title:e}=(0,En.useContext)(Se);return e},"useTitle");var Un=v("react");var ne=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:f,LoginPage:R,catchAll:g,options:P,__initialized:U}=(0,Un.useContext)(Se);return{__initialized:U,Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:f,LoginPage:R,catchAll:g,options:P}},"useRefineContext");var kt=o(()=>{let{options:{textTransformers:e}}=ne();return o((r="",s)=>{let n=e.humanize(r);return s==="singular"?e.singular(n):e.plural(n)},"getFriendlyName")},"useUserFriendlyName");var Mn=o(e=>typeof e=="object"&&e!==null,"isNested"),eu=o(e=>Array.isArray(e),"isArray"),Or=o((e,t="")=>Mn(e)?Object.keys(e).reduce((r,s)=>{let n=t.length?t+".":"";return Mn(e[s])&&Object.keys(e[s]).length&&(eu(e[s])&&e[s].length?e[s].forEach((i,a)=>{Object.assign(r,Or(i,n+s+"."+a))}):Object.assign(r,Or(e[s],n+s))),r[n+s]=e[s],r},{}):{[t]:e},"flattenObjectKeys");var wn=o(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Ko=o((e,t,r)=>{if(typeof window>"u")return;let s=new Blob([t],{type:r}),n=document.createElement("a");n.setAttribute("visibility","hidden"),n.download=e;let i=URL.createObjectURL(s);n.href=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser");var Wr=o(e=>{let{current:t,pageSize:r,sorter:s,sorters:n,filters:i}=$r.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:F(n,s)??[],parsedFilters:i??[]}},"parseTableParams"),tu=o(e=>{let t=$r.default.stringify(e);return Wr(`/${t}`)},"parseTableParamsFromQuery"),_r=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:s,sorters:n,filters:i,...a}=e;return $r.default.stringify({...a,...r||{},sorters:F(n,s),filters:i},t)},"stringifyTableParams"),Sn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Fn=o((e,t)=>e.field==t.field,"compareSorters"),Qt=o((e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,In.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Go.default)(e,t,r,Sn).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),zr=o((e,t)=>(0,Go.default)(e,t,Fn).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),jr=o((e,t)=>[...(0,Ho.default)(t,e,Sn),...e],"setInitialFilters"),Xr=o((e,t)=>[...(0,Ho.default)(t,e,Fn),...e],"setInitialSorters"),ru=o((e,t)=>{if(!t)return;let r=t.find(s=>s.field===e);if(r)return r.order},"getDefaultSortOrder"),ou=o((e,t,r="eq")=>{let s=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:i,field:a}=n;return a===e&&i===r}});if(s)return s.value||[]},"getDefaultFilter");var su=o(e=>new Promise((t,r)=>{let s=new FileReader,n=o(()=>{s.result&&(s.removeEventListener("load",n,!1),t(s.result))},"resultHandler");s.addEventListener("load",n,!1),s.readAsDataURL(e.originFileObj),s.onerror=i=>(s.removeEventListener("load",n,!1),r(i))}),"file2Base64");var z=o(()=>{let{options:{useNewQueryKeys:e}}=ne();return{keys:Xe,preferLegacyKeys:!e}},"useKeys");function nu({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=de(),{getPermissions:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,Oo.useQuery)({queryKey:n().auth().action("permissions").get(i),queryFn:s??(()=>Promise.resolve(void 0)),enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,$o.getXRay)("usePermissions",i)}}),u=(0,Oo.useQuery)({queryKey:[...n().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve(void 0)),enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,$o.getXRay)("usePermissions",i)}});return e?u:a}o(nu,"usePermissions");var Wo=v("@tanstack/react-query"),_o=k(ue());function zo({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=de(),{getIdentity:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,Wo.useQuery)({queryKey:n().auth().action("identity").get(i),queryFn:s??(()=>Promise.resolve({})),enabled:!e&&!!s,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,_o.getXRay)("useGetIdentity",i)}}),u=(0,Wo.useQuery)({queryKey:[...n().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,_o.getXRay)("useGetIdentity",i)}});return e?u:a}o(zo,"useGetIdentity");var Xo=v("@tanstack/react-query"),Zo=k(ue());var An=v("@tanstack/react-query");var Vt=o(()=>{let e=(0,An.useQueryClient)(),{keys:t,preferLegacyKeys:r}=z();return o(async()=>{await Promise.all(["check","identity","permissions"].map(n=>e.invalidateQueries(t().auth().action(n).get(r))))},"invalidate")},"useInvalidateAuthStore");function Zr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Vt(),s=re(),n=Pe(),{push:i}=Re(),{open:a,close:u}=Ve(),{logout:d}=de(),{logout:c}=Te(),{keys:p,preferLegacyKeys:f}=z(),R=(0,Xo.useMutation)({mutationKey:p().auth().action("logout").get(f),mutationFn:c,onSuccess:async(P,U)=>{let{success:I,error:m,redirectTo:h,successNotification:L}=P,{redirectPath:S}=U??{},T=S??h;I&&(u==null||u("useLogout-error"),L&&(a==null||a(au(L)))),(m||!I)&&(a==null||a(jo(m))),T!==!1&&(s==="legacy"?i(T??"/login"):T&&n({to:T})),await r()},onError:P=>{a==null||a(jo(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Zo.getXRay)("useLogout",f)}}),g=(0,Xo.useMutation)({mutationKey:[...p().auth().action("logout").get(f),"v3LegacyAuthProviderCompatible"],mutationFn:d,onSuccess:async(P,U)=>{let I=(U==null?void 0:U.redirectPath)??P;if(I!==!1){if(I){s==="legacy"?i(I):n({to:I});return}s==="legacy"?i("/login"):n({to:"/login"}),await r()}},onError:P=>{a==null||a(jo(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Zo.getXRay)("useLogout",f)}});return e?g:R}o(Zr,"useLogout");var jo=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),au=o(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");var kn=k(v("react")),Jo=v("@tanstack/react-query"),qo=k(ue()),Qn=k(v("qs"));function tr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Vt(),s=re(),n=Pe(),{replace:i}=Re(),a=he(),{useLocation:u}=pe(),{search:d}=u(),{close:c,open:p}=Ve(),{login:f}=de(),{login:R}=Te(),{keys:g,preferLegacyKeys:P}=z(),U=kn.default.useMemo(()=>{var h;return s==="legacy"?Qn.default.parse(d,{ignoreQueryPrefix:!0}).to:(h=a.params)==null?void 0:h.to},[s,a.params,d]),I=(0,Jo.useMutation)({mutationKey:g().auth().action("login").get(P),mutationFn:R,onSuccess:async({success:h,redirectTo:L,error:S,successNotification:T})=>{h&&(c==null||c("login-error"),T&&(p==null||p(iu(T)))),(S||!h)&&(p==null||p(Yo(S))),U&&h?s==="legacy"?i(U):n({to:U,type:"replace"}):L?s==="legacy"?i(L):n({to:L,type:"replace"}):s==="legacy"&&i("/"),await r()},onError:h=>{p==null||p(Yo(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,qo.getXRay)("useLogin",P)}}),m=(0,Jo.useMutation)({mutationKey:[...g().auth().action("login").get(P),"v3LegacyAuthProviderCompatible"],mutationFn:f,onSuccess:async h=>{U&&i(U),h!==!1&&!U&&(typeof h=="string"?s==="legacy"?i(h):n({to:h,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"})),await r(),c==null||c("login-error")},onError:h=>{p==null||p(Yo(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,qo.getXRay)("useLogin",P)}});return e?m:I}o(tr,"useLogin");var Yo=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),iu=o(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");var ts=v("@tanstack/react-query"),rs=k(ue());function os({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Vt(),s=re(),n=Pe(),{replace:i}=Re(),{register:a}=de(),{register:u}=Te(),{close:d,open:c}=Ve(),{keys:p,preferLegacyKeys:f}=z(),R=(0,ts.useMutation)({mutationKey:p().auth().action("register").get(f),mutationFn:u,onSuccess:async({success:P,redirectTo:U,error:I,successNotification:m})=>{P&&(d==null||d("register-error"),m&&(c==null||c(uu(m)))),(I||!P)&&(c==null||c(es(I))),U?s==="legacy"?i(U):n({to:U,type:"replace"}):s==="legacy"&&i("/"),await r()},onError:P=>{c==null||c(es(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,rs.getXRay)("useRegister",f)}}),g=(0,ts.useMutation)({mutationKey:[...p().auth().action("register").get(f),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:async P=>{P!==!1&&(P?s==="legacy"?i(P):n({to:P,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"}),await r(),d==null||d("register-error"))},onError:P=>{c==null||c(es(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,rs.getXRay)("useRegister",f)}});return e?g:R}o(os,"useRegister");var es=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),uu=o(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");var ns=v("@tanstack/react-query"),as=k(ue());function is({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=re(),s=Pe(),{replace:n}=Re(),{forgotPassword:i}=de(),{forgotPassword:a}=Te(),{close:u,open:d}=Ve(),{keys:c,preferLegacyKeys:p}=z(),f=(0,ns.useMutation)({mutationKey:c().auth().action("forgotPassword").get(p),mutationFn:a,onSuccess:({success:g,redirectTo:P,error:U,successNotification:I})=>{g&&(u==null||u("forgot-password-error"),I&&(d==null||d(cu(I)))),(U||!g)&&(d==null||d(ss(U))),P&&(r==="legacy"?n(P):s({to:P,type:"replace"}))},onError:g=>{d==null||d(ss(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,as.getXRay)("useForgotPassword",p)}}),R=(0,ns.useMutation)({mutationKey:[...c().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:g=>{g!==!1&&g&&(r==="legacy"?n(g):s({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{d==null||d(ss(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,as.getXRay)("useForgotPassword",p)}});return e?R:f}o(is,"useForgotPassword");var ss=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),cu=o(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");var Vn=k(v("react")),cs=v("@tanstack/react-query"),ds=k(ue()),Nn=k(v("qs"));function ps({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=re(),s=Pe(),{replace:n}=Re(),{updatePassword:i}=de(),{updatePassword:a}=Te(),{close:u,open:d}=Ve(),{keys:c,preferLegacyKeys:p}=z(),f=he(),{useLocation:R}=pe(),{search:g}=R(),P=Vn.default.useMemo(()=>r==="legacy"?Nn.default.parse(g,{ignoreQueryPrefix:!0})??{}:f.params??{},[g,f,r]),U=(0,cs.useMutation)({mutationKey:c().auth().action("updatePassword").get(p),mutationFn:async m=>a==null?void 0:a({...P,...m}),onSuccess:({success:m,redirectTo:h,error:L,successNotification:S})=>{m&&(u==null||u("update-password-error"),S&&(d==null||d(du(S)))),(L||!m)&&(d==null||d(us(L))),h&&(r==="legacy"?n(h):s({to:h,type:"replace"}))},onError:m=>{d==null||d(us(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ds.getXRay)("useUpdatePassword",p)}}),I=(0,cs.useMutation)({mutationKey:[...c().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:async m=>i==null?void 0:i({...P,...m}),onSuccess:m=>{m!==!1&&m&&(r==="legacy"?n(m):s({to:m,type:"replace"})),u==null||u("update-password-error")},onError:m=>{d==null||d(us(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ds.getXRay)("useUpdatePassword",p)}});return e?I:U}o(ps,"useUpdatePassword");var us=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),du=o(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");var ls=v("@tanstack/react-query"),ms=k(ue());function Yr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=de(),{check:s}=Te(),{keys:n,preferLegacyKeys:i}=z(),a=(0,ls.useQuery)({queryKey:n().auth().action("check").params(t).get(i),queryFn:async()=>await(s==null?void 0:s(t))??{},retry:!1,enabled:!e,meta:{...(0,ms.getXRay)("useIsAuthenticated",i)}}),u=(0,ls.useQuery)({queryKey:[...n().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,ms.getXRay)("useIsAuthenticated",i)}});return e?u:a}o(Yr,"useIsAuthenticated");var pu=Yr;var fs=v("@tanstack/react-query"),ys=k(ue());function le({v3LegacyAuthProviderCompatible:e=!1}={}){let t=re(),r=Pe(),{replace:s}=Re(),{checkError:n}=de(),{onError:i}=Te(),{keys:a,preferLegacyKeys:u}=z(),{mutate:d}=Zr({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=Zr({v3LegacyAuthProviderCompatible:!!e}),p=(0,fs.useMutation)({mutationKey:a().auth().action("onError").get(u),mutationFn:i,onSuccess:({logout:R,redirectTo:g})=>{if(R){c({redirectPath:g});return}if(g){t==="legacy"?s(g):r({to:g,type:"replace"});return}},meta:{...(0,ys.getXRay)("useOnError",u)}}),f=(0,fs.useMutation)({mutationKey:[...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:n,onError:R=>{d({redirectPath:R})},meta:{...(0,ys.getXRay)("useOnError",u)}});return e?f:p}o(le,"useOnError");var lu=le;var gs=o(()=>{let{isProvided:e}=de(),{isProvided:t}=Te();return!!(t||e)},"useIsExistAuthentication");var Bn=k(ue()),Kn=v("@tanstack/react-query");var rr=v("react");var se=o(({isLoading:e,interval:t,onInterval:r})=>{let[s,n]=(0,rr.useState)(void 0),{options:i}=ne(),{overtime:a}=i,u=t??a.interval,d=r??(a==null?void 0:a.onInterval);return(0,rr.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{n(p=>p===void 0?u:p+u)},u)),()=>{clearInterval(c),n(void 0)}},[e,u]),(0,rr.useEffect)(()=>{d&&s&&d(s)},[s]),{elapsedTime:s}},"useLoadingOvertime");var or=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:f,onLiveEvent:R,liveParams:g,dataProviderName:P,overtimeOptions:U}={})=>{let{resources:I,resource:m,identifier:h}=W(e),L=ae(),S=X(),T=q(),{mutate:y}=le({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=me(),C=ee(),{keys:D,preferLegacyKeys:x}=z(),M=j(h,P,I),b=F(c,p),w=F(r,t==null?void 0:t.filters),V=F(i,t==null?void 0:t.sort),E=F(s,t==null?void 0:t.hasPagination),N=Jt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:E}),A=N.mode==="server",O=C({resource:m,meta:b}),G={meta:O,metaData:O,filters:w,hasPagination:A,pagination:N,sorters:V,config:{...t,sort:V}},K=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:Z}=L(M);ft({resource:h,types:["*"],params:{meta:O,metaData:O,pagination:N,hasPagination:A,sort:V,sorters:V,filters:w,subscriptionType:"useList",...g},channel:`resources/${m==null?void 0:m.name}`,enabled:K,liveMode:f,onLiveEvent:R,dataProviderName:M,meta:{...c,dataProviderName:P}});let H=(0,Kn.useQuery)({queryKey:D().data(M).resource(h??"").action("list").params({...b||{},filters:w,hasPagination:A,...A&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(x),queryFn:({queryKey:B,pageParam:$,signal:J})=>Z({resource:(m==null?void 0:m.name)??"",pagination:N,hasPagination:A,filters:w,sort:V,sorters:V,meta:{...O,queryContext:{queryKey:B,pageParam:$,signal:J}},metaData:{...O,queryContext:{queryKey:B,pageParam:$,signal:J}}}),...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(m!=null&&m.name),select:B=>{var Le;let $=B,{current:J,mode:Y,pageSize:te}=N;return Y==="client"&&($={...$,data:$.data.slice((J-1)*te,J*te),total:$.total}),a!=null&&a.select?(Le=a==null?void 0:a.select)==null?void 0:Le.call(a,$):$},onSuccess:B=>{var J;(J=a==null?void 0:a.onSuccess)==null||J.call(a,B);let $=typeof u=="function"?u(B,G,h):u;l($)},onError:B=>{var J;y(B),(J=a==null?void 0:a.onError)==null||J.call(a,B);let $=typeof d=="function"?d(B,G,h):d;l($,{key:`${h}-useList-notification`,message:S("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Bn.getXRay)("useList",x)}}),{elapsedTime:_}=se({isLoading:H.isFetching,interval:U==null?void 0:U.interval,onInterval:U==null?void 0:U.onInterval});return{...H,overtime:{elapsedTime:_}}},"useList");var Gn=k(ue()),Hn=v("@tanstack/react-query");var sr=o(({resource:e,id:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:f})=>{let{resources:R,resource:g,identifier:P}=W(e),U=ae(),I=X(),m=q(),{mutate:h}=le({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),L=me(),S=ee(),{keys:T,preferLegacyKeys:y}=z(),l=F(i,a),C=j(P,p,R),{getOne:D}=U(C),x=S({resource:g,meta:l});ft({resource:P,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:x,metaData:x,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let M=(0,Hn.useQuery)({queryKey:T().data(C).resource(P??"").action("one").id(t??"").params({...l||{}}).get(y),queryFn:({queryKey:w,pageParam:V,signal:E})=>D({resource:(g==null?void 0:g.name)??"",id:t,meta:{...x,queryContext:{queryKey:w,pageParam:V,signal:E}},metaData:{...x,queryContext:{queryKey:w,pageParam:V,signal:E}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:w=>{var E;(E=r==null?void 0:r.onSuccess)==null||E.call(r,w);let V=typeof s=="function"?s(w,{id:t,...x},P):s;L(V)},onError:w=>{var E;h(w),(E=r==null?void 0:r.onError)==null||E.call(r,w);let V=typeof n=="function"?n(w,{id:t,...x},P):n;L(V,{key:`${t}-${P}-getOne-notification`,message:I("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Gn.getXRay)("useOne",y)}}),{elapsedTime:b}=se({isLoading:M.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...M,overtime:{elapsedTime:b}}},"useOne");var On=k(ue()),$n=v("@tanstack/react-query");var Ts=o(({resource:e,ids:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:f})=>{let{resources:R,resource:g,identifier:P}=W(e),U=ae(),I=X(),m=q(),{mutate:h}=le({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),L=me(),S=ee(),{keys:T,preferLegacyKeys:y}=z(),l=F(i,a),C=j(P,p,R),D=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:x,getOne:M}=U(C),b=S({resource:g,meta:l});ft({resource:P,types:["*"],params:{ids:t,meta:b,metaData:b,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:D,liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let w=(0,$n.useQuery)({queryKey:T().data(C).resource(P).action("many").ids(...t).params({...l||{}}).get(y),queryFn:({queryKey:E,pageParam:N,signal:A})=>x?x({resource:g==null?void 0:g.name,ids:t,meta:{...b,queryContext:{queryKey:E,pageParam:N,signal:A}},metaData:{...b,queryContext:{queryKey:E,pageParam:N,signal:A}}}):st(t.map(O=>M({resource:g==null?void 0:g.name,id:O,meta:{...b,queryContext:{queryKey:E,pageParam:N,signal:A}},metaData:{...b,queryContext:{queryKey:E,pageParam:N,signal:A}}}))),...r,onSuccess:E=>{var A;(A=r==null?void 0:r.onSuccess)==null||A.call(r,E);let N=typeof s=="function"?s(E,t,P):s;L(N)},onError:E=>{var A;h(E),(A=r==null?void 0:r.onError)==null||A.call(r,E);let N=typeof n=="function"?n(E,t,P):n;L(N,{key:`${t[0]}-${P}-getMany-notification`,message:I("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,On.getXRay)("useMany",y)}}),{elapsedTime:V}=se({isLoading:w.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...w,overtime:{elapsedTime:V}}},"useMany");var _n=k(ue()),eo=v("@tanstack/react-query");var Nt=k(v("react")),Jr=k(v("lodash-es/isEqual"));var qr=Nt.default.createContext({notifications:[],notificationDispatch:()=>!1}),mu=[],fu=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(s=>!((0,Jr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(s=>!((0,Jr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(s=>(0,Jr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource?{...s,seconds:t.payload.seconds-1e3}:s);default:return e}},"undoableQueueReducer"),Rs=o(({children:e})=>{let[t,r]=(0,Nt.useReducer)(fu,mu),s={notifications:t,notificationDispatch:r};return Nt.default.createElement(qr.Provider,{value:s},e,typeof window<"u"&&t.map(n=>Nt.default.createElement(Wn,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider");var to=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=W(),n=(0,eo.useQueryClient)(),i=ae(),{mutationMode:a,undoableTimeout:u}=Ze(),d=X(),c=q(),{mutate:p}=le({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),f=$e(),{log:R}=We(),{notificationDispatch:g}=qe(),P=me(),U=Ee(),I=ee(),{options:{textTransformers:m}}=ne(),{keys:h,preferLegacyKeys:L}=z(),S=(0,eo.useMutation)({mutationFn:({id:y,values:l,resource:C,mutationMode:D,undoableTimeout:x,onCancel:M,meta:b,metaData:w,dataProviderName:V})=>{let{resource:E,identifier:N}=s(C),A=I({resource:E,meta:F(b,w)}),O=D??a,G=x??u;return O!=="undoable"?i(j(N,V,r)).update({resource:E.name,id:y,variables:l,meta:A,metaData:A}):new Promise((Z,H)=>{let _=o(()=>{i(j(N,V,r)).update({resource:E.name,id:y,variables:l,meta:A,metaData:A}).then($=>Z($)).catch($=>H($))},"doMutation"),B=o(()=>{H({message:"mutationCancelled"})},"cancelMutation");M&&M(B),g({type:"ADD",payload:{id:y,resource:N,cancelMutation:B,doMutation:_,seconds:G,isSilent:!!M}})})},onMutate:async({resource:y,id:l,mutationMode:C,values:D,dataProviderName:x,meta:M,metaData:b,optimisticUpdateMap:w={list:!0,many:!0,detail:!0}})=>{let{identifier:V}=s(y),{gqlMutation:E,gqlQuery:N,...A}=F(M,b)??{},O=ot(L)(V,j(V,x,r),A),G=h().data(j(V,x,r)).resource(V),K=n.getQueriesData(G.get(L)),Z=C??a;return await n.cancelQueries(G.get(L),void 0,{silent:!0}),Z!=="pessimistic"&&(w.list&&n.setQueriesData(G.action("list").params(A??{}).get(L),H=>{if(typeof w.list=="function")return w.list(H,D,l);if(!H)return null;let _=H.data.map(B=>{var $;return(($=B.id)==null?void 0:$.toString())===(l==null?void 0:l.toString())?{id:l,...B,...D}:B});return{...H,data:_}}),w.many&&n.setQueriesData(G.action("many").get(L),H=>{if(typeof w.many=="function")return w.many(H,D,l);if(!H)return null;let _=H.data.map(B=>{var $;return(($=B.id)==null?void 0:$.toString())===(l==null?void 0:l.toString())&&(B={id:l,...B,...D}),B});return{...H,data:_}}),w.detail&&n.setQueriesData(G.action("one").id(l).params(A??{}).get(L),H=>typeof w.detail=="function"?w.detail(H,D,l):H?{...H,data:{...H.data,...D}}:null)),{previousQueries:K,queryKey:O}},onSettled:(y,l,{id:C,resource:D,dataProviderName:x,invalidates:M=["list","many","detail"]})=>{let{identifier:b}=s(D);U({resource:b,dataProviderName:j(b,x,r),invalidates:M,id:C}),g({type:"REMOVE",payload:{id:C,resource:b}})},onSuccess:(y,{id:l,resource:C,successNotification:D,dataProviderName:x,values:M,meta:b,metaData:w},V)=>{var J;let{resource:E,identifier:N}=s(C),A=m.singular(N),O=j(N,x,r),G=I({resource:E,meta:F(b,w)}),K=typeof D=="function"?D(y,{id:l,values:M},N):D;P(K,{key:`${l}-${N}-notification`,description:d("notifications.success","Successful"),message:d("notifications.editSuccess",{resource:d(`${N}.${N}`,A)},`Successfully updated ${A}`),type:"success"}),f==null||f({channel:`resources/${E.name}`,type:"updated",payload:{ids:(J=y.data)!=null&&J.id?[y.data.id]:void 0},date:new Date,meta:{...G,dataProviderName:O}});let Z;if(V){let Y=n.getQueryData(V.queryKey.detail(l));Z=Object.keys(M||{}).reduce((te,Le)=>{var Ue;return te[Le]=(Ue=Y==null?void 0:Y.data)==null?void 0:Ue[Le],te},{})}let{fields:H,operation:_,variables:B,...$}=G||{};R==null||R.mutate({action:"update",resource:E.name,data:M,previousData:Z,meta:{id:l,dataProviderName:O,...$}})},onError:(y,{id:l,resource:C,errorNotification:D,values:x},M)=>{let{identifier:b}=s(C);if(M)for(let w of M.previousQueries)n.setQueryData(w[0],w[1]);if(y.message!=="mutationCancelled"){p==null||p(y);let w=m.singular(b),V=typeof D=="function"?D(y,{id:l,values:x},b):D;P(V,{key:`${l}-${b}-notification`,message:d("notifications.editError",{resource:d(`${b}.${b}`,w),statusCode:y.statusCode},`Error when updating ${w} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("update").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,_n.getXRay)("useUpdate",L)}}),{elapsedTime:T}=se({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:T}}},"useUpdate");var zn=k(ue()),jn=v("@tanstack/react-query");var nr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=q(),{mutate:s}=le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ae(),i=Ee(),{resources:a,select:u}=W(),d=X(),c=$e(),{log:p}=We(),f=me(),R=ee(),{options:{textTransformers:g}}=ne(),{keys:P,preferLegacyKeys:U}=z(),I=(0,jn.useMutation)({mutationFn:({resource:h,values:L,meta:S,metaData:T,dataProviderName:y})=>{let{resource:l,identifier:C}=u(h),D=R({resource:l,meta:F(S,T)});return n(j(C,y,a)).create({resource:l.name,variables:L,meta:D,metaData:D})},onSuccess:(h,{resource:L,successNotification:S,dataProviderName:T,invalidates:y=["list","many"],values:l,meta:C,metaData:D})=>{var K,Z;let{resource:x,identifier:M}=u(L),b=g.singular(M),w=j(M,T,a),V=R({resource:x,meta:F(C,D)}),E=typeof S=="function"?S(h,l,M):S;f(E,{key:`create-${M}-notification`,message:d("notifications.createSuccess",{resource:d(`${M}.${M}`,b)},`Successfully created ${b}`),description:d("notifications.success","Success"),type:"success"}),i({resource:M,dataProviderName:w,invalidates:y}),c==null||c({channel:`resources/${x.name}`,type:"created",payload:{ids:(K=h==null?void 0:h.data)!=null&&K.id?[h.data.id]:void 0},date:new Date,meta:{...V,dataProviderName:w}});let{fields:N,operation:A,variables:O,...G}=V||{};p==null||p.mutate({action:"create",resource:x.name,data:l,meta:{dataProviderName:w,id:((Z=h==null?void 0:h.data)==null?void 0:Z.id)??void 0,...G}})},onError:(h,{resource:L,errorNotification:S,values:T})=>{s(h);let{identifier:y}=u(L),l=g.singular(y),C=typeof S=="function"?S(h,T,y):S;f(C,{key:`create-${y}-notification`,description:h.message,message:d("notifications.createError",{resource:d(`${y}.${y}`,l),statusCode:h.statusCode},`There was an error creating ${l} (status code: ${h.statusCode})`),type:"error"})},mutationKey:P().data().mutation("create").get(U),...e,meta:{...e==null?void 0:e.meta,...(0,zn.getXRay)("useCreate",U)}}),{elapsedTime:m}=se({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:m}}},"useCreate");var Xn=k(ue()),ro=v("@tanstack/react-query");var yu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=q(),{mutate:s}=le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ae(),{resources:i,select:a}=W(),u=(0,ro.useQueryClient)(),{mutationMode:d,undoableTimeout:c}=Ze(),{notificationDispatch:p}=qe(),f=X(),R=$e(),{log:g}=We(),P=me(),U=Ee(),I=ee(),{options:{textTransformers:m}}=ne(),{keys:h,preferLegacyKeys:L}=z(),S=(0,ro.useMutation)({mutationFn:({id:y,mutationMode:l,undoableTimeout:C,resource:D,onCancel:x,meta:M,metaData:b,dataProviderName:w,values:V})=>{let{resource:E,identifier:N}=a(D),A=I({resource:E,meta:F(M,b)}),O=l??d,G=C??c;return O!=="undoable"?n(j(N,w,i)).deleteOne({resource:E.name,id:y,meta:A,metaData:A,variables:V}):new Promise((Z,H)=>{let _=o(()=>{n(j(N,w,i)).deleteOne({resource:E.name,id:y,meta:A,metaData:A,variables:V}).then($=>Z($)).catch($=>H($))},"doMutation"),B=o(()=>{H({message:"mutationCancelled"})},"cancelMutation");x&&x(B),p({type:"ADD",payload:{id:y,resource:N,cancelMutation:B,doMutation:_,seconds:G,isSilent:!!x}})})},onMutate:async({id:y,resource:l,mutationMode:C,dataProviderName:D,meta:x,metaData:M})=>{let{identifier:b}=a(l),{gqlMutation:w,gqlQuery:V,...E}=F(x,M)??{},N=ot(L)(b,j(b,D,i),E),A=h().data(j(b,D,i)).resource(b),O=C??d;await u.cancelQueries(A.get(L),void 0,{silent:!0});let G=u.getQueriesData(A.get(L));return O!=="pessimistic"&&(u.setQueriesData(A.action("list").params(E??{}).get(L),K=>K?{data:K.data.filter(H=>{var _;return((_=H.id)==null?void 0:_.toString())!==y.toString()}),total:K.total-1}:null),u.setQueriesData(A.action("many").get(L),K=>{if(!K)return null;let Z=K.data.filter(H=>{var _;return((_=H.id)==null?void 0:_.toString())!==(y==null?void 0:y.toString())});return{...K,data:Z}})),{previousQueries:G,queryKey:N}},onSettled:(y,l,{id:C,resource:D,dataProviderName:x,invalidates:M=["list","many"]})=>{let{identifier:b}=a(D);U({resource:b,dataProviderName:j(b,x,i),invalidates:M}),p({type:"REMOVE",payload:{id:C,resource:b}})},onSuccess:(y,{id:l,resource:C,successNotification:D,dataProviderName:x,meta:M,metaData:b},w)=>{let{resource:V,identifier:E}=a(C),N=m.singular(E),A=j(E,x,i),O=I({resource:V,meta:F(M,b)});u.removeQueries(w==null?void 0:w.queryKey.detail(l));let G=typeof D=="function"?D(y,l,E):D;P(G,{key:`${l}-${E}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${E}.${E}`,N)},`Successfully deleted a ${N}`),type:"success"}),R==null||R({channel:`resources/${V.name}`,type:"deleted",payload:{ids:[l]},date:new Date,meta:{...O,dataProviderName:A}});let{fields:K,operation:Z,variables:H,..._}=O||{};g==null||g.mutate({action:"delete",resource:V.name,meta:{id:l,dataProviderName:A,..._}}),u.removeQueries(w==null?void 0:w.queryKey.detail(l))},onError:(y,{id:l,resource:C,errorNotification:D},x)=>{let{identifier:M}=a(C);if(x)for(let b of x.previousQueries)u.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){s(y);let b=m.singular(M),w=typeof D=="function"?D(y,l,M):D;P(w,{key:`${l}-${M}-notification`,message:f("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("delete").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,Xn.getXRay)("useDelete",L)}}),{elapsedTime:T}=se({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:T}}},"useDelete");var Zn=k(ue()),Yn=v("@tanstack/react-query");var Ps=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ae(),{resources:s,select:n}=W(),i=X(),a=$e(),u=me(),d=Ee(),{log:c}=We(),p=ee(),{options:{textTransformers:f}}=ne(),{keys:R,preferLegacyKeys:g}=z(),P=(0,Yn.useMutation)({mutationFn:({resource:I,values:m,meta:h,metaData:L,dataProviderName:S})=>{let{resource:T,identifier:y}=n(I),l=p({resource:T,meta:F(h,L)}),C=r(j(y,S,s));return C.createMany?C.createMany({resource:T.name,variables:m,meta:l,metaData:l}):st(m.map(D=>C.create({resource:T.name,variables:D,meta:l,metaData:l})))},onSuccess:(I,{resource:m,successNotification:h,dataProviderName:L,invalidates:S=["list","many"],values:T,meta:y,metaData:l})=>{let{resource:C,identifier:D}=n(m),x=f.plural(D),M=j(D,L,s),b=p({resource:C,meta:F(y,l)}),w=typeof h=="function"?h(I,T,D):h;u(w,{key:`createMany-${D}-notification`,message:i("notifications.createSuccess",{resource:i(`${D}.${D}`,D)},`Successfully created ${x}`),description:i("notifications.success","Success"),type:"success"}),d({resource:D,dataProviderName:M,invalidates:S});let V=I==null?void 0:I.data.filter(G=>(G==null?void 0:G.id)!==void 0).map(G=>G.id);a==null||a({channel:`resources/${C.name}`,type:"created",payload:{ids:V},date:new Date,meta:{...b,dataProviderName:M}});let{fields:E,operation:N,variables:A,...O}=b||{};c==null||c.mutate({action:"createMany",resource:C.name,data:T,meta:{dataProviderName:M,ids:V,...O}})},onError:(I,{resource:m,errorNotification:h,values:L})=>{let{identifier:S}=n(m),T=typeof h=="function"?h(I,L,S):h;u(T,{key:`createMany-${S}-notification`,description:I.message,message:i("notifications.createError",{resource:i(`${S}.${S}`,S),statusCode:I.statusCode},`There was an error creating ${S} (status code: ${I.statusCode}`),type:"error"})},mutationKey:R().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Zn.getXRay)("useCreateMany",g)}}),{elapsedTime:U}=se({isLoading:P.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...P,overtime:{elapsedTime:U}}},"useCreateMany");var Jn=k(ue()),oo=v("@tanstack/react-query");var gu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=W(),n=(0,oo.useQueryClient)(),i=ae(),a=X(),{mutationMode:u,undoableTimeout:d}=Ze(),c=q(),{mutate:p}=le({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:f}=qe(),R=$e(),g=me(),P=Ee(),{log:U}=We(),I=ee(),{options:{textTransformers:m}}=ne(),{keys:h,preferLegacyKeys:L}=z(),S=(0,oo.useMutation)({mutationFn:({ids:y,values:l,resource:C,onCancel:D,mutationMode:x,undoableTimeout:M,meta:b,metaData:w,dataProviderName:V})=>{let{resource:E,identifier:N}=s(C),A=I({resource:E,meta:F(b,w)}),O=x??u,G=M??d,K=i(j(N,V,r)),Z=o(()=>K.updateMany?K.updateMany({resource:E.name,ids:y,variables:l,meta:A,metaData:A}):st(y.map(_=>K.update({resource:E.name,id:_,variables:l,meta:A,metaData:A}))),"mutationFn");return O!=="undoable"?Z():new Promise((_,B)=>{let $=o(()=>{Z().then(Y=>_(Y)).catch(Y=>B(Y))},"doMutation"),J=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");D&&D(J),f({type:"ADD",payload:{id:y,resource:N,cancelMutation:J,doMutation:$,seconds:G,isSilent:!!D}})})},onMutate:async({resource:y,ids:l,values:C,mutationMode:D,dataProviderName:x,meta:M,metaData:b,optimisticUpdateMap:w={list:!0,many:!0,detail:!0}})=>{let{identifier:V}=s(y),{gqlMutation:E,gqlQuery:N,...A}=F(M,b)??{},O=ot(L)(V,j(V,x,r),A),G=h().data(j(V,x,r)).resource(V),K=D??u;await n.cancelQueries(G.get(L),void 0,{silent:!0});let Z=n.getQueriesData(G.get(L));if(K!=="pessimistic"&&(w.list&&n.setQueriesData(G.action("list").params(A??{}).get(L),H=>{if(typeof w.list=="function")return w.list(H,C,l);if(!H)return null;let _=H.data.map(B=>B.id!==void 0&&l.filter($=>$!==void 0).map(String).includes(B.id.toString())?{...B,...C}:B);return{...H,data:_}}),w.many&&n.setQueriesData(G.action("many").get(L),H=>{if(typeof w.many=="function")return w.many(H,C,l);if(!H)return null;let _=H.data.map(B=>B.id!==void 0&&l.filter($=>$!==void 0).map(String).includes(B.id.toString())?{...B,...C}:B);return{...H,data:_}}),w.detail))for(let H of l)n.setQueriesData(G.action("one").id(H).params(A??{}).get(L),_=>{if(typeof w.detail=="function")return w.detail(_,C,H);if(!_)return null;let B={..._.data,...C};return{..._,data:B}});return{previousQueries:Z,queryKey:O}},onSettled:(y,l,{ids:C,resource:D,dataProviderName:x})=>{let{identifier:M}=s(D);P({resource:M,invalidates:["list","many"],dataProviderName:j(M,x,r)}),C.forEach(b=>P({resource:M,invalidates:["detail"],dataProviderName:j(M,x,r),id:b})),f({type:"REMOVE",payload:{id:C,resource:M}})},onSuccess:(y,{ids:l,resource:C,meta:D,metaData:x,dataProviderName:M,successNotification:b,values:w},V)=>{let{resource:E,identifier:N}=s(C),A=m.singular(N),O=j(N,M,r),G=I({resource:E,meta:F(D,x)}),K=typeof b=="function"?b(y,{ids:l,values:w},N):b;g(K,{key:`${l}-${N}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${N}.${N}`,N)},`Successfully updated ${A}`),type:"success"}),R==null||R({channel:`resources/${E.name}`,type:"updated",payload:{ids:l.map(String)},date:new Date,meta:{...G,dataProviderName:O}});let Z=[];V&&l.forEach(J=>{let Y=n.getQueryData(V.queryKey.detail(J));Z.push(Object.keys(w||{}).reduce((te,Le)=>{var Ue;return te[Le]=(Ue=Y==null?void 0:Y.data)==null?void 0:Ue[Le],te},{}))});let{fields:H,operation:_,variables:B,...$}=G||{};U==null||U.mutate({action:"updateMany",resource:E.name,data:w,previousData:Z,meta:{ids:l,dataProviderName:O,...$}})},onError:(y,{ids:l,resource:C,errorNotification:D,values:x},M)=>{let{identifier:b}=s(C);if(M)for(let w of M.previousQueries)n.setQueryData(w[0],w[1]);if(y.message!=="mutationCancelled"){p==null||p(y);let w=m.singular(b),V=typeof D=="function"?D(y,{ids:l,values:x},b):D;g(V,{key:`${l}-${b}-updateMany-error-notification`,message:a("notifications.editError",{resource:w,statusCode:y.statusCode},`Error when updating ${w} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("updateMany").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,Jn.getXRay)("useUpdateMany",L)}}),{elapsedTime:T}=se({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:T}}},"useUpdateMany");var qn=k(ue()),so=v("@tanstack/react-query");var Tu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=q(),{mutate:s}=le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:i}=Ze(),a=ae(),{notificationDispatch:u}=qe(),d=X(),c=$e(),p=me(),f=Ee(),{log:R}=We(),{resources:g,select:P}=W(),U=(0,so.useQueryClient)(),I=ee(),{options:{textTransformers:m}}=ne(),{keys:h,preferLegacyKeys:L}=z(),S=(0,so.useMutation)({mutationFn:({resource:y,ids:l,mutationMode:C,undoableTimeout:D,onCancel:x,meta:M,metaData:b,dataProviderName:w,values:V})=>{let{resource:E,identifier:N}=P(y),A=I({resource:E,meta:F(M,b)}),O=C??n,G=D??i,K=a(j(N,w,g)),Z=o(()=>K.deleteMany?K.deleteMany({resource:E.name,ids:l,meta:A,metaData:A,variables:V}):st(l.map(_=>K.deleteOne({resource:E.name,id:_,meta:A,metaData:A,variables:V}))),"mutationFn");return O!=="undoable"?Z():new Promise((_,B)=>{let $=o(()=>{Z().then(Y=>_(Y)).catch(Y=>B(Y))},"doMutation"),J=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");x&&x(J),u({type:"ADD",payload:{id:l,resource:N,cancelMutation:J,doMutation:$,seconds:G,isSilent:!!x}})})},onMutate:async({ids:y,resource:l,mutationMode:C,dataProviderName:D,meta:x,metaData:M})=>{let{identifier:b}=P(l),{gqlMutation:w,gqlQuery:V,...E}=F(x,M)??{},N=ot(L)(b,j(b,D,g),E),A=h().data(j(b,D,g)).resource(b),O=C??n;await U.cancelQueries(A.get(L),void 0,{silent:!0});let G=U.getQueriesData(A.get(L));if(O!=="pessimistic"){U.setQueriesData(A.action("list").params(E??{}).get(L),K=>K?{data:K.data.filter(H=>H.id&&!y.map(String).includes(H.id.toString())),total:K.total-1}:null),U.setQueriesData(A.action("many").get(L),K=>{if(!K)return null;let Z=K.data.filter(H=>H.id?!y.map(String).includes(H.id.toString()):!1);return{...K,data:Z}});for(let K of y)U.setQueriesData(A.action("one").id(K).params(E).get(L),Z=>!Z||Z.data.id==K?null:{...Z})}return{previousQueries:G,queryKey:N}},onSettled:(y,l,{resource:C,ids:D,dataProviderName:x,invalidates:M=["list","many"]})=>{let{identifier:b}=P(C);f({resource:b,dataProviderName:j(b,x,g),invalidates:M}),u({type:"REMOVE",payload:{id:D,resource:b}})},onSuccess:(y,{ids:l,resource:C,meta:D,metaData:x,dataProviderName:M,successNotification:b},w)=>{let{resource:V,identifier:E}=P(C),N=j(E,M,g),A=I({resource:V,meta:F(D,x)});l.forEach(_=>U.removeQueries(w==null?void 0:w.queryKey.detail(_)));let O=typeof b=="function"?b(y,l,E):b;p(O,{key:`${l}-${E}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${E}.${E}`,E)},`Successfully deleted ${E}`),type:"success"}),c==null||c({channel:`resources/${V.name}`,type:"deleted",payload:{ids:l},date:new Date,meta:{...A,dataProviderName:N}});let{fields:G,operation:K,variables:Z,...H}=A||{};R==null||R.mutate({action:"deleteMany",resource:V.name,meta:{ids:l,dataProviderName:N,...H}}),l.forEach(_=>U.removeQueries(w==null?void 0:w.queryKey.detail(_)))},onError:(y,{ids:l,resource:C,errorNotification:D},x)=>{let{identifier:M}=P(C);if(x)for(let b of x.previousQueries)U.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){s(y);let b=m.singular(M),w=typeof D=="function"?D(y,l,M):D;p(w,{key:`${l}-${M}-notification`,message:d("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:h().data().mutation("deleteMany").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,qn.getXRay)("useDeleteMany",L)}}),{elapsedTime:T}=se({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:T}}},"useDeleteMany");var Ru=o(e=>{var n;let t=ae(),{resource:r}=W(),{getApiUrl:s}=t(e??((n=F(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:n.dataProviderName));return s()},"useApiUrl");var ea=v("@tanstack/react-query"),ta=k(ue());var Pu=o(({url:e,method:t,config:r,queryOptions:s,successNotification:n,errorNotification:i,meta:a,metaData:u,dataProviderName:d,overtimeOptions:c})=>{let p=ae(),f=q(),{mutate:R}=le({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),g=X(),P=me(),U=ee(),{keys:I,preferLegacyKeys:m}=z(),h=F(a,u),{custom:L}=p(d),S=U({meta:h});if(L){let T=(0,ea.useQuery)({queryKey:I().data(d).mutation("custom").params({method:t,url:e,...r,...h||{}}).get(m),queryFn:({queryKey:l,pageParam:C,signal:D})=>L({url:e,method:t,...r,meta:{...S,queryContext:{queryKey:l,pageParam:C,signal:D}},metaData:{...S,queryContext:{queryKey:l,pageParam:C,signal:D}}}),...s,onSuccess:l=>{var D;(D=s==null?void 0:s.onSuccess)==null||D.call(s,l);let C=typeof n=="function"?n(l,{...r,...S}):n;P(C)},onError:l=>{var D;R(l),(D=s==null?void 0:s.onError)==null||D.call(s,l);let C=typeof i=="function"?i(l,{...r,...S}):i;P(C,{key:`${t}-notification`,message:g("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},meta:{...s==null?void 0:s.meta,...(0,ta.getXRay)("useCustom",m)}}),{elapsedTime:y}=se({isLoading:T.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...T,overtime:{elapsedTime:y}}}else throw Error("Not implemented custom on data provider.")},"useCustom");var ra=v("@tanstack/react-query"),oa=k(ue());var xu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=q(),{mutate:s}=le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=me(),i=ae(),a=X(),u=ee(),{keys:d,preferLegacyKeys:c}=z(),p=(0,ra.useMutation)(({url:R,method:g,values:P,meta:U,metaData:I,dataProviderName:m,config:h})=>{let L=u({meta:F(U,I)}),{custom:S}=i(m);if(S)return S({url:R,method:g,payload:P,meta:L,metaData:L,headers:{...h==null?void 0:h.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(R,{successNotification:g,config:P,meta:U,metaData:I})=>{let m=typeof g=="function"?g(R,{...P,...F(U,I)||{}}):g;n(m)},onError:(R,{errorNotification:g,method:P,config:U,meta:I,metaData:m})=>{s(R);let h=typeof g=="function"?g(R,{...U,...F(I,m)||{}}):g;n(h,{key:`${P}-notification`,message:a("notifications.error",{statusCode:R.statusCode},`Error (status code: ${R.statusCode})`),description:R.message,type:"error"})},mutationKey:d().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,oa.getXRay)("useCustomMutation",c)}}),{elapsedTime:f}=se({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:f}}},"useCustomMutation");var no=v("react");var xs=k(v("react"));var hu=o(()=>({}),"defaultDataProvider"),ar=xs.default.createContext(hu()),sa=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},xs.default.createElement(ar.Provider,{value:r},e)},"DataContextProvider");var ae=o(()=>{let e=(0,no.useContext)(ar);return(0,no.useCallback)(r=>{if(r){if(!(e==null?void 0:e[r]))throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");var na=k(ue()),aa=v("@tanstack/react-query");var Cu=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:f,onLiveEvent:R,liveParams:g,dataProviderName:P,overtimeOptions:U})=>{let{resources:I,resource:m,identifier:h}=W(e),L=ae(),S=X(),T=q(),{mutate:y}=le({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=me(),C=ee(),{keys:D,preferLegacyKeys:x}=z(),M=j(h,P,I),b=F(c,p),w=F(r,t==null?void 0:t.filters),V=F(i,t==null?void 0:t.sort),E=F(s,t==null?void 0:t.hasPagination),N=Jt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:E}),A=N.mode==="server",O={meta:b,metaData:b,filters:w,hasPagination:A,pagination:N,sorters:V,config:{...t,sort:V}},G=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,K=C({resource:m,meta:b}),{getList:Z}=L(M);ft({resource:h,types:["*"],params:{meta:K,metaData:K,pagination:N,hasPagination:A,sort:V,sorters:V,filters:w,subscriptionType:"useList",...g},channel:`resources/${m.name}`,enabled:G,liveMode:f,onLiveEvent:R,dataProviderName:M,meta:{...K,dataProviderName:P}});let H=(0,aa.useInfiniteQuery)({queryKey:D().data(M).resource(h).action("infinite").params({...b||{},filters:w,hasPagination:A,...A&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(x),queryFn:({queryKey:B,pageParam:$,signal:J})=>{let Y={...N,current:$};return Z({resource:m.name,pagination:Y,hasPagination:A,filters:w,sort:V,sorters:V,meta:{...K,queryContext:{queryKey:B,pageParam:$,signal:J}},metaData:{...K,queryContext:{queryKey:B,pageParam:$,signal:J}}}).then(({data:te,total:Le,...Ue})=>({data:te,total:Le,pagination:Y,...Ue}))},getNextPageParam:B=>Vr(B),getPreviousPageParam:B=>Nr(B),...a,onSuccess:B=>{var J;(J=a==null?void 0:a.onSuccess)==null||J.call(a,B);let $=typeof u=="function"?u(B,O,h):u;l($)},onError:B=>{var J;y(B),(J=a==null?void 0:a.onError)==null||J.call(a,B);let $=typeof d=="function"?d(B,O,h):d;l($,{key:`${h}-useInfiniteList-notification`,message:S("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,na.getXRay)("useInfiniteList",x)}}),{elapsedTime:_}=se({isLoading:H.isFetching,interval:U==null?void 0:U.interval,onInterval:U==null?void 0:U.onInterval});return{...H,overtime:{elapsedTime:_}}},"useInfiniteList");var hs=k(v("react"));var nt=hs.default.createContext(void 0),ia=o(({liveProvider:e,children:t})=>hs.default.createElement(nt.Provider,{value:e},t),"LiveContextProvider");var xa=v("react"),ha=v("@tanstack/react-query");var Ra=v("react");var Cs=k(v("react"));var pa=v("react");var ua=v("react"),ca=k(v("lodash-es/isEqual"));var da=o(e=>{let t=(0,ua.useRef)(e);return(0,ca.default)(t.current,e)||(t.current=e),t.current},"useMemoized");var ao=o((e,t)=>{let r=da(t);return(0,pa.useMemo)(e,r)},"useDeepMemo");var yt=Cs.default.createContext({resources:[]}),la=o(({resources:e,children:t})=>{let r=ao(()=>Br(e??[]),[e]);return Cs.default.createElement(yt.Provider,{value:{resources:r}},t)},"ResourceContextProvider");var vs=k(v("react"));var ma=vs.default.createContext("new"),fa=ma.Provider,re=o(()=>vs.default.useContext(ma),"useRouterType");var Ta=k(v("react"));var io=k(v("react"));var ya={},at=(0,io.createContext)(ya),ga=o(({children:e,router:t})=>io.default.createElement(at.Provider,{value:t??ya},e),"RouterBindingsProvider");var uo=k(v("react"));var bs=o(()=>{let e=(0,uo.useContext)(at);return uo.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var he=o(()=>{let e=bs();return Ta.default.useMemo(()=>e(),[e])},"useParsed");function W(e){let{resources:t}=(0,Ra.useContext)(yt),r=re(),s=he(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((f,R=!0)=>{let P=ge(f,t,r==="legacy");if(P)return{resource:P,identifier:P.identifier??P.name};if(R){let U={name:f,identifier:f},I=U.identifier??U.name;return{resource:U,identifier:I}}},"select"),a=Pa(),{useParams:u}=pe(),d=u();if(r==="legacy"){let f=n.resourceNameOrRouteName?n.resourceNameOrRouteName:d.resource,R=f?a(f):void 0,g=(n==null?void 0:n.recordItemId)??d.id,P=d.action,U=(n==null?void 0:n.resourceName)??(R==null?void 0:R.name),I=(R==null?void 0:R.identifier)??(R==null?void 0:R.name);return{resources:t,resource:R,resourceName:U,id:g,action:P,select:i,identifier:I}}let c,p=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(p){let f=ge(p,t);f?c=f:c={name:p}}else s!=null&&s.resource&&(c=s.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:s.id,action:s.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(W,"useResource");var co=v("react");var Pa=o(()=>{let{resources:e}=(0,co.useContext)(yt);return(0,co.useCallback)(r=>{let s=ge(r,e,!0);return s||{name:r,route:r}},[e])},"useResourceWithRoute");var Ee=o(()=>{let{resources:e}=W(),t=(0,ha.useQueryClient)(),{keys:r,preferLegacyKeys:s}=z();return(0,xa.useCallback)(async({resource:i,dataProviderName:a,invalidates:u,id:d,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(u===!1)return;let f=j(i,a,e),R=r().data(f).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(f).get(s),c,p);case"list":return t.invalidateQueries(R.action("list").get(s),c,p);case"many":return t.invalidateQueries(R.action("many").get(s),c,p);case"resourceAll":return t.invalidateQueries(R.get(s),c,p);case"detail":return t.invalidateQueries(R.action("one").id(d||"").get(s),c,p);default:return}}))},[])},"useInvalidate");var ir=v("react");var ft=o(({resource:e,params:t,channel:r,types:s,enabled:n=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:d})=>{var m;let{resource:c,identifier:p}=W(e),f=(0,ir.useContext)(nt),{liveMode:R,onLiveEvent:g}=(0,ir.useContext)(Se),P=i??R,U=Ee(),I=u??(d==null?void 0:d.dataProviderName)??((m=c==null?void 0:c.meta)==null?void 0:m.dataProviderName);(0,ir.useEffect)(()=>{let h,L=o(S=>{P==="auto"&&U({resource:p,dataProviderName:I,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(S),g==null||g(S)},"callback");return P&&P!=="off"&&n&&(h=f==null?void 0:f.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:s,callback:L,dataProviderName:I,meta:{...d,dataProviderName:I}})),()=>{h&&(f==null||f.unsubscribe(h))}},[n])},"useResourceSubscription");var Ca=v("react");var va=o(e=>{let{liveMode:t}=(0,Ca.useContext)(Se);return e??t},"useLiveMode");var po=v("react");var dR=o(({params:e,channel:t,types:r=["*"],enabled:s=!0,onLiveEvent:n,dataProviderName:i="default",meta:a})=>{let u=(0,po.useContext)(nt);(0,po.useEffect)(()=>{let d;return s&&(d=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:n,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{d&&(u==null||u.unsubscribe(d))}},[s])},"useSubscription");var ba=v("react");var $e=o(()=>{let e=(0,ba.useContext)(nt);return e==null?void 0:e.publish},"usePublish");var Da=v("react");var qe=o(()=>{let{notifications:e,notificationDispatch:t}=(0,Da.useContext)(qr);return{notifications:e,notificationDispatch:t}},"useCancelNotification");var Ea=v("react");var lo=k(v("react"));var ur=(0,lo.createContext)({}),La=o(({open:e,close:t,children:r})=>lo.default.createElement(ur.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Ve=o(()=>{let{open:e,close:t}=(0,Ea.useContext)(ur);return{open:e,close:t}},"useNotification");var Ua=v("react");var me=o(()=>{let{open:e}=Ve();return(0,Ua.useCallback)((r,s)=>{r!==!1&&(r?e==null||e(r):s&&(e==null||e(s)))},[])},"useHandleNotification");var mo=v("react");var Ds=k(v("react"));var _e=Ds.default.createContext({}),Ma=o(({children:e,i18nProvider:t})=>Ds.default.createElement(_e.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var vu=o(()=>{let{i18nProvider:e}=(0,mo.useContext)(_e);return(0,mo.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var fo=v("react");var X=o(()=>{let{i18nProvider:e}=(0,fo.useContext)(_e);return(0,fo.useMemo)(()=>{function r(s,n,i){return(e==null?void 0:e.translate(s,n,i))??i??(typeof n=="string"&&typeof i>"u"?n:s)}return o(r,"translate"),r},[e])},"useTranslate");var yo=v("react");var bu=o(()=>{let{i18nProvider:e}=(0,yo.useContext)(_e);return(0,yo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var wa=v("react"),Ia=v("papaparse"),Ls=k(v("warn-once"));var WR=o(({resourceName:e,resource:t,sorter:r,sorters:s,filters:n,maxItemCount:i,pageSize:a=20,mapData:u=o(U=>U,"mapData"),exportOptions:d,unparseConfig:c,meta:p,metaData:f,dataProviderName:R,onError:g,download:P}={})=>{let[U,I]=(0,wa.useState)(!1),m=ae(),h=ee(),{resource:L,resources:S,identifier:T}=W(F(t,e)),l=`${kt()(T,"plural")}-${new Date().toLocaleString()}`,{getList:C}=m(j(T,R,S)),D=h({resource:L,meta:F(p,f)});return{isLoading:U,triggerExport:o(async()=>{I(!0);let M=[],b=1,w=!0;for(;w;)try{let{data:A,total:O}=await C({resource:(L==null?void 0:L.name)??"",filters:n,sort:F(s,r),sorters:F(s,r),pagination:{current:b,pageSize:a,mode:"server"},meta:D,metaData:D});b++,M.push(...A),i&&M.length>=i&&(M=M.slice(0,i),w=!1),O===M.length&&(w=!1)}catch(A){I(!1),w=!1,g==null||g(A);return}let V=typeof c<"u"&&c!==null;(0,Ls.default)(V&&typeof d<"u"&&d!==null,`[useExport]: resource: "${T}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let E={filename:l,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...d};(0,Ls.default)((d==null?void 0:d.decimalSeparator)!==void 0,`[useExport]: resource: "${T}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),V?c={quotes:!0,...c}:c={columns:E.useKeysAsHeaders?void 0:E.headers,delimiter:E.fieldSeparator,header:E.showLabels||E.useKeysAsHeaders,quoteChar:E.quoteStrings,quotes:!0};let N=(0,Ia.unparse)(M.map(u),c);if(E.showTitle&&(N=E.title+`\r

`+N),typeof window<"u"&&N.length>0&&(P??!0)){let A=E.useTextFile?".txt":".csv",O=`text/${E.useTextFile?"plain":"csv"};charset=utf8;`,G=`${(E.filename??"download").replace(/ /g,"_")}${A}`;Ko(G,`${E!=null&&E.useBom?"\uFEFF":""}${N}`,O)}return I(!1),N},"triggerExport")}},"useExport");var go=k(v("react")),Sa=k(v("warn-once")),Fa=k(v("lodash-es/debounce"));var oP=o(({resource:e,action:t,id:r,onMutationSuccess:s,onMutationError:n,redirect:i,successNotification:a,errorNotification:u,meta:d,metaData:c,queryMeta:p,mutationMeta:f,mutationMode:R,liveMode:g,onLiveEvent:P,liveParams:U,undoableTimeout:I,dataProviderName:m,invalidates:h,queryOptions:L,createMutationOptions:S,updateMutationOptions:T,overtimeOptions:y,autoSave:l,optimisticUpdateMap:C}={})=>{let D=Ee(),{options:x}=ne(),M=ee(),{resource:b,id:w,action:V,identifier:E}=W(e),{identifier:N}=W(),O=o(()=>{let xe=r??w;return e&&e!==N?r:xe},"getDefaultId")(),[G,K]=go.default.useState(O);go.default.useEffect(()=>{K(O)},[O]);let H=o(()=>t||(V==="edit"||V==="clone"?V:"create"),"getAction")(),_=M({resource:b,meta:F(d,c)}),{mutationMode:B}=Ze(),$=R??B,J=H==="create",Y=H==="edit",te=H==="clone";(0,Sa.default)((te||Y)&&!!e&&!r&&(L==null?void 0:L.enabled)!==!1,`[useForm]: action: "${H}", resource: "${E}", id: ${G} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let Le=Qo({redirectFromProps:i,action:H,redirectOptions:x.redirect}),$t=sr({resource:E,id:G??"",queryOptions:{enabled:G!==void 0&&(Y||te),...L},liveMode:g,onLiveEvent:P,liveParams:U,meta:{..._,...p},metaData:{..._,...p},dataProviderName:m}),{isFetching:Rt}=$t,Pt=nr({mutationOptions:S}),{mutate:Et,isLoading:Ut}=Pt,Mt=to({mutationOptions:T}),{mutate:Tr,isLoading:bo}=Mt,Ye=to({}),{setWarnWhen:Wt}=er(),ze=Aa(),Rr=o(async xe=>{Wt(!1);let He=o(Be=>{ze({redirect:Le,resource:b,id:Be,meta:F(d,c)})},"onSuccess");return $!=="pessimistic"&&setTimeout(()=>{He()}),new Promise((Be,pt)=>{if($!=="pessimistic"&&Be(),!!b)return Et({values:xe,resource:E??b.name,successNotification:a,errorNotification:u,meta:{..._,...f},metaData:{..._,...f},dataProviderName:m,invalidates:h},{onSuccess:(Me,lt,mt)=>{var zt;s&&s(Me,xe,mt);let ht=(zt=Me==null?void 0:Me.data)==null?void 0:zt.id;He(ht),Be(Me)},onError:(Me,lt,mt)=>{if(n)return n(Me,xe,mt);pt()}})})},"onFinishCreate");go.default.useEffect(()=>()=>{l!=null&&l.invalidateOnUnmount&&Ye.status==="success"&&D({id:G,invalidates:h||["list","many","detail"],dataProviderName:m,resource:E})},[l==null?void 0:l.invalidateOnUnmount,Ye.status]);let xt=o(xe=>{if(!b||!Y)return;let He={id:G??"",values:xe,resource:E??b.name,successNotification:!1,errorNotification:!1,meta:{..._,...f},metaData:{..._,...f},dataProviderName:m,invalidates:[],mutationMode:"pessimistic"};return Ye.mutate(He,{onSuccess:(Be,pt,Me)=>{s&&s(Be,xe,Me,!0)},onError:(Be,pt,Me)=>{if(n)return n(Be,xe,Me,!0)}})},"onFinishAutoSaveMutation"),wt=(0,Fa.default)(xe=>xt(xe),(l==null?void 0:l.debounce)||1e3),_t=J||te?{formLoading:Rt||Ut,mutationResult:Pt,onFinish:Rr}:{formLoading:Rt||bo,mutationResult:Mt,onFinish:o(async xe=>{if(Wt(!1),!b)return;let He={id:G??"",values:xe,resource:E??b.name,mutationMode:$,undoableTimeout:I,successNotification:a,errorNotification:u,meta:{..._,...f},metaData:{..._,...f},dataProviderName:m,invalidates:h,optimisticUpdateMap:C},Be=o(()=>{ze({redirect:Le,resource:b,id:G,meta:F(d,c)})},"onSuccess");return $!=="pessimistic"&&setTimeout(()=>{Be()}),new Promise((pt,Me)=>($!=="pessimistic"&&pt(),setTimeout(()=>{Tr(He,{onSuccess:(lt,mt,ht)=>{s&&s(lt,xe,ht),$==="pessimistic"&&Be(),pt(lt)},onError:(lt,mt,ht)=>{if(n)return n(lt,xe,ht);Me()}})})))},"onFinishUpdate")},{elapsedTime:Lo}=se({isLoading:_t.mutationResult.isLoading||$t.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{..._t,queryResult:$t,onFinishAutoSave:wt,autoSaveProps:{status:Ye.status,data:Ye.data,error:Ye.error},id:G,setId:K,redirect:(xe,He)=>{ze({redirect:xe!==void 0?xe:Y?"list":"edit",resource:b,id:He??G,meta:F(d,c)})},overtime:{elapsedTime:Lo}}},"useForm");var ka=v("react");var Aa=o(()=>{let{show:e,edit:t,list:r,create:s}=Re();return(0,ka.useCallback)(({redirect:i,resource:a,id:u,meta:d={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,d):a.edit&&i==="edit"&&u?t(a,u,void 0,d):a.create&&i==="create"?s(a,void 0,d):r(a,"push",d)},[])},"useRedirectionAfterSubmission");var Bt=k(v("react"));var Qa=k(v("react"));var vt=o(()=>{let e=re(),{resource:t,resources:r}=W(),s=he();return Qa.default.useCallback(({resource:i,action:a,meta:u})=>{var R;let d=i||t;if(!d)return;let p=(R=be(d,r,e==="legacy").find(g=>g.action===a))==null?void 0:R.route;return p?Fe(p,d==null?void 0:d.meta,s,u):void 0},[r,t,s])},"useGetToPath");var Pe=o(()=>{let e=(0,Bt.useContext)(at),{select:t}=W(),r=vt(),n=Bt.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Bt.useCallback)(a=>{if(typeof a.to!="object")return n({...a,to:a.to});let{resource:u}=t(a.to.resource);Du(a.to,u);let d=r({resource:u,action:a.to.action,meta:{id:a.to.id,...a.to.meta}});return n({...a,to:d})},[t,n])},"useGo"),Du=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var To=k(v("react"));var Es=o(()=>{let e=(0,To.useContext)(at);return To.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var Re=o(()=>{let{resources:e}=W(),t=re(),{useHistory:r}=pe(),s=r(),n=he(),i=Pe(),a=Es(),u=o((T,y="push")=>{t==="legacy"?s[y](T):i({to:T,type:y})},"handleUrl"),d=o((T,y={})=>{var l;if(t==="legacy"){let C=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,D=be(C,e,!0).find(x=>x.action==="create");return D?Fe(D.route,C==null?void 0:C.meta,n,y):""}else{let C=typeof T=="string"?ge(T,e)??{name:T}:T,D=(l=be(C,e).find(x=>x.action==="create"))==null?void 0:l.route;return D?i({to:Fe(D,C==null?void 0:C.meta,n,y),type:"path"}):""}},"createUrl"),c=o((T,y,l={})=>{var D;let C=encodeURIComponent(y);if(t==="legacy"){let x=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,M=be(x,e,!0).find(b=>b.action==="edit");return M?Fe(M.route,x==null?void 0:x.meta,n,{...l,id:C}):""}else{let x=typeof T=="string"?ge(T,e)??{name:T}:T,M=(D=be(x,e).find(b=>b.action==="edit"))==null?void 0:D.route;return M?i({to:Fe(M,x==null?void 0:x.meta,n,{...l,id:C}),type:"path"}):""}},"editUrl"),p=o((T,y,l={})=>{var D;let C=encodeURIComponent(y);if(t==="legacy"){let x=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,M=be(x,e,!0).find(b=>b.action==="clone");return M?Fe(M.route,x==null?void 0:x.meta,n,{...l,id:C}):""}else{let x=typeof T=="string"?ge(T,e)??{name:T}:T,M=(D=be(x,e).find(b=>b.action==="clone"))==null?void 0:D.route;return M?i({to:Fe(M,x==null?void 0:x.meta,n,{...l,id:C}),type:"path"}):""}},"cloneUrl"),f=o((T,y,l={})=>{var D;let C=encodeURIComponent(y);if(t==="legacy"){let x=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,M=be(x,e,!0).find(b=>b.action==="show");return M?Fe(M.route,x==null?void 0:x.meta,n,{...l,id:C}):""}else{let x=typeof T=="string"?ge(T,e)??{name:T}:T,M=(D=be(x,e).find(b=>b.action==="show"))==null?void 0:D.route;return M?i({to:Fe(M,x==null?void 0:x.meta,n,{...l,id:C}),type:"path"}):""}},"showUrl"),R=o((T,y={})=>{var l;if(t==="legacy"){let C=typeof T=="string"?ge(T,e,!0)??{name:T,route:T}:T,D=be(C,e,!0).find(x=>x.action==="list");return D?Fe(D.route,C==null?void 0:C.meta,n,y):""}else{let C=typeof T=="string"?ge(T,e)??{name:T}:T,D=(l=be(C,e).find(x=>x.action==="list"))==null?void 0:l.route;return D?i({to:Fe(D,C==null?void 0:C.meta,n,y),type:"path"}):""}},"listUrl");return{create:o((T,y="push",l={})=>{u(d(T,l),y)},"create"),createUrl:d,edit:o((T,y,l="push",C={})=>{u(c(T,y,C),l)},"edit"),editUrl:c,clone:o((T,y,l="push",C={})=>{u(p(T,y,C),l)},"clone"),cloneUrl:p,show:o((T,y,l="push",C={})=>{u(f(T,y,C),l)},"show"),showUrl:f,list:o((T,y="push",l={})=>{u(R(T,l),y)},"list"),listUrl:R,push:o((T,...y)=>{t==="legacy"?s.push(T,...y):i({to:T,type:"push"})},"push"),replace:o((T,...y)=>{t==="legacy"?s.replace(T,...y):i({to:T,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?s.goBack():a()},"goBack")}},"useNavigation");var Ro=k(v("react")),Va=k(v("warn-once"));var KP=o(({resource:e,id:t,successNotification:r,errorNotification:s,meta:n,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:d,queryOptions:c,overtimeOptions:p}={})=>{let{resource:f,id:R,identifier:g}=W(e),{identifier:P}=W(),U=ee(),m=o(()=>{let l=t??R;return e&&e!==P?t:l},"getDefaultId")(),[h,L]=(0,Ro.useState)(m);Ro.default.useEffect(()=>{L(m)},[m]);let S=U({resource:f,meta:F(n,i)});(0,Va.default)(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let T=sr({resource:g,id:h??"",queryOptions:{enabled:h!==void 0,...c},successNotification:r,errorNotification:s,meta:S,metaData:S,liveMode:a,onLiveEvent:u,dataProviderName:d}),{elapsedTime:y}=se({isLoading:T.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:T,showId:h,setShowId:L,overtime:{elapsedTime:y}}},"useShow");var Kt=v("react"),Na=v("papaparse"),Ba=k(v("lodash-es/chunk"));var _P=o(({resourceName:e,resource:t,mapData:r=o(p=>p,"mapData"),paparseOptions:s,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:d,dataProviderName:c}={})=>{let[p,f]=(0,Kt.useState)(0),[R,g]=(0,Kt.useState)(0),[P,U]=(0,Kt.useState)(!1),{resource:I,identifier:m}=W(t??e),h=ee(),L=Ps(),S=nr(),T=h({resource:I,meta:F(a,u)}),y;n===1?y=S:y=L;let l=o(()=>{g(0),f(0),U(!1)},"handleCleanup"),C=o(x=>{let M={succeeded:x.filter(b=>b.type==="success"),errored:x.filter(b=>b.type==="error")};i==null||i(M),U(!1)},"handleFinish");(0,Kt.useEffect)(()=>{d==null||d({totalAmount:R,processedAmount:p})},[R,p]);let D=o(({file:x})=>(l(),new Promise(M=>{U(!0),(0,Na.parse)(x,{complete:async({data:b})=>{let w=br(b,r);if(g(w.length),n===1){let V=w.map(N=>o(async()=>({response:await S.mutateAsync({resource:m??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T,metaData:T}),value:N}),"fn")),E=await Qr(V,({response:N,value:A})=>(f(O=>O+1),{response:[N.data],type:"success",request:[A]}),(N,A)=>({response:[N],type:"error",request:[w[A]]}));M(E)}else{let V=(0,Ba.default)(w,n),E=V.map(A=>o(async()=>({response:await L.mutateAsync({resource:m??"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T,metaData:T}),value:A,currentBatchLength:A.length}),"fn")),N=await Qr(E,({response:A,currentBatchLength:O,value:G})=>(f(K=>K+O),{response:A.data,type:"success",request:G}),(A,O)=>({response:[A],type:"error",request:V[O]}));M(N)}},...s})}).then(M=>(C(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:x=>{x.target.files&&x.target.files.length>0&&D({file:x.target.files[0]})}},mutationResult:y,isLoading:P,handleChange:D}},"useImport");var cr=v("react");var XP=o(({defaultVisible:e=!1}={})=>{let[t,r]=(0,cr.useState)(e),s=(0,cr.useCallback)(()=>r(!0),[t]),n=(0,cr.useCallback)(()=>r(!1),[t]);return{visible:t,show:s,close:n}},"useModal");var Lu=o(({resource:e,action:t,meta:r,legacy:s})=>vt()({resource:e,action:t,meta:r,legacy:s}),"useToPath");var Po=k(v("react"));var bt=o(()=>{let e=(0,Po.useContext)(at);return e!=null&&e.Link?e.Link:o(({to:r,...s})=>Po.default.createElement("a",{href:r,...s}),"FallbackLink")},"useLink");var Ga=v("react");var Us=k(v("react"));var it={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Eu=Us.default.createContext(it),dr=Eu,Ka=o(({children:e,useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a})=>Us.default.createElement(dr.Provider,{value:{useHistory:t??it.useHistory,useLocation:r??it.useLocation,useParams:s??it.useParams,Prompt:n??it.Prompt,Link:i??it.Link,routes:a??it.routes}},e),"LegacyRouterContextProvider");var pe=o(()=>{let e=(0,Ga.useContext)(dr),{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}=e??it;return{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}},"useRouterContext");var Oa=v("@tanstack/react-query"),$a=v("react");var Ms=k(v("react"));var gt=Ms.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Ha=o(({can:e,children:t,options:r})=>Ms.default.createElement(gt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider");var Gt=o(e=>{if(!e)return;let{icon:t,list:r,edit:s,create:n,show:i,clone:a,children:u,meta:d,options:c,...p}=e,{icon:f,...R}=d??{},{icon:g,...P}=c??{};return{...p,...d?{meta:R}:{},...c?{options:P}:{}}},"sanitizeResource");var Wa=k(ue());var _a=o(({action:e,resource:t,params:r,queryOptions:s})=>{let{can:n,options:i}=(0,$a.useContext)(gt),{keys:a,preferLegacyKeys:u}=z(),{queryOptions:d}=i||{},c={...d,...s},{resource:p,...f}=r??{},R=Gt(p),g=(0,Oa.useQuery)({queryKey:a().access().resource(t).action(e).params({params:{...f,resource:R},enabled:c==null?void 0:c.enabled}).get(u),queryFn:()=>(n==null?void 0:n({action:e,resource:t,params:{...f,resource:R}}))??Promise.resolve({can:!0}),enabled:typeof n<"u",...c,meta:{...c==null?void 0:c.meta,...(0,Wa.getXRay)("useCan",u)},retry:!1});return typeof n>"u"?{data:{can:!0}}:g},"useCan");var ws=k(v("react"));var wx=o(()=>{let{can:e}=ws.default.useContext(gt);return{can:ws.default.useMemo(()=>e?o(async({params:s,...n})=>{let i=s!=null&&s.resource?Gt(s.resource):void 0;return e({...n,...s?{params:{...s,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var ut=v("react"),za=k(v("lodash-es/uniqBy")),ja=k(v("lodash-es/debounce")),pr=k(v("lodash-es/get"));var Bx=o(e=>{let[t,r]=(0,ut.useState)([]),[s,n]=(0,ut.useState)([]),[i,a]=(0,ut.useState)([]),{resource:u,sort:d,sorters:c,filters:p=[],optionLabel:f="title",optionValue:R="id",debounce:g=300,successNotification:P,errorNotification:U,defaultValueQueryOptions:I,queryOptions:m,fetchSize:h,pagination:L,hasPagination:S=!1,liveMode:T,defaultValue:y=[],onLiveEvent:l,onSearch:C,liveParams:D,meta:x,metaData:M,dataProviderName:b,overtimeOptions:w}=e,{resource:V,identifier:E}=W(u),A=ee()({resource:V,meta:F(x,M)}),O=Array.isArray(y)?y:[y],G=(0,ut.useCallback)(Y=>{a(Y.data.map(te=>({label:(0,pr.default)(te,f),value:(0,pr.default)(te,R)})))},[f,R]),K=I??m,Z=Ts({resource:E,ids:O,queryOptions:{...K,enabled:O.length>0&&((K==null?void 0:K.enabled)??!0),onSuccess:Y=>{var te;G(Y),(te=K==null?void 0:K.onSuccess)==null||te.call(K,Y)}},meta:A,metaData:A,liveMode:"off",dataProviderName:b}),H=(0,ut.useCallback)(Y=>{n(Y.data.map(te=>({label:(0,pr.default)(te,f),value:(0,pr.default)(te,R)})))},[f,R]),_=or({resource:E,sorters:F(c,d),filters:p.concat(t),pagination:{current:L==null?void 0:L.current,pageSize:(L==null?void 0:L.pageSize)??h,mode:L==null?void 0:L.mode},hasPagination:S,queryOptions:{...m,onSuccess:Y=>{var te;H(Y),(te=m==null?void 0:m.onSuccess)==null||te.call(m,Y)}},successNotification:P,errorNotification:U,meta:A,metaData:A,liveMode:T,liveParams:D,onLiveEvent:l,dataProviderName:b}),B=o(Y=>{if(C){r(C(Y));return}if(Y)r([{field:f,operator:"contains",value:Y}]);else{r([]);return}},"onSearch"),{elapsedTime:$}=se({isLoading:_.isFetching||Z.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval}),J=(0,ut.useMemo)(()=>(0,za.default)([...s,...i],"value"),[s,i]);return{queryResult:_,defaultValueQueryResult:Z,options:J,onSearch:(0,ja.default)(B,g),overtime:{elapsedTime:$}}},"useSelect");var et=k(v("react")),Is=k(v("qs")),lr=k(v("lodash-es/differenceWith")),mr=k(v("lodash-es/isEqual")),Ya=k(v("warn-once"));var Xa=[],Za=[];function Xx({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:s,initialSorter:n,permanentSorter:i=Za,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:d=Xa,filters:c,sorters:p,syncWithLocation:f,resource:R,successNotification:g,errorNotification:P,queryOptions:U,liveMode:I,onLiveEvent:m,liveParams:h,meta:L,metaData:S,dataProviderName:T,overtimeOptions:y}={}){var zt,Bs,Ks,Gs,Hs;let{syncWithLocation:l}=Bo(),C=f??l,D=va(I),x=re(),{useLocation:M}=pe(),{search:b,pathname:w}=M(),V=ee(),E=he(),N=((c==null?void 0:c.mode)||"server")==="server",A=((p==null?void 0:p.mode)||"server")==="server",O=r===!1?"off":"server",G=((s==null?void 0:s.mode)??O)!=="off",K=F(s==null?void 0:s.current,e),Z=F(s==null?void 0:s.pageSize,t),H=F(L,S),{parsedCurrent:_,parsedPageSize:B,parsedSorter:$,parsedFilters:J}=Wr(b??"?"),Y=F(c==null?void 0:c.initial,u),te=F(c==null?void 0:c.permanent,d)??Xa,Le=F(p==null?void 0:p.initial,n),Ue=F(p==null?void 0:p.permanent,i)??Za,$t=F(c==null?void 0:c.defaultBehavior,a)??"merge",Rt,Pt,Et,Ut;C?(Rt=((zt=E==null?void 0:E.params)==null?void 0:zt.current)||_||K||1,Pt=((Bs=E==null?void 0:E.params)==null?void 0:Bs.pageSize)||B||Z||10,Et=((Ks=E==null?void 0:E.params)==null?void 0:Ks.sorters)||($.length?$:Le),Ut=((Gs=E==null?void 0:E.params)==null?void 0:Gs.filters)||(J.length?J:Y)):(Rt=K||1,Pt=Z||10,Et=Le,Ut=Y);let{replace:Mt}=Re(),Tr=Pe(),{resource:bo,identifier:Ye}=W(R),Wt=V({resource:bo,meta:H});et.default.useEffect(()=>{(0,Ya.default)(typeof Ye>"u","useTable: `resource` is not defined.")},[Ye]);let[ze,Rr]=(0,et.useState)(Xr(Ue,Et??[])),[xt,wt]=(0,et.useState)(jr(te,Ut??[])),[It,Do]=(0,et.useState)(Rt),[dt,_t]=(0,et.useState)(Pt),Lo=o(({pagination:{current:ve,pageSize:Oe},sorter:Pr,filters:xr})=>{if(x==="new")return Tr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...G?{current:ve,pageSize:Oe}:{},sorters:Pr,filters:xr,...xe()}})??"";{let jt=Is.default.parse(b==null?void 0:b.substring(1)),xi=_r({pagination:{pageSize:Oe,current:ve},sorters:ze??Pr,filters:xr,...jt});return`${w??""}?${xi??""}`}},"createLinkForSyncWithLocation");(0,et.useEffect)(()=>{b===""&&(Do(Rt),_t(Pt),Rr(Xr(Ue,Et??[])),wt(jr(te,Ut??[])))},[b]);let xe=o(()=>{if(x==="new"){let{sorters:ve,filters:Oe,pageSize:Pr,current:xr,...jt}=(E==null?void 0:E.params)??{};return jt}else{let{sorter:ve,filters:Oe,pageSize:Pr,current:xr,...jt}=Is.default.parse(b,{ignoreQueryPrefix:!0});return jt}},"currentQueryParams");(0,et.useEffect)(()=>{if(C){let ve=xe();if(x==="new")Tr({type:"replace",options:{keepQuery:!0},query:{...G?{pageSize:dt,current:It}:{},sorters:(0,lr.default)(ze,Ue,mr.default),filters:(0,lr.default)(xt,te,mr.default)}});else{let Oe=_r({...G?{pagination:{pageSize:dt,current:It}}:{},sorters:(0,lr.default)(ze,Ue,mr.default),filters:(0,lr.default)(xt,te,mr.default),...ve});return Mt==null?void 0:Mt(`${w}?${Oe}`,void 0,{shallow:!0})}}},[C,It,dt,ze,xt]);let He=or({resource:Ye,hasPagination:r,pagination:{current:It,pageSize:dt,mode:s==null?void 0:s.mode},filters:N?Qt(te,xt):void 0,sorters:A?zr(Ue,ze):void 0,queryOptions:U,successNotification:g,errorNotification:P,meta:Wt,metaData:Wt,liveMode:D,liveParams:h,onLiveEvent:m,dataProviderName:T}),Be=o(ve=>{wt(Oe=>Qt(te,ve,Oe))},"setFiltersAsMerge"),pt=o(ve=>{wt(Qt(te,ve))},"setFiltersAsReplace"),Me=o(ve=>{wt(Oe=>Qt(te,ve(Oe)))},"setFiltersWithSetter"),lt=o((ve,Oe=$t)=>{typeof ve=="function"?Me(ve):Oe==="replace"?pt(ve):Be(ve)},"setFiltersFn"),mt=o(ve=>{Rr(()=>zr(Ue,ve))},"setSortWithUnion"),{elapsedTime:ht}=se({isLoading:He.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{tableQueryResult:He,sorters:ze,setSorters:mt,sorter:ze,setSorter:mt,filters:xt,setFilters:lt,current:It,setCurrent:Do,pageSize:dt,setPageSize:_t,pageCount:dt?Math.ceil((((Hs=He.data)==null?void 0:Hs.total)??0)/dt):1,createLinkForSyncWithLocation:Lo,overtime:{elapsedTime:ht}}}o(Xx,"useTable");var Fs=v("react"),fr=v("@tanstack/react-query");var Ss=k(v("react"));var Dt=Ss.default.createContext({}),Ja=o(({create:e,get:t,update:r,children:s})=>Ss.default.createElement(Dt.Provider,{value:{create:e,get:t,update:r}},s),"AuditLogContextProvider");var As=k(ue());var We=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,fr.useQueryClient)(),s=(0,Fs.useContext)(Dt),{keys:n,preferLegacyKeys:i}=z(),a=q(),{resources:u}=(0,Fs.useContext)(yt),{data:d,refetch:c,isLoading:p}=zo({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(s!=null&&s.create)}}),f=(0,fr.useMutation)(async g=>{var m,h,L,S,T;let P=ge(g.resource,u),U=F((m=P==null?void 0:P.meta)==null?void 0:m.audit,(h=P==null?void 0:P.options)==null?void 0:h.audit,(S=(L=P==null?void 0:P.options)==null?void 0:L.auditLog)==null?void 0:S.permissions);if(U&&!wo(U,g.action))return;let I;return p&&(s!=null&&s.create)&&(I=await c()),await((T=s.create)==null?void 0:T.call(s,{...g,author:d??(I==null?void 0:I.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,As.getXRay)("useLog",i)}}),R=(0,fr.useMutation)(async g=>{var P;return await((P=s.update)==null?void 0:P.call(s,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(n().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,As.getXRay)("useLog",i)}});return{log:f,rename:R}},"useLog");var qa=v("react"),ei=v("@tanstack/react-query");var ti=k(ue());var yh=o(({resource:e,action:t,meta:r,author:s,metaData:n,queryOptions:i})=>{let{get:a}=(0,qa.useContext)(Dt),{keys:u,preferLegacyKeys:d}=z();return(0,ei.useQuery)({queryKey:u().audit().resource(e).action("list").params(r).get(d),queryFn:()=>(a==null?void 0:a({resource:e,action:t,author:s,meta:r,metaData:n}))??Promise.resolve([]),enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,ti.getXRay)("useLogList",d)}})},"useLogList");var ri=v("react"),oi=k(v("warn-once"));var Eh=o(({meta:e={}}={})=>{let t=re(),{i18nProvider:r}=(0,ri.useContext)(_e),s=he(),n=X(),{resources:i,resource:a,action:u}=W(),{options:{textTransformers:d}}=ne(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let p=o(f=>{var g,P,U,I,m,h;let R=typeof f=="string"?ge(f,i,t==="legacy")??{name:f}:f;if(R){let L=F((g=R==null?void 0:R.meta)==null?void 0:g.parent,R==null?void 0:R.parentName);L&&p(L);let S=be(R,i,t==="legacy").find(l=>l.action==="list"),T=(P=S==null?void 0:S.resource)!=null&&P.list?S==null?void 0:S.route:void 0,y=T?t==="legacy"?T:Fe(T,R==null?void 0:R.meta,s,e):void 0;c.push({label:F((U=R.meta)==null?void 0:U.label,(I=R.options)==null?void 0:I.label)??n(`${R.name}.${R.name}`,d.humanize(R.name)),href:y,icon:F((m=R.meta)==null?void 0:m.icon,(h=R.options)==null?void 0:h.icon,R.icon)})}},"addBreadcrumb");if(p(a),u&&u!=="list"){let f=`actions.${u}`,R=n(f);typeof r<"u"&&R===f?((0,oi.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:n(`buttons.${u}`,d.humanize(u))})):c.push({label:n(f,d.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");var xo=k(v("react"));var Ht=o((e,t,r=!1)=>{let s=[],n=Ke(e,t);for(;n;)s.push(n),n=Ke(n,t);return s.reverse(),`/${[...s,e].map(a=>De((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var si=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let i=[],a=Ke(n,e);for(;a;)i.push(a),a=Ke(a,e);i.reverse();let u=r;i.forEach(c=>{let p=(t?c.route:void 0)??c.identifier??c.name;u.children[p]||(u.children[p]={item:c,children:{}}),u=u.children[p]});let d=(t?n.route:void 0)??n.identifier??n.name;u.children[d]||(u.children[d]={item:n,children:{}})});let s=o(n=>{let i=[];return Object.keys(n.children).forEach(a=>{let u=Ht(n.children[a].item,e,t),d={...n.children[a].item,key:u,children:s(n.children[a])};i.push(d)}),i},"flatten");return s(r)},"createTree");var ni=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Uu=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=X(),s=vt(),n=re(),{resource:i,resources:a}=W(),{pathname:u}=he(),{useLocation:d}=pe(),{pathname:c}=d(),p=kt(),R=`/${((n==="legacy"?ni(c):u?ni(u):void 0)??"").replace(/^\//,"")}`,g=i?Ht(i,a,n==="legacy"):R??"",P=xo.default.useMemo(()=>{if(!i)return[];let m=Ke(i,a),h=[Ht(i,a)];for(;m;)h.push(Ht(m,a)),m=Ke(m,a);return h},[]),U=xo.default.useCallback(m=>{var L,S,T,y,l,C;if((((L=m==null?void 0:m.meta)==null?void 0:L.hide)??((S=m==null?void 0:m.options)==null?void 0:S.hide))||!(m!=null&&m.list)&&m.children.length===0)return;let h=m.list?s({resource:m,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...m,route:h,icon:F((T=m.meta)==null?void 0:T.icon,(y=m.options)==null?void 0:y.icon,m.icon),label:F((l=m==null?void 0:m.meta)==null?void 0:l.label,(C=m==null?void 0:m.options)==null?void 0:C.label)??r(`${m.name}.${m.name}`,p(m.name,"plural"))}},[n,e,s,r,t]),I=xo.default.useMemo(()=>{let m=si(a,n==="legacy"),h=o(L=>L.flatMap(S=>{let T=h(S.children),y=U({...S,children:T});return y?[y]:[]}),"prepare");return h(m)},[a,n,U]);return{defaultOpenKeys:P,selectedKey:g,menuItems:I}},"useMenu");var ee=o(()=>{let{params:e}=he();return o(({resource:r,meta:s}={})=>{let{meta:n}=Gt(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:d,...c}=e??{};return{...n,...c,...s}},"getMetaFn")},"useMeta");var Mu=o(()=>{let[e,t]=(0,tt.useState)(),r=X(),{push:s}=Re(),n=Pe(),i=re(),{resource:a,action:u}=W();return(0,tt.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),tt.default.createElement(tt.default.Fragment,null,tt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&tt.default.createElement("p",null,e),tt.default.createElement("button",{onClick:()=>{i==="legacy"?s("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var Ce=k(v("react"));var Ao=o(()=>{let[e,t]=(0,Ce.useState)(""),[r,s]=(0,Ce.useState)(""),n=X(),i=q(),{mutate:a}=tr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return Ce.default.createElement(Ce.default.Fragment,null,Ce.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Ce.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},Ce.default.createElement("table",null,Ce.default.createElement("tbody",null,Ce.default.createElement("tr",null,Ce.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Ce.default.createElement("td",null,Ce.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),Ce.default.createElement("tr",null,Ce.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Ce.default.createElement("td",null,Ce.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>s(u.target.value)}))))),Ce.default.createElement("br",null),Ce.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage");var Lt=k(v("react"));var ie=k(v("react"));var ai=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:s,contentProps:n,wrapperProps:i,renderContent:a,formProps:u,title:d=void 0,hideForm:c})=>{let p=re(),f=bt(),{Link:R}=pe(),g=p==="legacy"?R:f,[P,U]=(0,ie.useState)(""),[I,m]=(0,ie.useState)(""),[h,L]=(0,ie.useState)(!1),S=X(),T=q(),{mutate:y}=tr({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),l=o((x,M)=>ie.default.createElement(g,{to:x},M),"renderLink"),C=o(()=>e?e.map(x=>ie.default.createElement("div",{key:x.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ie.default.createElement("button",{onClick:()=>y({providerName:x.name}),style:{display:"flex",alignItems:"center"}},x==null?void 0:x.icon,x.label??ie.default.createElement("label",null,x.label)))):null,"renderProviders"),D=ie.default.createElement("div",{...n},ie.default.createElement("h1",{style:{textAlign:"center"}},S("pages.login.title","Sign in to your account")),C(),!c&&ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("hr",null),ie.default.createElement("form",{onSubmit:x=>{x.preventDefault(),y({email:P,password:I,remember:h})},...u},ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ie.default.createElement("label",{htmlFor:"email-input"},S("pages.login.fields.email","Email")),ie.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:P,onChange:x=>U(x.target.value)}),ie.default.createElement("label",{htmlFor:"password-input"},S("pages.login.fields.password","Password")),ie.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:I,onChange:x=>m(x.target.value)}),s??ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("label",{htmlFor:"remember-me-input"},S("pages.login.buttons.rememberMe","Remember me"),ie.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:h,value:h.toString(),onChange:()=>{L(!h)}}))),ie.default.createElement("br",null),r??l("/forgot-password",S("pages.login.buttons.forgotPassword","Forgot password?")),ie.default.createElement("input",{type:"submit",value:S("pages.login.signin","Sign in")}),t??ie.default.createElement("span",null,S("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",S("pages.login.register","Sign up")))))),t!==!1&&c&&ie.default.createElement("div",{style:{textAlign:"center"}},S("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",S("pages.login.register","Sign up"))));return ie.default.createElement("div",{...i},a?a(D,d):D)},"LoginPage");var ce=k(v("react"));var ii=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:s,renderContent:n,formProps:i,title:a=void 0,hideForm:u})=>{let d=re(),c=bt(),{Link:p}=pe(),f=d==="legacy"?p:c,[R,g]=(0,ce.useState)(""),[P,U]=(0,ce.useState)(""),I=X(),m=q(),{mutate:h,isLoading:L}=os({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),S=o((l,C)=>ce.default.createElement(f,{to:l},C),"renderLink"),T=o(()=>e?e.map(l=>ce.default.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ce.default.createElement("button",{onClick:()=>h({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??ce.default.createElement("label",null,l.label)))):null,"renderProviders"),y=ce.default.createElement("div",{...s},ce.default.createElement("h1",{style:{textAlign:"center"}},I("pages.register.title","Sign up for your account")),T(),!u&&ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("hr",null),ce.default.createElement("form",{onSubmit:l=>{l.preventDefault(),h({email:R,password:P})},...i},ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ce.default.createElement("label",{htmlFor:"email-input"},I("pages.register.fields.email","Email")),ce.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:R,onChange:l=>g(l.target.value)}),ce.default.createElement("label",{htmlFor:"password-input"},I("pages.register.fields.password","Password")),ce.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:P,onChange:l=>U(l.target.value)}),ce.default.createElement("input",{type:"submit",value:I("pages.register.buttons.submit","Sign up"),disabled:L}),t??ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("span",null,I("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",I("pages.login.signin","Sign in"))))))),t!==!1&&u&&ce.default.createElement("div",{style:{textAlign:"center"}},I("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",I("pages.login.signin","Sign in"))));return ce.default.createElement("div",{...r},n?n(y,a):y)},"RegisterPage");var Ae=k(v("react"));var ui=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:s,formProps:n,title:i=void 0})=>{let a=X(),u=re(),d=bt(),{Link:c}=pe(),p=u==="legacy"?c:d,[f,R]=(0,Ae.useState)(""),{mutate:g,isLoading:P}=is(),U=o((m,h)=>Ae.default.createElement(p,{to:m},h),"renderLink"),I=Ae.default.createElement("div",{...r},Ae.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Ae.default.createElement("hr",null),Ae.default.createElement("form",{onSubmit:m=>{m.preventDefault(),g({email:f})},...n},Ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ae.default.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),Ae.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:m=>R(m.target.value)}),Ae.default.createElement("input",{type:"submit",disabled:P,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ae.default.createElement("br",null),e??Ae.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",U("/login",a("pages.login.signin","Sign in"))))));return Ae.default.createElement("div",{...t},s?s(I,i):I)},"ForgotPasswordPage");var ke=k(v("react"));var ci=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:s,title:n=void 0})=>{let i=X(),a=q(),{mutate:u,isLoading:d}=ps({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,p]=(0,ke.useState)(""),[f,R]=(0,ke.useState)(""),g=ke.default.createElement("div",{...t},ke.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),ke.default.createElement("hr",null),ke.default.createElement("form",{onSubmit:P=>{P.preventDefault(),u({password:c,confirmPassword:f})},...s},ke.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ke.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),ke.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:P=>p(P.target.value)}),ke.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ke.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:P=>R(P.target.value)}),ke.default.createElement("input",{type:"submit",disabled:d,value:i("pages.updatePassword.buttons.submit","Update")}))));return ke.default.createElement("div",{...e},r?r(g,n):g)},"UpdatePasswordPage");var wu=o(e=>{let{type:t}=e;return Lt.default.createElement(Lt.default.Fragment,null,o(()=>{switch(t){case"register":return Lt.default.createElement(ii,{...e});case"forgotPassword":return Lt.default.createElement(ui,{...e});case"updatePassword":return Lt.default.createElement(ci,{...e});default:return Lt.default.createElement(ai,{...e})}},"renderView")())},"AuthPage");var Qe=k(v("react"));var ks=o(()=>Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement("h1",null,"Welcome on board"),Qe.default.createElement("p",null,"Your configuration is completed."),Qe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Qe.default.createElement("code",null,"`resources`")," property of ",Qe.default.createElement("code",null,"`<Refine>`")),Qe.default.createElement("div",{style:{display:"flex",gap:8}},Qe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Documentation")),Qe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Examples")),Qe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Community")))),"ReadyPage");var yr=k(v("react"));var fe=k(v("react"));var Iu=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],di=o(()=>{let e=Gr("(max-width: 1010px)"),t=Gr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),s=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return fe.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},fe.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},fe.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),fe.default.createElement("div",{style:{height:t?"40px":"80px"}}),fe.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},fe.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),fe.default.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},fe.default.createElement("h1",{style:{fontSize:s(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),fe.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),fe.default.createElement("div",{style:{height:"64px"}}),fe.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Iu.map(i=>fe.default.createElement(Su,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),Su=o(({card:e})=>{let{title:t,description:r,iconUrl:s,link:n}=e,[i,a]=(0,fe.useState)(!1);return fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},fe.default.createElement("div",{style:{display:"flex",alignItems:"center"}},fe.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},fe.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${s})`}}),fe.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),fe.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},fe.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),fe.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");var Q=k(v("react"));var pi=o(()=>Q.default.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},Q.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},Q.default.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},Q.default.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},Q.default.createElement(Au,{style:{position:"absolute",left:0,top:0}}),Q.default.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},Q.default.createElement(ku,null),Q.default.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),Q.default.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},Q.default.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},Q.default.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),Q.default.createElement("div",null,Q.default.createElement(Fu,null)))))),"ConfigErrorPage"),Fu=o(()=>Q.default.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},Q.default.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage ","}"," ",Q.default.createElement("span",{style:{color:"#FF7B72"}},"from")," ",Q.default.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,Q.default.createElement("span",{style:{color:"#FF7B72"}},"export")," ",Q.default.createElement("span",{style:{color:"#FF7B72"}},"default")," ",Q.default.createElement("span",null,Q.default.createElement("span",{style:{color:"#FF7B72"}},"function")," ",Q.default.createElement("span",{style:{color:"#FFA657"}},"App"),"(",Q.default.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",Q.default.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",Q.default.createElement("span",null,Q.default.createElement("span",{style:{color:"#79C0FF"}},"<",Q.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",Q.default.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",Q.default.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",Q.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",Q.default.createElement("span",{style:{color:"#79C0FF"}},"<",Q.default.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",Q.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",Q.default.createElement("span",{style:{color:"#79C0FF"}},"</",Q.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),Au=o(e=>Q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),Q.default.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),Q.default.createElement("defs",null,Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),Q.default.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},Q.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),Q.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),ku=o(e=>Q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},Q.default.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),Q.default.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");var Qu=o(()=>{let{__initialized:e}=ne();return yr.default.createElement(yr.default.Fragment,null,yr.default.createElement(di,null),!e&&yr.default.createElement(pi,null))},"WelcomePage");var ye=k(v("react")),gr=v("@tanstack/react-query"),gi=k(ue());var Qs=k(v("react"));var Tt=v("react");var Vu="4.47.2",li=o(()=>{var h;let e=gs(),t=(0,Tt.useContext)(Dt),r=(0,Tt.useContext)(nt),s=(0,Tt.useContext)(dr),n=(0,Tt.useContext)(ar),{i18nProvider:i}=(0,Tt.useContext)(_e),a=(0,Tt.useContext)(ur),u=(0,Tt.useContext)(gt),{resources:d}=W(),c=ne(),p=!!t.create||!!t.get||!!t.update,f=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),R=!!s.useHistory||!!s.Link||!!s.Prompt||!!s.useLocation||!!s.useParams,g=!!n,P=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),U=!!a.close||!!a.open,I=!!u.can,m=(h=c==null?void 0:c.options)==null?void 0:h.projectId;return{providers:{auth:e,auditLog:p,live:f,router:R,data:g,i18n:P,notification:U,accessControl:I},version:Vu,resourceCount:d.length,projectId:m}},"useTelemetryData");var Nu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Bu=o(e=>{let t=new Image;t.src=e},"throughImage"),Ku=o(e=>{fetch(e)},"throughFetch"),Gu=o(e=>{typeof Image<"u"?Bu(e):typeof fetch<"u"&&Ku(e)},"transport"),mi=o(()=>{let e=li(),t=Qs.default.useRef(!1);return Qs.default.useEffect(()=>{if(t.current)return;let r=Nu(e);r&&(Gu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var fi=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");var Vs=k(v("react"));var yi=o(e=>{let t=Vs.default.useRef(!1);Vs.default.useEffect(()=>{t.current===!1&&e&&fi(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var Hu=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:s,routerProvider:n,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:d,DashboardPage:c,ReadyPage:p,LoginPage:f,catchAll:R,children:g,liveProvider:P,i18nProvider:U,Title:I,Layout:m,Sider:h,Header:L,Footer:S,OffLayoutArea:T,onLiveEvent:y,options:l})=>{let{optionsWithDefaults:C,disableTelemetryWithDefault:D,reactQueryWithDefaults:x}=ko({options:l}),M=ao(()=>{var E;return x.clientConfig instanceof gr.QueryClient?x.clientConfig:new gr.QueryClient({...x.clientConfig,defaultOptions:{...x.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(E=x.clientConfig.defaultOptions)==null?void 0:E.queries}}})},[x.clientConfig]);(0,gi.useQuerySubscription)(M);let w=ye.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(yi(n),s&&!n&&(d??[]).length===0)return p?ye.default.createElement(p,null):ye.default.createElement(ks,null);let{RouterComponent:V=ye.default.Fragment}=n?{}:s??{};return ye.default.createElement(gr.QueryClientProvider,{client:M},ye.default.createElement(La,{...w},ye.default.createElement(xn,{...e??{},isProvided:!!e},ye.default.createElement(Cn,{...t??{},isProvided:!!t},ye.default.createElement(sa,{...r},ye.default.createElement(ia,{liveProvider:P},ye.default.createElement(fa,{value:s&&!n?"legacy":"new"},ye.default.createElement(ga,{router:n},ye.default.createElement(Ka,{...s},ye.default.createElement(la,{resources:d??[]},ye.default.createElement(Ma,{i18nProvider:U},ye.default.createElement(Ha,{...a??{}},ye.default.createElement(Ja,{...u??{}},ye.default.createElement(Rs,null,ye.default.createElement(gn,{mutationMode:C.mutationMode,warnWhenUnsavedChanges:C.warnWhenUnsavedChanges,syncWithLocation:C.syncWithLocation,Title:I,undoableTimeout:C.undoableTimeout,catchAll:R,DashboardPage:c,LoginPage:f,Layout:m,Sider:h,Footer:S,Header:L,OffLayoutArea:T,hasDashboard:!!c,liveMode:C.liveMode,onLiveEvent:y,options:C},ye.default.createElement(Dn,null,ye.default.createElement(V,null,g,!D&&ye.default.createElement(mi,null),ye.default.createElement(Ns,null))))))))))))))))))},"Refine");var ho=v("react");var Wn=o(({notification:e})=>{let t=X(),{notificationDispatch:r}=qe(),{open:s}=Ve(),[n,i]=(0,ho.useState)(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||s==null||s({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Xt(e.seconds)},`You have ${Xt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Xt(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,ho.useEffect)(()=>{a()},[e]),null},"UndoableQueue");var Ot=k(v("react"));var Ou=o(({children:e,Layout:t,Sider:r,Header:s,Title:n,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:d,Header:c,Sider:p,Title:f,OffLayoutArea:R}=ne();return Ot.default.createElement(t??u,{Sider:r??p,Header:s??c,Footer:i??d,Title:n??f,OffLayoutArea:a??R},e,Ot.default.createElement($u,null))},"LayoutWrapper"),$u=o(()=>{let{Prompt:e}=pe(),t=X(),{warnWhen:r,setWarnWhen:s}=er(),n=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,Ot.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),Ot.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:s})},"UnsavedPrompt");var Ge=k(v("react"));function Wu({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:s,loading:n}){var L;let i=q(),a=re(),u=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),c=a==="legacy",p=he(),f=Pe(),{useLocation:R}=pe(),g=R(),{isFetching:P,isSuccess:U,data:{authenticated:I,redirectTo:m}={}}=Yr({v3LegacyAuthProviderCompatible:d}),h=u?d?U:I:!0;if(!u)return Ge.default.createElement(Ge.default.Fragment,null,r??null);if(P)return Ge.default.createElement(Ge.default.Fragment,null,n??null);if(h)return Ge.default.createElement(Ge.default.Fragment,null,r??null);{if(typeof s<"u")return Ge.default.createElement(Ge.default.Fragment,null,s??null);let S=d?typeof e=="string"?e:"/login":typeof e=="string"?e:m,T=`${c?g==null?void 0:g.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,"");if(S)if(c){let y=t?`?to=${encodeURIComponent(T)}`:"";return Ge.default.createElement(zu,{to:`${S}${y}`})}else return Ge.default.createElement(_u,{config:{to:S,query:t?{to:(L=p.params)!=null&&L.to?p.params.to:f({to:T,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}});return null}}o(Wu,"Authenticated");var _u=o(({config:e})=>{let t=Pe();return Ge.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),zu=o(({to:e})=>{let{replace:t}=Re();return Ge.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy");var Ti=v("react");var Ns=o(()=>{let{useLocation:e}=pe(),{checkAuth:t}=de(),r=e();return(0,Ti.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");var ct=k(v("react"));var ju=o(({resource:e,action:t,params:r,fallback:s,onUnauthorized:n,children:i,queryOptions:a,...u})=>{let{resource:d,id:c,action:p}=W(e),{identifier:f}=W(),g=o(()=>{let h=(r==null?void 0:r.id)??c;return e&&e!==f?r==null?void 0:r.id:h},"getDefaultId")(),P=e??(d==null?void 0:d.name),U=t??p??"",I=r??{id:g,resource:d},{data:m}=_a({resource:P,action:U,params:I,queryOptions:a});return(0,ct.useEffect)(()=>{n&&(m==null?void 0:m.can)===!1&&n({resource:P,action:U,reason:m==null?void 0:m.reason,params:I})},[m==null?void 0:m.can]),m!=null&&m.can?ct.default.isValidElement(i)?ct.default.cloneElement(i,u):ct.default.createElement(ct.default.Fragment,null,i):(m==null?void 0:m.can)===!1?ct.default.createElement(ct.default.Fragment,null,s??null):null},"CanAccess");var oe=k(v("react"));var Ri=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `];var Xu="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Zu=o(()=>((0,oe.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Ri.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),oe.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},oe.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},oe.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},oe.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},oe.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},oe.default.createElement(Co,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),oe.default.createElement(Co,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),oe.default.createElement(Pi,{style:{position:"absolute",right:"10px"},id:"3"})),oe.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},oe.default.createElement(Co,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),oe.default.createElement(Co,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),oe.default.createElement(Pi,{style:{position:"absolute",right:"-70px"},id:"6"})))),oe.default.createElement(Yu,{text:Xu})))),"GitHubBanner"),Yu=o(({text:e})=>oe.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},oe.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},oe.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),oe.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),oe.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Co=o(({style:e,...t})=>oe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},oe.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),oe.default.createElement("defs",null,oe.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},oe.default.createElement("stop",{stopColor:"#47EBEB"}),oe.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Pi=o(({style:e,...t})=>oe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},oe.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),oe.default.createElement("defs",null,oe.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},oe.default.createElement("stop",{stopColor:"#47EBEB"}),oe.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig");var Ne=k(v("react"));var Ju=o(({status:e,elements:{success:t=Ne.default.createElement(vo,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Ne.default.createElement(vo,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:s=Ne.default.createElement(vo,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:n=Ne.default.createElement(vo,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Ne.default.createElement(Ne.default.Fragment,null,t);case"error":return Ne.default.createElement(Ne.default.Fragment,null,r);case"loading":return Ne.default.createElement(Ne.default.Fragment,null,s);default:return Ne.default.createElement(Ne.default.Fragment,null,n)}},"AutoSaveIndicator"),vo=o(({key:e,defaultMessage:t})=>{let r=X();return Ne.default.createElement("span",null,r(e,t))},"Message");})();
//# sourceMappingURL=index.js.map